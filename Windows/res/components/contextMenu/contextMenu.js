"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window.ContextMenu={_className:"yuri2-context-menu",_stopProp:function(t){t.cancelable&&!t.defaultPrevented&&t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation()},_getMainContent:function(t){return t.replace(/<\/?.+?>/g,"")},render:function(t,e,l,c){c=c||"";var a,u,s=t.clientX,d=t.clientY;this._stopProp(t),this._removeContextMenu(),!0!==e&&("object"===_typeof(e)&&0===e.length&&(e=[["..."]]),a=$("<div class='"+ContextMenu._className+" "+c+"'><ul></ul></div>"),$("body").append(a),u=a.find("ul"),s+150>document.body.clientWidth&&(s-=150,u.addClass("left")),e.forEach(function(t){var e,n,o,i;"|"===t?u.append($("<hr/>")):"string"==typeof t?u.append($('<li><div class="title" title="'+ContextMenu._getMainContent(t)+'">'+t+"</div></li>")):"object"===_typeof(t)&&(e=$('<li><div class="title '+(!0===t[2]?"disable":"")+'" title="'+ContextMenu._getMainContent(t[0])+'">'+t[0]+"</div></li>"),u.append(e),"object"===_typeof(t[1])?(n=$("<div class='sub "+ContextMenu._className+" "+c+"'></div>"),o=$("<ul></ul>"),e.addClass("sub"),n.append(o),s+300>document.body.clientWidth&&n.addClass("left"),e.append(n),i=-1,t[1].forEach(function(t){var e;"|"===t?o.append($("<hr/>")):"string"==typeof t?(o.append($('<li><div class="title" title="'+ContextMenu._getMainContent(t)+'">'+t+"</div></li>")),i++):"object"===_typeof(t)&&(e=$('<li><div class="title '+(!0===t[2]?"disable":"")+'" title="'+ContextMenu._getMainContent(t[0])+'">'+t[0]+"</div></li>"),o.append(e),!0!==t[2]&&(e.click(l,t[1]),e.click(function(){ContextMenu._removeContextMenu()})),i++)}),d+a.height()>document.body.clientHeight&&0<document.body.clientHeight&&n.css("top","-"+30*i+"px")):"function"==typeof t[1]&&!0!==t[2]&&(e.click(l,t[1]),e.click(function(){ContextMenu._removeContextMenu()})))}),d+a.height()>document.body.clientHeight&&0<document.body.clientHeight&&(d-=a.height()),a.css({top:d,left:s}))},_removeContextMenu:function(){$("."+ContextMenu._className).remove()}},$(document).click(function(t){$(t.target).hasClass(ContextMenu._className)||0<$(t.target).parents("."+ContextMenu._className).length||ContextMenu._removeContextMenu()});